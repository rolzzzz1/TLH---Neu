function t1(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function n1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var yw={exports:{}},Bc={},vw={exports:{}},me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cl=Symbol.for("react.element"),r1=Symbol.for("react.portal"),i1=Symbol.for("react.fragment"),s1=Symbol.for("react.strict_mode"),o1=Symbol.for("react.profiler"),a1=Symbol.for("react.provider"),l1=Symbol.for("react.context"),u1=Symbol.for("react.forward_ref"),c1=Symbol.for("react.suspense"),h1=Symbol.for("react.memo"),d1=Symbol.for("react.lazy"),Ey=Symbol.iterator;function f1(t){return t===null||typeof t!="object"?null:(t=Ey&&t[Ey]||t["@@iterator"],typeof t=="function"?t:null)}var _w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ww=Object.assign,Ew={};function mo(t,e,n){this.props=t,this.context=e,this.refs=Ew,this.updater=n||_w}mo.prototype.isReactComponent={};mo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};mo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Tw(){}Tw.prototype=mo.prototype;function Em(t,e,n){this.props=t,this.context=e,this.refs=Ew,this.updater=n||_w}var Tm=Em.prototype=new Tw;Tm.constructor=Em;ww(Tm,mo.prototype);Tm.isPureReactComponent=!0;var Ty=Array.isArray,xw=Object.prototype.hasOwnProperty,xm={current:null},Iw={key:!0,ref:!0,__self:!0,__source:!0};function Sw(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)xw.call(e,r)&&!Iw.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:cl,type:t,key:s,ref:o,props:i,_owner:xm.current}}function m1(t,e){return{$$typeof:cl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Im(t){return typeof t=="object"&&t!==null&&t.$$typeof===cl}function p1(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var xy=/\/+/g;function qh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?p1(""+t.key):e.toString(36)}function vu(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case cl:case r1:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+qh(o,0):r,Ty(i)?(n="",t!=null&&(n=t.replace(xy,"$&/")+"/"),vu(i,e,n,"",function(c){return c})):i!=null&&(Im(i)&&(i=m1(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(xy,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Ty(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+qh(s,a);o+=vu(s,e,n,l,i)}else if(l=f1(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+qh(s,a++),o+=vu(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ql(t,e,n){if(t==null)return t;var r=[],i=0;return vu(t,r,"","",function(s){return e.call(n,s,i++)}),r}function g1(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ot={current:null},_u={transition:null},y1={ReactCurrentDispatcher:Ot,ReactCurrentBatchConfig:_u,ReactCurrentOwner:xm};function Aw(){throw Error("act(...) is not supported in production builds of React.")}me.Children={map:ql,forEach:function(t,e,n){ql(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ql(t,function(){e++}),e},toArray:function(t){return ql(t,function(e){return e})||[]},only:function(t){if(!Im(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};me.Component=mo;me.Fragment=i1;me.Profiler=o1;me.PureComponent=Em;me.StrictMode=s1;me.Suspense=c1;me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=y1;me.act=Aw;me.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=ww({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=xm.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)xw.call(e,l)&&!Iw.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:cl,type:t.type,key:i,ref:s,props:r,_owner:o}};me.createContext=function(t){return t={$$typeof:l1,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:a1,_context:t},t.Consumer=t};me.createElement=Sw;me.createFactory=function(t){var e=Sw.bind(null,t);return e.type=t,e};me.createRef=function(){return{current:null}};me.forwardRef=function(t){return{$$typeof:u1,render:t}};me.isValidElement=Im;me.lazy=function(t){return{$$typeof:d1,_payload:{_status:-1,_result:t},_init:g1}};me.memo=function(t,e){return{$$typeof:h1,type:t,compare:e===void 0?null:e}};me.startTransition=function(t){var e=_u.transition;_u.transition={};try{t()}finally{_u.transition=e}};me.unstable_act=Aw;me.useCallback=function(t,e){return Ot.current.useCallback(t,e)};me.useContext=function(t){return Ot.current.useContext(t)};me.useDebugValue=function(){};me.useDeferredValue=function(t){return Ot.current.useDeferredValue(t)};me.useEffect=function(t,e){return Ot.current.useEffect(t,e)};me.useId=function(){return Ot.current.useId()};me.useImperativeHandle=function(t,e,n){return Ot.current.useImperativeHandle(t,e,n)};me.useInsertionEffect=function(t,e){return Ot.current.useInsertionEffect(t,e)};me.useLayoutEffect=function(t,e){return Ot.current.useLayoutEffect(t,e)};me.useMemo=function(t,e){return Ot.current.useMemo(t,e)};me.useReducer=function(t,e,n){return Ot.current.useReducer(t,e,n)};me.useRef=function(t){return Ot.current.useRef(t)};me.useState=function(t){return Ot.current.useState(t)};me.useSyncExternalStore=function(t,e,n){return Ot.current.useSyncExternalStore(t,e,n)};me.useTransition=function(){return Ot.current.useTransition()};me.version="18.3.1";vw.exports=me;var B=vw.exports;const Vt=n1(B),v1=t1({__proto__:null,default:Vt},[B]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _1=B,w1=Symbol.for("react.element"),E1=Symbol.for("react.fragment"),T1=Object.prototype.hasOwnProperty,x1=_1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,I1={key:!0,ref:!0,__self:!0,__source:!0};function Pw(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)T1.call(e,r)&&!I1.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:w1,type:t,key:s,ref:o,props:i,_owner:x1.current}}Bc.Fragment=E1;Bc.jsx=Pw;Bc.jsxs=Pw;yw.exports=Bc;var N=yw.exports,jd={},Rw={exports:{}},ln={},Cw={exports:{}},Vw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(G,ne){var ae=G.length;G.push(ne);e:for(;0<ae;){var oe=ae-1>>>1,pe=G[oe];if(0<i(pe,ne))G[oe]=ne,G[ae]=pe,ae=oe;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var ne=G[0],ae=G.pop();if(ae!==ne){G[0]=ae;e:for(var oe=0,pe=G.length,Re=pe>>>1;oe<Re;){var Bt=2*(oe+1)-1,Pt=G[Bt],ht=Bt+1,vt=G[ht];if(0>i(Pt,ae))ht<pe&&0>i(vt,Pt)?(G[oe]=vt,G[ht]=ae,oe=ht):(G[oe]=Pt,G[Bt]=ae,oe=Bt);else if(ht<pe&&0>i(vt,ae))G[oe]=vt,G[ht]=ae,oe=ht;else break e}}return ne}function i(G,ne){var ae=G.sortIndex-ne.sortIndex;return ae!==0?ae:G.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],h=1,d=null,m=3,g=!1,E=!1,x=!1,R=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(G){for(var ne=n(c);ne!==null;){if(ne.callback===null)r(c);else if(ne.startTime<=G)r(c),ne.sortIndex=ne.expirationTime,e(l,ne);else break;ne=n(c)}}function D(G){if(x=!1,_(G),!E)if(n(l)!==null)E=!0,fe(L);else{var ne=n(c);ne!==null&&xe(D,ne.startTime-G)}}function L(G,ne){E=!1,x&&(x=!1,T(v),v=-1),g=!0;var ae=m;try{for(_(ne),d=n(l);d!==null&&(!(d.expirationTime>ne)||G&&!k());){var oe=d.callback;if(typeof oe=="function"){d.callback=null,m=d.priorityLevel;var pe=oe(d.expirationTime<=ne);ne=t.unstable_now(),typeof pe=="function"?d.callback=pe:d===n(l)&&r(l),_(ne)}else r(l);d=n(l)}if(d!==null)var Re=!0;else{var Bt=n(c);Bt!==null&&xe(D,Bt.startTime-ne),Re=!1}return Re}finally{d=null,m=ae,g=!1}}var U=!1,I=null,v=-1,S=5,P=-1;function k(){return!(t.unstable_now()-P<S)}function V(){if(I!==null){var G=t.unstable_now();P=G;var ne=!0;try{ne=I(!0,G)}finally{ne?A():(U=!1,I=null)}}else U=!1}var A;if(typeof y=="function")A=function(){y(V)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,Te=se.port2;se.port1.onmessage=V,A=function(){Te.postMessage(null)}}else A=function(){R(V,0)};function fe(G){I=G,U||(U=!0,A())}function xe(G,ne){v=R(function(){G(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_continueExecution=function(){E||g||(E=!0,fe(L))},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(G){switch(m){case 1:case 2:case 3:var ne=3;break;default:ne=m}var ae=m;m=ne;try{return G()}finally{m=ae}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(G,ne){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ae=m;m=G;try{return ne()}finally{m=ae}},t.unstable_scheduleCallback=function(G,ne,ae){var oe=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?oe+ae:oe):ae=oe,G){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=ae+pe,G={id:h++,callback:ne,priorityLevel:G,startTime:ae,expirationTime:pe,sortIndex:-1},ae>oe?(G.sortIndex=ae,e(c,G),n(l)===null&&G===n(c)&&(x?(T(v),v=-1):x=!0,xe(D,ae-oe))):(G.sortIndex=pe,e(l,G),E||g||(E=!0,fe(L))),G},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(G){var ne=m;return function(){var ae=m;m=ne;try{return G.apply(this,arguments)}finally{m=ae}}}})(Vw);Cw.exports=Vw;var S1=Cw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A1=B,sn=S1;function K(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var kw=new Set,ka={};function Qi(t,e){Hs(t,e),Hs(t+"Capture",e)}function Hs(t,e){for(ka[t]=e,t=0;t<e.length;t++)kw.add(e[t])}var ir=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bd=Object.prototype.hasOwnProperty,P1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Iy={},Sy={};function R1(t){return Bd.call(Sy,t)?!0:Bd.call(Iy,t)?!1:P1.test(t)?Sy[t]=!0:(Iy[t]=!0,!1)}function C1(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function V1(t,e,n,r){if(e===null||typeof e>"u"||C1(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function jt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var yt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){yt[t]=new jt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];yt[e]=new jt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){yt[t]=new jt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){yt[t]=new jt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){yt[t]=new jt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){yt[t]=new jt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){yt[t]=new jt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){yt[t]=new jt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){yt[t]=new jt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Sm=/[\-:]([a-z])/g;function Am(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Sm,Am);yt[e]=new jt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Sm,Am);yt[e]=new jt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Sm,Am);yt[e]=new jt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){yt[t]=new jt(t,1,!1,t.toLowerCase(),null,!1,!1)});yt.xlinkHref=new jt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){yt[t]=new jt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Pm(t,e,n,r){var i=yt.hasOwnProperty(e)?yt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(V1(e,n,i,r)&&(n=null),r||i===null?R1(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var hr=A1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Gl=Symbol.for("react.element"),Is=Symbol.for("react.portal"),Ss=Symbol.for("react.fragment"),Rm=Symbol.for("react.strict_mode"),Ud=Symbol.for("react.profiler"),Dw=Symbol.for("react.provider"),bw=Symbol.for("react.context"),Cm=Symbol.for("react.forward_ref"),zd=Symbol.for("react.suspense"),$d=Symbol.for("react.suspense_list"),Vm=Symbol.for("react.memo"),_r=Symbol.for("react.lazy"),Nw=Symbol.for("react.offscreen"),Ay=Symbol.iterator;function Oo(t){return t===null||typeof t!="object"?null:(t=Ay&&t[Ay]||t["@@iterator"],typeof t=="function"?t:null)}var Ke=Object.assign,Gh;function ta(t){if(Gh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Gh=e&&e[1]||""}return`
`+Gh+t}var Wh=!1;function Hh(t,e){if(!t||Wh)return"";Wh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Wh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ta(t):""}function k1(t){switch(t.tag){case 5:return ta(t.type);case 16:return ta("Lazy");case 13:return ta("Suspense");case 19:return ta("SuspenseList");case 0:case 2:case 15:return t=Hh(t.type,!1),t;case 11:return t=Hh(t.type.render,!1),t;case 1:return t=Hh(t.type,!0),t;default:return""}}function Kd(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ss:return"Fragment";case Is:return"Portal";case Ud:return"Profiler";case Rm:return"StrictMode";case zd:return"Suspense";case $d:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case bw:return(t.displayName||"Context")+".Consumer";case Dw:return(t._context.displayName||"Context")+".Provider";case Cm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Vm:return e=t.displayName||null,e!==null?e:Kd(t.type)||"Memo";case _r:e=t._payload,t=t._init;try{return Kd(t(e))}catch{}}return null}function D1(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Kd(e);case 8:return e===Rm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Kr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Mw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function b1(t){var e=Mw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Wl(t){t._valueTracker||(t._valueTracker=b1(t))}function Lw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Mw(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function zu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function qd(t,e){var n=e.checked;return Ke({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Py(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Kr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Fw(t,e){e=e.checked,e!=null&&Pm(t,"checked",e,!1)}function Gd(t,e){Fw(t,e);var n=Kr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Wd(t,e.type,n):e.hasOwnProperty("defaultValue")&&Wd(t,e.type,Kr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ry(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Wd(t,e,n){(e!=="number"||zu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var na=Array.isArray;function Bs(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Kr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Hd(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(K(91));return Ke({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Cy(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(K(92));if(na(n)){if(1<n.length)throw Error(K(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Kr(n)}}function Ow(t,e){var n=Kr(e.value),r=Kr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Vy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function jw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qd(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?jw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Hl,Bw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Hl=Hl||document.createElement("div"),Hl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Hl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Da(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ha={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},N1=["Webkit","ms","Moz","O"];Object.keys(ha).forEach(function(t){N1.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ha[e]=ha[t]})});function Uw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ha.hasOwnProperty(t)&&ha[t]?(""+e).trim():e+"px"}function zw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Uw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var M1=Ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Yd(t,e){if(e){if(M1[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(K(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(K(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(K(61))}if(e.style!=null&&typeof e.style!="object")throw Error(K(62))}}function Xd(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jd=null;function km(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Zd=null,Us=null,zs=null;function ky(t){if(t=fl(t)){if(typeof Zd!="function")throw Error(K(280));var e=t.stateNode;e&&(e=qc(e),Zd(t.stateNode,t.type,e))}}function $w(t){Us?zs?zs.push(t):zs=[t]:Us=t}function Kw(){if(Us){var t=Us,e=zs;if(zs=Us=null,ky(t),e)for(t=0;t<e.length;t++)ky(e[t])}}function qw(t,e){return t(e)}function Gw(){}var Qh=!1;function Ww(t,e,n){if(Qh)return t(e,n);Qh=!0;try{return qw(t,e,n)}finally{Qh=!1,(Us!==null||zs!==null)&&(Gw(),Kw())}}function ba(t,e){var n=t.stateNode;if(n===null)return null;var r=qc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(K(231,e,typeof n));return n}var ef=!1;if(ir)try{var jo={};Object.defineProperty(jo,"passive",{get:function(){ef=!0}}),window.addEventListener("test",jo,jo),window.removeEventListener("test",jo,jo)}catch{ef=!1}function L1(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var da=!1,$u=null,Ku=!1,tf=null,F1={onError:function(t){da=!0,$u=t}};function O1(t,e,n,r,i,s,o,a,l){da=!1,$u=null,L1.apply(F1,arguments)}function j1(t,e,n,r,i,s,o,a,l){if(O1.apply(this,arguments),da){if(da){var c=$u;da=!1,$u=null}else throw Error(K(198));Ku||(Ku=!0,tf=c)}}function Yi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Hw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Dy(t){if(Yi(t)!==t)throw Error(K(188))}function B1(t){var e=t.alternate;if(!e){if(e=Yi(t),e===null)throw Error(K(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Dy(i),t;if(s===r)return Dy(i),e;s=s.sibling}throw Error(K(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(K(189))}}if(n.alternate!==r)throw Error(K(190))}if(n.tag!==3)throw Error(K(188));return n.stateNode.current===n?t:e}function Qw(t){return t=B1(t),t!==null?Yw(t):null}function Yw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Yw(t);if(e!==null)return e;t=t.sibling}return null}var Xw=sn.unstable_scheduleCallback,by=sn.unstable_cancelCallback,U1=sn.unstable_shouldYield,z1=sn.unstable_requestPaint,He=sn.unstable_now,$1=sn.unstable_getCurrentPriorityLevel,Dm=sn.unstable_ImmediatePriority,Jw=sn.unstable_UserBlockingPriority,qu=sn.unstable_NormalPriority,K1=sn.unstable_LowPriority,Zw=sn.unstable_IdlePriority,Uc=null,Bn=null;function q1(t){if(Bn&&typeof Bn.onCommitFiberRoot=="function")try{Bn.onCommitFiberRoot(Uc,t,void 0,(t.current.flags&128)===128)}catch{}}var Cn=Math.clz32?Math.clz32:H1,G1=Math.log,W1=Math.LN2;function H1(t){return t>>>=0,t===0?32:31-(G1(t)/W1|0)|0}var Ql=64,Yl=4194304;function ra(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Gu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=ra(a):(s&=o,s!==0&&(r=ra(s)))}else o=n&~i,o!==0?r=ra(o):s!==0&&(r=ra(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Cn(e),i=1<<n,r|=t[n],e&=~i;return r}function Q1(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Y1(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Cn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=Q1(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function nf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function eE(){var t=Ql;return Ql<<=1,!(Ql&4194240)&&(Ql=64),t}function Yh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function hl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Cn(e),t[e]=n}function X1(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Cn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function bm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Cn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Se=0;function tE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var nE,Nm,rE,iE,sE,rf=!1,Xl=[],Vr=null,kr=null,Dr=null,Na=new Map,Ma=new Map,Tr=[],J1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ny(t,e){switch(t){case"focusin":case"focusout":Vr=null;break;case"dragenter":case"dragleave":kr=null;break;case"mouseover":case"mouseout":Dr=null;break;case"pointerover":case"pointerout":Na.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ma.delete(e.pointerId)}}function Bo(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=fl(e),e!==null&&Nm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Z1(t,e,n,r,i){switch(e){case"focusin":return Vr=Bo(Vr,t,e,n,r,i),!0;case"dragenter":return kr=Bo(kr,t,e,n,r,i),!0;case"mouseover":return Dr=Bo(Dr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Na.set(s,Bo(Na.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ma.set(s,Bo(Ma.get(s)||null,t,e,n,r,i)),!0}return!1}function oE(t){var e=Ii(t.target);if(e!==null){var n=Yi(e);if(n!==null){if(e=n.tag,e===13){if(e=Hw(n),e!==null){t.blockedOn=e,sE(t.priority,function(){rE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function wu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=sf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Jd=r,n.target.dispatchEvent(r),Jd=null}else return e=fl(n),e!==null&&Nm(e),t.blockedOn=n,!1;e.shift()}return!0}function My(t,e,n){wu(t)&&n.delete(e)}function eP(){rf=!1,Vr!==null&&wu(Vr)&&(Vr=null),kr!==null&&wu(kr)&&(kr=null),Dr!==null&&wu(Dr)&&(Dr=null),Na.forEach(My),Ma.forEach(My)}function Uo(t,e){t.blockedOn===e&&(t.blockedOn=null,rf||(rf=!0,sn.unstable_scheduleCallback(sn.unstable_NormalPriority,eP)))}function La(t){function e(i){return Uo(i,t)}if(0<Xl.length){Uo(Xl[0],t);for(var n=1;n<Xl.length;n++){var r=Xl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Vr!==null&&Uo(Vr,t),kr!==null&&Uo(kr,t),Dr!==null&&Uo(Dr,t),Na.forEach(e),Ma.forEach(e),n=0;n<Tr.length;n++)r=Tr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Tr.length&&(n=Tr[0],n.blockedOn===null);)oE(n),n.blockedOn===null&&Tr.shift()}var $s=hr.ReactCurrentBatchConfig,Wu=!0;function tP(t,e,n,r){var i=Se,s=$s.transition;$s.transition=null;try{Se=1,Mm(t,e,n,r)}finally{Se=i,$s.transition=s}}function nP(t,e,n,r){var i=Se,s=$s.transition;$s.transition=null;try{Se=4,Mm(t,e,n,r)}finally{Se=i,$s.transition=s}}function Mm(t,e,n,r){if(Wu){var i=sf(t,e,n,r);if(i===null)od(t,e,r,Hu,n),Ny(t,r);else if(Z1(i,t,e,n,r))r.stopPropagation();else if(Ny(t,r),e&4&&-1<J1.indexOf(t)){for(;i!==null;){var s=fl(i);if(s!==null&&nE(s),s=sf(t,e,n,r),s===null&&od(t,e,r,Hu,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else od(t,e,r,null,n)}}var Hu=null;function sf(t,e,n,r){if(Hu=null,t=km(r),t=Ii(t),t!==null)if(e=Yi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Hw(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Hu=t,null}function aE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($1()){case Dm:return 1;case Jw:return 4;case qu:case K1:return 16;case Zw:return 536870912;default:return 16}default:return 16}}var Ar=null,Lm=null,Eu=null;function lE(){if(Eu)return Eu;var t,e=Lm,n=e.length,r,i="value"in Ar?Ar.value:Ar.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Eu=i.slice(t,1<r?1-r:void 0)}function Tu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Jl(){return!0}function Ly(){return!1}function un(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Jl:Ly,this.isPropagationStopped=Ly,this}return Ke(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Jl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Jl)},persist:function(){},isPersistent:Jl}),e}var po={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fm=un(po),dl=Ke({},po,{view:0,detail:0}),rP=un(dl),Xh,Jh,zo,zc=Ke({},dl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Om,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==zo&&(zo&&t.type==="mousemove"?(Xh=t.screenX-zo.screenX,Jh=t.screenY-zo.screenY):Jh=Xh=0,zo=t),Xh)},movementY:function(t){return"movementY"in t?t.movementY:Jh}}),Fy=un(zc),iP=Ke({},zc,{dataTransfer:0}),sP=un(iP),oP=Ke({},dl,{relatedTarget:0}),Zh=un(oP),aP=Ke({},po,{animationName:0,elapsedTime:0,pseudoElement:0}),lP=un(aP),uP=Ke({},po,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),cP=un(uP),hP=Ke({},po,{data:0}),Oy=un(hP),dP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pP(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=mP[t])?!!e[t]:!1}function Om(){return pP}var gP=Ke({},dl,{key:function(t){if(t.key){var e=dP[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Tu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?fP[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Om,charCode:function(t){return t.type==="keypress"?Tu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Tu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),yP=un(gP),vP=Ke({},zc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jy=un(vP),_P=Ke({},dl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Om}),wP=un(_P),EP=Ke({},po,{propertyName:0,elapsedTime:0,pseudoElement:0}),TP=un(EP),xP=Ke({},zc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),IP=un(xP),SP=[9,13,27,32],jm=ir&&"CompositionEvent"in window,fa=null;ir&&"documentMode"in document&&(fa=document.documentMode);var AP=ir&&"TextEvent"in window&&!fa,uE=ir&&(!jm||fa&&8<fa&&11>=fa),By=" ",Uy=!1;function cE(t,e){switch(t){case"keyup":return SP.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var As=!1;function PP(t,e){switch(t){case"compositionend":return hE(e);case"keypress":return e.which!==32?null:(Uy=!0,By);case"textInput":return t=e.data,t===By&&Uy?null:t;default:return null}}function RP(t,e){if(As)return t==="compositionend"||!jm&&cE(t,e)?(t=lE(),Eu=Lm=Ar=null,As=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return uE&&e.locale!=="ko"?null:e.data;default:return null}}var CP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!CP[t.type]:e==="textarea"}function dE(t,e,n,r){$w(r),e=Qu(e,"onChange"),0<e.length&&(n=new Fm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ma=null,Fa=null;function VP(t){xE(t,0)}function $c(t){var e=Cs(t);if(Lw(e))return t}function kP(t,e){if(t==="change")return e}var fE=!1;if(ir){var ed;if(ir){var td="oninput"in document;if(!td){var $y=document.createElement("div");$y.setAttribute("oninput","return;"),td=typeof $y.oninput=="function"}ed=td}else ed=!1;fE=ed&&(!document.documentMode||9<document.documentMode)}function Ky(){ma&&(ma.detachEvent("onpropertychange",mE),Fa=ma=null)}function mE(t){if(t.propertyName==="value"&&$c(Fa)){var e=[];dE(e,Fa,t,km(t)),Ww(VP,e)}}function DP(t,e,n){t==="focusin"?(Ky(),ma=e,Fa=n,ma.attachEvent("onpropertychange",mE)):t==="focusout"&&Ky()}function bP(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return $c(Fa)}function NP(t,e){if(t==="click")return $c(e)}function MP(t,e){if(t==="input"||t==="change")return $c(e)}function LP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var kn=typeof Object.is=="function"?Object.is:LP;function Oa(t,e){if(kn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Bd.call(e,i)||!kn(t[i],e[i]))return!1}return!0}function qy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Gy(t,e){var n=qy(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=qy(n)}}function pE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?pE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function gE(){for(var t=window,e=zu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=zu(t.document)}return e}function Bm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function FP(t){var e=gE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&pE(n.ownerDocument.documentElement,n)){if(r!==null&&Bm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Gy(n,s);var o=Gy(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var OP=ir&&"documentMode"in document&&11>=document.documentMode,Ps=null,of=null,pa=null,af=!1;function Wy(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;af||Ps==null||Ps!==zu(r)||(r=Ps,"selectionStart"in r&&Bm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),pa&&Oa(pa,r)||(pa=r,r=Qu(of,"onSelect"),0<r.length&&(e=new Fm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ps)))}function Zl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Rs={animationend:Zl("Animation","AnimationEnd"),animationiteration:Zl("Animation","AnimationIteration"),animationstart:Zl("Animation","AnimationStart"),transitionend:Zl("Transition","TransitionEnd")},nd={},yE={};ir&&(yE=document.createElement("div").style,"AnimationEvent"in window||(delete Rs.animationend.animation,delete Rs.animationiteration.animation,delete Rs.animationstart.animation),"TransitionEvent"in window||delete Rs.transitionend.transition);function Kc(t){if(nd[t])return nd[t];if(!Rs[t])return t;var e=Rs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in yE)return nd[t]=e[n];return t}var vE=Kc("animationend"),_E=Kc("animationiteration"),wE=Kc("animationstart"),EE=Kc("transitionend"),TE=new Map,Hy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xr(t,e){TE.set(t,e),Qi(e,[t])}for(var rd=0;rd<Hy.length;rd++){var id=Hy[rd],jP=id.toLowerCase(),BP=id[0].toUpperCase()+id.slice(1);Xr(jP,"on"+BP)}Xr(vE,"onAnimationEnd");Xr(_E,"onAnimationIteration");Xr(wE,"onAnimationStart");Xr("dblclick","onDoubleClick");Xr("focusin","onFocus");Xr("focusout","onBlur");Xr(EE,"onTransitionEnd");Hs("onMouseEnter",["mouseout","mouseover"]);Hs("onMouseLeave",["mouseout","mouseover"]);Hs("onPointerEnter",["pointerout","pointerover"]);Hs("onPointerLeave",["pointerout","pointerover"]);Qi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ia="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UP=new Set("cancel close invalid load scroll toggle".split(" ").concat(ia));function Qy(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,j1(r,e,void 0,t),t.currentTarget=null}function xE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Qy(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Qy(i,a,c),s=l}}}if(Ku)throw t=tf,Ku=!1,tf=null,t}function De(t,e){var n=e[df];n===void 0&&(n=e[df]=new Set);var r=t+"__bubble";n.has(r)||(IE(e,t,2,!1),n.add(r))}function sd(t,e,n){var r=0;e&&(r|=4),IE(n,t,r,e)}var eu="_reactListening"+Math.random().toString(36).slice(2);function ja(t){if(!t[eu]){t[eu]=!0,kw.forEach(function(n){n!=="selectionchange"&&(UP.has(n)||sd(n,!1,t),sd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[eu]||(e[eu]=!0,sd("selectionchange",!1,e))}}function IE(t,e,n,r){switch(aE(e)){case 1:var i=tP;break;case 4:i=nP;break;default:i=Mm}n=i.bind(null,e,n,t),i=void 0,!ef||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function od(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ii(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Ww(function(){var c=s,h=km(n),d=[];e:{var m=TE.get(t);if(m!==void 0){var g=Fm,E=t;switch(t){case"keypress":if(Tu(n)===0)break e;case"keydown":case"keyup":g=yP;break;case"focusin":E="focus",g=Zh;break;case"focusout":E="blur",g=Zh;break;case"beforeblur":case"afterblur":g=Zh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Fy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=sP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=wP;break;case vE:case _E:case wE:g=lP;break;case EE:g=TP;break;case"scroll":g=rP;break;case"wheel":g=IP;break;case"copy":case"cut":case"paste":g=cP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=jy}var x=(e&4)!==0,R=!x&&t==="scroll",T=x?m!==null?m+"Capture":null:m;x=[];for(var y=c,_;y!==null;){_=y;var D=_.stateNode;if(_.tag===5&&D!==null&&(_=D,T!==null&&(D=ba(y,T),D!=null&&x.push(Ba(y,D,_)))),R)break;y=y.return}0<x.length&&(m=new g(m,E,null,n,h),d.push({event:m,listeners:x}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",m&&n!==Jd&&(E=n.relatedTarget||n.fromElement)&&(Ii(E)||E[sr]))break e;if((g||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,g?(E=n.relatedTarget||n.toElement,g=c,E=E?Ii(E):null,E!==null&&(R=Yi(E),E!==R||E.tag!==5&&E.tag!==6)&&(E=null)):(g=null,E=c),g!==E)){if(x=Fy,D="onMouseLeave",T="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(x=jy,D="onPointerLeave",T="onPointerEnter",y="pointer"),R=g==null?m:Cs(g),_=E==null?m:Cs(E),m=new x(D,y+"leave",g,n,h),m.target=R,m.relatedTarget=_,D=null,Ii(h)===c&&(x=new x(T,y+"enter",E,n,h),x.target=_,x.relatedTarget=R,D=x),R=D,g&&E)t:{for(x=g,T=E,y=0,_=x;_;_=ds(_))y++;for(_=0,D=T;D;D=ds(D))_++;for(;0<y-_;)x=ds(x),y--;for(;0<_-y;)T=ds(T),_--;for(;y--;){if(x===T||T!==null&&x===T.alternate)break t;x=ds(x),T=ds(T)}x=null}else x=null;g!==null&&Yy(d,m,g,x,!1),E!==null&&R!==null&&Yy(d,R,E,x,!0)}}e:{if(m=c?Cs(c):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var L=kP;else if(zy(m))if(fE)L=MP;else{L=bP;var U=DP}else(g=m.nodeName)&&g.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(L=NP);if(L&&(L=L(t,c))){dE(d,L,n,h);break e}U&&U(t,m,c),t==="focusout"&&(U=m._wrapperState)&&U.controlled&&m.type==="number"&&Wd(m,"number",m.value)}switch(U=c?Cs(c):window,t){case"focusin":(zy(U)||U.contentEditable==="true")&&(Ps=U,of=c,pa=null);break;case"focusout":pa=of=Ps=null;break;case"mousedown":af=!0;break;case"contextmenu":case"mouseup":case"dragend":af=!1,Wy(d,n,h);break;case"selectionchange":if(OP)break;case"keydown":case"keyup":Wy(d,n,h)}var I;if(jm)e:{switch(t){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else As?cE(t,n)&&(v="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(v="onCompositionStart");v&&(uE&&n.locale!=="ko"&&(As||v!=="onCompositionStart"?v==="onCompositionEnd"&&As&&(I=lE()):(Ar=h,Lm="value"in Ar?Ar.value:Ar.textContent,As=!0)),U=Qu(c,v),0<U.length&&(v=new Oy(v,t,null,n,h),d.push({event:v,listeners:U}),I?v.data=I:(I=hE(n),I!==null&&(v.data=I)))),(I=AP?PP(t,n):RP(t,n))&&(c=Qu(c,"onBeforeInput"),0<c.length&&(h=new Oy("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:c}),h.data=I))}xE(d,e)})}function Ba(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Qu(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ba(t,n),s!=null&&r.unshift(Ba(t,s,i)),s=ba(t,e),s!=null&&r.push(Ba(t,s,i))),t=t.return}return r}function ds(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Yy(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=ba(n,s),l!=null&&o.unshift(Ba(n,l,a))):i||(l=ba(n,s),l!=null&&o.push(Ba(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var zP=/\r\n?/g,$P=/\u0000|\uFFFD/g;function Xy(t){return(typeof t=="string"?t:""+t).replace(zP,`
`).replace($P,"")}function tu(t,e,n){if(e=Xy(e),Xy(t)!==e&&n)throw Error(K(425))}function Yu(){}var lf=null,uf=null;function cf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var hf=typeof setTimeout=="function"?setTimeout:void 0,KP=typeof clearTimeout=="function"?clearTimeout:void 0,Jy=typeof Promise=="function"?Promise:void 0,qP=typeof queueMicrotask=="function"?queueMicrotask:typeof Jy<"u"?function(t){return Jy.resolve(null).then(t).catch(GP)}:hf;function GP(t){setTimeout(function(){throw t})}function ad(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),La(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);La(e)}function br(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Zy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var go=Math.random().toString(36).slice(2),Ln="__reactFiber$"+go,Ua="__reactProps$"+go,sr="__reactContainer$"+go,df="__reactEvents$"+go,WP="__reactListeners$"+go,HP="__reactHandles$"+go;function Ii(t){var e=t[Ln];if(e)return e;for(var n=t.parentNode;n;){if(e=n[sr]||n[Ln]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Zy(t);t!==null;){if(n=t[Ln])return n;t=Zy(t)}return e}t=n,n=t.parentNode}return null}function fl(t){return t=t[Ln]||t[sr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Cs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(K(33))}function qc(t){return t[Ua]||null}var ff=[],Vs=-1;function Jr(t){return{current:t}}function be(t){0>Vs||(t.current=ff[Vs],ff[Vs]=null,Vs--)}function Ve(t,e){Vs++,ff[Vs]=t.current,t.current=e}var qr={},At=Jr(qr),Wt=Jr(!1),Mi=qr;function Qs(t,e){var n=t.type.contextTypes;if(!n)return qr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ht(t){return t=t.childContextTypes,t!=null}function Xu(){be(Wt),be(At)}function ev(t,e,n){if(At.current!==qr)throw Error(K(168));Ve(At,e),Ve(Wt,n)}function SE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(K(108,D1(t)||"Unknown",i));return Ke({},n,r)}function Ju(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||qr,Mi=At.current,Ve(At,t),Ve(Wt,Wt.current),!0}function tv(t,e,n){var r=t.stateNode;if(!r)throw Error(K(169));n?(t=SE(t,e,Mi),r.__reactInternalMemoizedMergedChildContext=t,be(Wt),be(At),Ve(At,t)):be(Wt),Ve(Wt,n)}var Yn=null,Gc=!1,ld=!1;function AE(t){Yn===null?Yn=[t]:Yn.push(t)}function QP(t){Gc=!0,AE(t)}function Zr(){if(!ld&&Yn!==null){ld=!0;var t=0,e=Se;try{var n=Yn;for(Se=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Yn=null,Gc=!1}catch(i){throw Yn!==null&&(Yn=Yn.slice(t+1)),Xw(Dm,Zr),i}finally{Se=e,ld=!1}}return null}var ks=[],Ds=0,Zu=null,ec=0,dn=[],fn=0,Li=null,Xn=1,Jn="";function mi(t,e){ks[Ds++]=ec,ks[Ds++]=Zu,Zu=t,ec=e}function PE(t,e,n){dn[fn++]=Xn,dn[fn++]=Jn,dn[fn++]=Li,Li=t;var r=Xn;t=Jn;var i=32-Cn(r)-1;r&=~(1<<i),n+=1;var s=32-Cn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Xn=1<<32-Cn(e)+i|n<<i|r,Jn=s+t}else Xn=1<<s|n<<i|r,Jn=t}function Um(t){t.return!==null&&(mi(t,1),PE(t,1,0))}function zm(t){for(;t===Zu;)Zu=ks[--Ds],ks[Ds]=null,ec=ks[--Ds],ks[Ds]=null;for(;t===Li;)Li=dn[--fn],dn[fn]=null,Jn=dn[--fn],dn[fn]=null,Xn=dn[--fn],dn[fn]=null}var rn=null,en=null,Fe=!1,An=null;function RE(t,e){var n=mn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function nv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,rn=t,en=br(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,rn=t,en=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Li!==null?{id:Xn,overflow:Jn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=mn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,rn=t,en=null,!0):!1;default:return!1}}function mf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function pf(t){if(Fe){var e=en;if(e){var n=e;if(!nv(t,e)){if(mf(t))throw Error(K(418));e=br(n.nextSibling);var r=rn;e&&nv(t,e)?RE(r,n):(t.flags=t.flags&-4097|2,Fe=!1,rn=t)}}else{if(mf(t))throw Error(K(418));t.flags=t.flags&-4097|2,Fe=!1,rn=t}}}function rv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;rn=t}function nu(t){if(t!==rn)return!1;if(!Fe)return rv(t),Fe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!cf(t.type,t.memoizedProps)),e&&(e=en)){if(mf(t))throw CE(),Error(K(418));for(;e;)RE(t,e),e=br(e.nextSibling)}if(rv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(K(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){en=br(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}en=null}}else en=rn?br(t.stateNode.nextSibling):null;return!0}function CE(){for(var t=en;t;)t=br(t.nextSibling)}function Ys(){en=rn=null,Fe=!1}function $m(t){An===null?An=[t]:An.push(t)}var YP=hr.ReactCurrentBatchConfig;function $o(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(K(309));var r=n.stateNode}if(!r)throw Error(K(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(K(284));if(!n._owner)throw Error(K(290,t))}return t}function ru(t,e){throw t=Object.prototype.toString.call(e),Error(K(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function iv(t){var e=t._init;return e(t._payload)}function VE(t){function e(T,y){if(t){var _=T.deletions;_===null?(T.deletions=[y],T.flags|=16):_.push(y)}}function n(T,y){if(!t)return null;for(;y!==null;)e(T,y),y=y.sibling;return null}function r(T,y){for(T=new Map;y!==null;)y.key!==null?T.set(y.key,y):T.set(y.index,y),y=y.sibling;return T}function i(T,y){return T=Fr(T,y),T.index=0,T.sibling=null,T}function s(T,y,_){return T.index=_,t?(_=T.alternate,_!==null?(_=_.index,_<y?(T.flags|=2,y):_):(T.flags|=2,y)):(T.flags|=1048576,y)}function o(T){return t&&T.alternate===null&&(T.flags|=2),T}function a(T,y,_,D){return y===null||y.tag!==6?(y=pd(_,T.mode,D),y.return=T,y):(y=i(y,_),y.return=T,y)}function l(T,y,_,D){var L=_.type;return L===Ss?h(T,y,_.props.children,D,_.key):y!==null&&(y.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===_r&&iv(L)===y.type)?(D=i(y,_.props),D.ref=$o(T,y,_),D.return=T,D):(D=Cu(_.type,_.key,_.props,null,T.mode,D),D.ref=$o(T,y,_),D.return=T,D)}function c(T,y,_,D){return y===null||y.tag!==4||y.stateNode.containerInfo!==_.containerInfo||y.stateNode.implementation!==_.implementation?(y=gd(_,T.mode,D),y.return=T,y):(y=i(y,_.children||[]),y.return=T,y)}function h(T,y,_,D,L){return y===null||y.tag!==7?(y=ki(_,T.mode,D,L),y.return=T,y):(y=i(y,_),y.return=T,y)}function d(T,y,_){if(typeof y=="string"&&y!==""||typeof y=="number")return y=pd(""+y,T.mode,_),y.return=T,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Gl:return _=Cu(y.type,y.key,y.props,null,T.mode,_),_.ref=$o(T,null,y),_.return=T,_;case Is:return y=gd(y,T.mode,_),y.return=T,y;case _r:var D=y._init;return d(T,D(y._payload),_)}if(na(y)||Oo(y))return y=ki(y,T.mode,_,null),y.return=T,y;ru(T,y)}return null}function m(T,y,_,D){var L=y!==null?y.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return L!==null?null:a(T,y,""+_,D);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Gl:return _.key===L?l(T,y,_,D):null;case Is:return _.key===L?c(T,y,_,D):null;case _r:return L=_._init,m(T,y,L(_._payload),D)}if(na(_)||Oo(_))return L!==null?null:h(T,y,_,D,null);ru(T,_)}return null}function g(T,y,_,D,L){if(typeof D=="string"&&D!==""||typeof D=="number")return T=T.get(_)||null,a(y,T,""+D,L);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Gl:return T=T.get(D.key===null?_:D.key)||null,l(y,T,D,L);case Is:return T=T.get(D.key===null?_:D.key)||null,c(y,T,D,L);case _r:var U=D._init;return g(T,y,_,U(D._payload),L)}if(na(D)||Oo(D))return T=T.get(_)||null,h(y,T,D,L,null);ru(y,D)}return null}function E(T,y,_,D){for(var L=null,U=null,I=y,v=y=0,S=null;I!==null&&v<_.length;v++){I.index>v?(S=I,I=null):S=I.sibling;var P=m(T,I,_[v],D);if(P===null){I===null&&(I=S);break}t&&I&&P.alternate===null&&e(T,I),y=s(P,y,v),U===null?L=P:U.sibling=P,U=P,I=S}if(v===_.length)return n(T,I),Fe&&mi(T,v),L;if(I===null){for(;v<_.length;v++)I=d(T,_[v],D),I!==null&&(y=s(I,y,v),U===null?L=I:U.sibling=I,U=I);return Fe&&mi(T,v),L}for(I=r(T,I);v<_.length;v++)S=g(I,T,v,_[v],D),S!==null&&(t&&S.alternate!==null&&I.delete(S.key===null?v:S.key),y=s(S,y,v),U===null?L=S:U.sibling=S,U=S);return t&&I.forEach(function(k){return e(T,k)}),Fe&&mi(T,v),L}function x(T,y,_,D){var L=Oo(_);if(typeof L!="function")throw Error(K(150));if(_=L.call(_),_==null)throw Error(K(151));for(var U=L=null,I=y,v=y=0,S=null,P=_.next();I!==null&&!P.done;v++,P=_.next()){I.index>v?(S=I,I=null):S=I.sibling;var k=m(T,I,P.value,D);if(k===null){I===null&&(I=S);break}t&&I&&k.alternate===null&&e(T,I),y=s(k,y,v),U===null?L=k:U.sibling=k,U=k,I=S}if(P.done)return n(T,I),Fe&&mi(T,v),L;if(I===null){for(;!P.done;v++,P=_.next())P=d(T,P.value,D),P!==null&&(y=s(P,y,v),U===null?L=P:U.sibling=P,U=P);return Fe&&mi(T,v),L}for(I=r(T,I);!P.done;v++,P=_.next())P=g(I,T,v,P.value,D),P!==null&&(t&&P.alternate!==null&&I.delete(P.key===null?v:P.key),y=s(P,y,v),U===null?L=P:U.sibling=P,U=P);return t&&I.forEach(function(V){return e(T,V)}),Fe&&mi(T,v),L}function R(T,y,_,D){if(typeof _=="object"&&_!==null&&_.type===Ss&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Gl:e:{for(var L=_.key,U=y;U!==null;){if(U.key===L){if(L=_.type,L===Ss){if(U.tag===7){n(T,U.sibling),y=i(U,_.props.children),y.return=T,T=y;break e}}else if(U.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===_r&&iv(L)===U.type){n(T,U.sibling),y=i(U,_.props),y.ref=$o(T,U,_),y.return=T,T=y;break e}n(T,U);break}else e(T,U);U=U.sibling}_.type===Ss?(y=ki(_.props.children,T.mode,D,_.key),y.return=T,T=y):(D=Cu(_.type,_.key,_.props,null,T.mode,D),D.ref=$o(T,y,_),D.return=T,T=D)}return o(T);case Is:e:{for(U=_.key;y!==null;){if(y.key===U)if(y.tag===4&&y.stateNode.containerInfo===_.containerInfo&&y.stateNode.implementation===_.implementation){n(T,y.sibling),y=i(y,_.children||[]),y.return=T,T=y;break e}else{n(T,y);break}else e(T,y);y=y.sibling}y=gd(_,T.mode,D),y.return=T,T=y}return o(T);case _r:return U=_._init,R(T,y,U(_._payload),D)}if(na(_))return E(T,y,_,D);if(Oo(_))return x(T,y,_,D);ru(T,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,y!==null&&y.tag===6?(n(T,y.sibling),y=i(y,_),y.return=T,T=y):(n(T,y),y=pd(_,T.mode,D),y.return=T,T=y),o(T)):n(T,y)}return R}var Xs=VE(!0),kE=VE(!1),tc=Jr(null),nc=null,bs=null,Km=null;function qm(){Km=bs=nc=null}function Gm(t){var e=tc.current;be(tc),t._currentValue=e}function gf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ks(t,e){nc=t,Km=bs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Gt=!0),t.firstContext=null)}function wn(t){var e=t._currentValue;if(Km!==t)if(t={context:t,memoizedValue:e,next:null},bs===null){if(nc===null)throw Error(K(308));bs=t,nc.dependencies={lanes:0,firstContext:t}}else bs=bs.next=t;return e}var Si=null;function Wm(t){Si===null?Si=[t]:Si.push(t)}function DE(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Wm(e)):(n.next=i.next,i.next=n),e.interleaved=n,or(t,r)}function or(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var wr=!1;function Hm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function tr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Nr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,_e&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,or(t,n)}return i=r.interleaved,i===null?(e.next=e,Wm(r)):(e.next=i.next,i.next=e),r.interleaved=e,or(t,n)}function xu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,bm(t,n)}}function sv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function rc(t,e,n,r){var i=t.updateQueue;wr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,h=c=l=null,a=s;do{var m=a.lane,g=a.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var E=t,x=a;switch(m=e,g=n,x.tag){case 1:if(E=x.payload,typeof E=="function"){d=E.call(g,d,m);break e}d=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=x.payload,m=typeof E=="function"?E.call(g,d,m):E,m==null)break e;d=Ke({},d,m);break e;case 2:wr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[a]:m.push(a))}else g={eventTime:g,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=g,l=d):h=h.next=g,o|=m;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;m=a,a=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(h===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Oi|=o,t.lanes=o,t.memoizedState=d}}function ov(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(K(191,i));i.call(r)}}}var ml={},Un=Jr(ml),za=Jr(ml),$a=Jr(ml);function Ai(t){if(t===ml)throw Error(K(174));return t}function Qm(t,e){switch(Ve($a,e),Ve(za,t),Ve(Un,ml),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Qd(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Qd(e,t)}be(Un),Ve(Un,e)}function Js(){be(Un),be(za),be($a)}function NE(t){Ai($a.current);var e=Ai(Un.current),n=Qd(e,t.type);e!==n&&(Ve(za,t),Ve(Un,n))}function Ym(t){za.current===t&&(be(Un),be(za))}var je=Jr(0);function ic(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ud=[];function Xm(){for(var t=0;t<ud.length;t++)ud[t]._workInProgressVersionPrimary=null;ud.length=0}var Iu=hr.ReactCurrentDispatcher,cd=hr.ReactCurrentBatchConfig,Fi=0,ze=null,it=null,ut=null,sc=!1,ga=!1,Ka=0,XP=0;function Et(){throw Error(K(321))}function Jm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!kn(t[n],e[n]))return!1;return!0}function Zm(t,e,n,r,i,s){if(Fi=s,ze=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Iu.current=t===null||t.memoizedState===null?tR:nR,t=n(r,i),ga){s=0;do{if(ga=!1,Ka=0,25<=s)throw Error(K(301));s+=1,ut=it=null,e.updateQueue=null,Iu.current=rR,t=n(r,i)}while(ga)}if(Iu.current=oc,e=it!==null&&it.next!==null,Fi=0,ut=it=ze=null,sc=!1,e)throw Error(K(300));return t}function ep(){var t=Ka!==0;return Ka=0,t}function Nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ut===null?ze.memoizedState=ut=t:ut=ut.next=t,ut}function En(){if(it===null){var t=ze.alternate;t=t!==null?t.memoizedState:null}else t=it.next;var e=ut===null?ze.memoizedState:ut.next;if(e!==null)ut=e,it=t;else{if(t===null)throw Error(K(310));it=t,t={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},ut===null?ze.memoizedState=ut=t:ut=ut.next=t}return ut}function qa(t,e){return typeof e=="function"?e(t):e}function hd(t){var e=En(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var r=it,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var h=c.lane;if((Fi&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,ze.lanes|=h,Oi|=h}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,kn(r,e.memoizedState)||(Gt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,ze.lanes|=s,Oi|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function dd(t){var e=En(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);kn(s,e.memoizedState)||(Gt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function ME(){}function LE(t,e){var n=ze,r=En(),i=e(),s=!kn(r.memoizedState,i);if(s&&(r.memoizedState=i,Gt=!0),r=r.queue,tp(jE.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||ut!==null&&ut.memoizedState.tag&1){if(n.flags|=2048,Ga(9,OE.bind(null,n,r,i,e),void 0,null),ct===null)throw Error(K(349));Fi&30||FE(n,e,i)}return i}function FE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ze.updateQueue,e===null?(e={lastEffect:null,stores:null},ze.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function OE(t,e,n,r){e.value=n,e.getSnapshot=r,BE(e)&&UE(t)}function jE(t,e,n){return n(function(){BE(e)&&UE(t)})}function BE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!kn(t,n)}catch{return!0}}function UE(t){var e=or(t,1);e!==null&&Vn(e,t,1,-1)}function av(t){var e=Nn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qa,lastRenderedState:t},e.queue=t,t=t.dispatch=eR.bind(null,ze,t),[e.memoizedState,t]}function Ga(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ze.updateQueue,e===null?(e={lastEffect:null,stores:null},ze.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function zE(){return En().memoizedState}function Su(t,e,n,r){var i=Nn();ze.flags|=t,i.memoizedState=Ga(1|e,n,void 0,r===void 0?null:r)}function Wc(t,e,n,r){var i=En();r=r===void 0?null:r;var s=void 0;if(it!==null){var o=it.memoizedState;if(s=o.destroy,r!==null&&Jm(r,o.deps)){i.memoizedState=Ga(e,n,s,r);return}}ze.flags|=t,i.memoizedState=Ga(1|e,n,s,r)}function lv(t,e){return Su(8390656,8,t,e)}function tp(t,e){return Wc(2048,8,t,e)}function $E(t,e){return Wc(4,2,t,e)}function KE(t,e){return Wc(4,4,t,e)}function qE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function GE(t,e,n){return n=n!=null?n.concat([t]):null,Wc(4,4,qE.bind(null,e,t),n)}function np(){}function WE(t,e){var n=En();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Jm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function HE(t,e){var n=En();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Jm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function QE(t,e,n){return Fi&21?(kn(n,e)||(n=eE(),ze.lanes|=n,Oi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Gt=!0),t.memoizedState=n)}function JP(t,e){var n=Se;Se=n!==0&&4>n?n:4,t(!0);var r=cd.transition;cd.transition={};try{t(!1),e()}finally{Se=n,cd.transition=r}}function YE(){return En().memoizedState}function ZP(t,e,n){var r=Lr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},XE(t))JE(e,n);else if(n=DE(t,e,n,r),n!==null){var i=Mt();Vn(n,t,r,i),ZE(n,e,r)}}function eR(t,e,n){var r=Lr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(XE(t))JE(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,kn(a,o)){var l=e.interleaved;l===null?(i.next=i,Wm(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=DE(t,e,i,r),n!==null&&(i=Mt(),Vn(n,t,r,i),ZE(n,e,r))}}function XE(t){var e=t.alternate;return t===ze||e!==null&&e===ze}function JE(t,e){ga=sc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ZE(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,bm(t,n)}}var oc={readContext:wn,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useInsertionEffect:Et,useLayoutEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useMutableSource:Et,useSyncExternalStore:Et,useId:Et,unstable_isNewReconciler:!1},tR={readContext:wn,useCallback:function(t,e){return Nn().memoizedState=[t,e===void 0?null:e],t},useContext:wn,useEffect:lv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Su(4194308,4,qE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Su(4194308,4,t,e)},useInsertionEffect:function(t,e){return Su(4,2,t,e)},useMemo:function(t,e){var n=Nn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Nn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=ZP.bind(null,ze,t),[r.memoizedState,t]},useRef:function(t){var e=Nn();return t={current:t},e.memoizedState=t},useState:av,useDebugValue:np,useDeferredValue:function(t){return Nn().memoizedState=t},useTransition:function(){var t=av(!1),e=t[0];return t=JP.bind(null,t[1]),Nn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ze,i=Nn();if(Fe){if(n===void 0)throw Error(K(407));n=n()}else{if(n=e(),ct===null)throw Error(K(349));Fi&30||FE(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,lv(jE.bind(null,r,s,t),[t]),r.flags|=2048,Ga(9,OE.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Nn(),e=ct.identifierPrefix;if(Fe){var n=Jn,r=Xn;n=(r&~(1<<32-Cn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ka++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=XP++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},nR={readContext:wn,useCallback:WE,useContext:wn,useEffect:tp,useImperativeHandle:GE,useInsertionEffect:$E,useLayoutEffect:KE,useMemo:HE,useReducer:hd,useRef:zE,useState:function(){return hd(qa)},useDebugValue:np,useDeferredValue:function(t){var e=En();return QE(e,it.memoizedState,t)},useTransition:function(){var t=hd(qa)[0],e=En().memoizedState;return[t,e]},useMutableSource:ME,useSyncExternalStore:LE,useId:YE,unstable_isNewReconciler:!1},rR={readContext:wn,useCallback:WE,useContext:wn,useEffect:tp,useImperativeHandle:GE,useInsertionEffect:$E,useLayoutEffect:KE,useMemo:HE,useReducer:dd,useRef:zE,useState:function(){return dd(qa)},useDebugValue:np,useDeferredValue:function(t){var e=En();return it===null?e.memoizedState=t:QE(e,it.memoizedState,t)},useTransition:function(){var t=dd(qa)[0],e=En().memoizedState;return[t,e]},useMutableSource:ME,useSyncExternalStore:LE,useId:YE,unstable_isNewReconciler:!1};function In(t,e){if(t&&t.defaultProps){e=Ke({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function yf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ke({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Hc={isMounted:function(t){return(t=t._reactInternals)?Yi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Mt(),i=Lr(t),s=tr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Nr(t,s,i),e!==null&&(Vn(e,t,i,r),xu(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Mt(),i=Lr(t),s=tr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Nr(t,s,i),e!==null&&(Vn(e,t,i,r),xu(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Mt(),r=Lr(t),i=tr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Nr(t,i,r),e!==null&&(Vn(e,t,r,n),xu(e,t,r))}};function uv(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Oa(n,r)||!Oa(i,s):!0}function eT(t,e,n){var r=!1,i=qr,s=e.contextType;return typeof s=="object"&&s!==null?s=wn(s):(i=Ht(e)?Mi:At.current,r=e.contextTypes,s=(r=r!=null)?Qs(t,i):qr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Hc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function cv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Hc.enqueueReplaceState(e,e.state,null)}function vf(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Hm(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=wn(s):(s=Ht(e)?Mi:At.current,i.context=Qs(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(yf(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Hc.enqueueReplaceState(i,i.state,null),rc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Zs(t,e){try{var n="",r=e;do n+=k1(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function fd(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function _f(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var iR=typeof WeakMap=="function"?WeakMap:Map;function tT(t,e,n){n=tr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){lc||(lc=!0,Cf=r),_f(t,e)},n}function nT(t,e,n){n=tr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){_f(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){_f(t,e),typeof r!="function"&&(Mr===null?Mr=new Set([this]):Mr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function hv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new iR;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=vR.bind(null,t,e,n),e.then(t,t))}function dv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function fv(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=tr(-1,1),e.tag=2,Nr(n,e,1))),n.lanes|=1),t)}var sR=hr.ReactCurrentOwner,Gt=!1;function Dt(t,e,n,r){e.child=t===null?kE(e,null,n,r):Xs(e,t.child,n,r)}function mv(t,e,n,r,i){n=n.render;var s=e.ref;return Ks(e,i),r=Zm(t,e,n,r,s,i),n=ep(),t!==null&&!Gt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ar(t,e,i)):(Fe&&n&&Um(e),e.flags|=1,Dt(t,e,r,i),e.child)}function pv(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!cp(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,rT(t,e,s,r,i)):(t=Cu(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Oa,n(o,r)&&t.ref===e.ref)return ar(t,e,i)}return e.flags|=1,t=Fr(s,r),t.ref=e.ref,t.return=e,e.child=t}function rT(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Oa(s,r)&&t.ref===e.ref)if(Gt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Gt=!0);else return e.lanes=t.lanes,ar(t,e,i)}return wf(t,e,n,r,i)}function iT(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ve(Ms,Zt),Zt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ve(Ms,Zt),Zt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ve(Ms,Zt),Zt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ve(Ms,Zt),Zt|=r;return Dt(t,e,i,n),e.child}function sT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function wf(t,e,n,r,i){var s=Ht(n)?Mi:At.current;return s=Qs(e,s),Ks(e,i),n=Zm(t,e,n,r,s,i),r=ep(),t!==null&&!Gt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ar(t,e,i)):(Fe&&r&&Um(e),e.flags|=1,Dt(t,e,n,i),e.child)}function gv(t,e,n,r,i){if(Ht(n)){var s=!0;Ju(e)}else s=!1;if(Ks(e,i),e.stateNode===null)Au(t,e),eT(e,n,r),vf(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=wn(c):(c=Ht(n)?Mi:At.current,c=Qs(e,c));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&cv(e,o,r,c),wr=!1;var m=e.memoizedState;o.state=m,rc(e,r,o,i),l=e.memoizedState,a!==r||m!==l||Wt.current||wr?(typeof h=="function"&&(yf(e,n,h,r),l=e.memoizedState),(a=wr||uv(e,n,a,r,m,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,bE(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:In(e.type,a),o.props=c,d=e.pendingProps,m=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=wn(l):(l=Ht(n)?Mi:At.current,l=Qs(e,l));var g=n.getDerivedStateFromProps;(h=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||m!==l)&&cv(e,o,r,l),wr=!1,m=e.memoizedState,o.state=m,rc(e,r,o,i);var E=e.memoizedState;a!==d||m!==E||Wt.current||wr?(typeof g=="function"&&(yf(e,n,g,r),E=e.memoizedState),(c=wr||uv(e,n,c,r,m,E,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,E,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,E,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=E),o.props=r,o.state=E,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Ef(t,e,n,r,s,i)}function Ef(t,e,n,r,i,s){sT(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&tv(e,n,!1),ar(t,e,s);r=e.stateNode,sR.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Xs(e,t.child,null,s),e.child=Xs(e,null,a,s)):Dt(t,e,a,s),e.memoizedState=r.state,i&&tv(e,n,!0),e.child}function oT(t){var e=t.stateNode;e.pendingContext?ev(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ev(t,e.context,!1),Qm(t,e.containerInfo)}function yv(t,e,n,r,i){return Ys(),$m(i),e.flags|=256,Dt(t,e,n,r),e.child}var Tf={dehydrated:null,treeContext:null,retryLane:0};function xf(t){return{baseLanes:t,cachePool:null,transitions:null}}function aT(t,e,n){var r=e.pendingProps,i=je.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ve(je,i&1),t===null)return pf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Xc(o,r,0,null),t=ki(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=xf(n),e.memoizedState=Tf,t):rp(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return oR(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Fr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Fr(a,s):(s=ki(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?xf(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Tf,r}return s=t.child,t=s.sibling,r=Fr(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function rp(t,e){return e=Xc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function iu(t,e,n,r){return r!==null&&$m(r),Xs(e,t.child,null,n),t=rp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function oR(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=fd(Error(K(422))),iu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Xc({mode:"visible",children:r.children},i,0,null),s=ki(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Xs(e,t.child,null,o),e.child.memoizedState=xf(o),e.memoizedState=Tf,s);if(!(e.mode&1))return iu(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(K(419)),r=fd(s,r,void 0),iu(t,e,o,r)}if(a=(o&t.childLanes)!==0,Gt||a){if(r=ct,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,or(t,i),Vn(r,t,i,-1))}return up(),r=fd(Error(K(421))),iu(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=_R.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,en=br(i.nextSibling),rn=e,Fe=!0,An=null,t!==null&&(dn[fn++]=Xn,dn[fn++]=Jn,dn[fn++]=Li,Xn=t.id,Jn=t.overflow,Li=e),e=rp(e,r.children),e.flags|=4096,e)}function vv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),gf(t.return,e,n)}function md(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function lT(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Dt(t,e,r.children,n),r=je.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&vv(t,n,e);else if(t.tag===19)vv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ve(je,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ic(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),md(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ic(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}md(e,!0,n,null,s);break;case"together":md(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Au(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ar(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Oi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(K(153));if(e.child!==null){for(t=e.child,n=Fr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Fr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function aR(t,e,n){switch(e.tag){case 3:oT(e),Ys();break;case 5:NE(e);break;case 1:Ht(e.type)&&Ju(e);break;case 4:Qm(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ve(tc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ve(je,je.current&1),e.flags|=128,null):n&e.child.childLanes?aT(t,e,n):(Ve(je,je.current&1),t=ar(t,e,n),t!==null?t.sibling:null);Ve(je,je.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return lT(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ve(je,je.current),r)break;return null;case 22:case 23:return e.lanes=0,iT(t,e,n)}return ar(t,e,n)}var uT,If,cT,hT;uT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};If=function(){};cT=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ai(Un.current);var s=null;switch(n){case"input":i=qd(t,i),r=qd(t,r),s=[];break;case"select":i=Ke({},i,{value:void 0}),r=Ke({},r,{value:void 0}),s=[];break;case"textarea":i=Hd(t,i),r=Hd(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Yu)}Yd(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ka.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ka.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&De("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};hT=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ko(t,e){if(!Fe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Tt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function lR(t,e,n){var r=e.pendingProps;switch(zm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(e),null;case 1:return Ht(e.type)&&Xu(),Tt(e),null;case 3:return r=e.stateNode,Js(),be(Wt),be(At),Xm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(nu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,An!==null&&(Df(An),An=null))),If(t,e),Tt(e),null;case 5:Ym(e);var i=Ai($a.current);if(n=e.type,t!==null&&e.stateNode!=null)cT(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(K(166));return Tt(e),null}if(t=Ai(Un.current),nu(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Ln]=e,r[Ua]=s,t=(e.mode&1)!==0,n){case"dialog":De("cancel",r),De("close",r);break;case"iframe":case"object":case"embed":De("load",r);break;case"video":case"audio":for(i=0;i<ia.length;i++)De(ia[i],r);break;case"source":De("error",r);break;case"img":case"image":case"link":De("error",r),De("load",r);break;case"details":De("toggle",r);break;case"input":Py(r,s),De("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},De("invalid",r);break;case"textarea":Cy(r,s),De("invalid",r)}Yd(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&tu(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&tu(r.textContent,a,t),i=["children",""+a]):ka.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&De("scroll",r)}switch(n){case"input":Wl(r),Ry(r,s,!0);break;case"textarea":Wl(r),Vy(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Yu)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=jw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Ln]=e,t[Ua]=r,uT(t,e,!1,!1),e.stateNode=t;e:{switch(o=Xd(n,r),n){case"dialog":De("cancel",t),De("close",t),i=r;break;case"iframe":case"object":case"embed":De("load",t),i=r;break;case"video":case"audio":for(i=0;i<ia.length;i++)De(ia[i],t);i=r;break;case"source":De("error",t),i=r;break;case"img":case"image":case"link":De("error",t),De("load",t),i=r;break;case"details":De("toggle",t),i=r;break;case"input":Py(t,r),i=qd(t,r),De("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ke({},r,{value:void 0}),De("invalid",t);break;case"textarea":Cy(t,r),i=Hd(t,r),De("invalid",t);break;default:i=r}Yd(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?zw(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Bw(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Da(t,l):typeof l=="number"&&Da(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ka.hasOwnProperty(s)?l!=null&&s==="onScroll"&&De("scroll",t):l!=null&&Pm(t,s,l,o))}switch(n){case"input":Wl(t),Ry(t,r,!1);break;case"textarea":Wl(t),Vy(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Kr(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Bs(t,!!r.multiple,s,!1):r.defaultValue!=null&&Bs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Yu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Tt(e),null;case 6:if(t&&e.stateNode!=null)hT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(K(166));if(n=Ai($a.current),Ai(Un.current),nu(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ln]=e,(s=r.nodeValue!==n)&&(t=rn,t!==null))switch(t.tag){case 3:tu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&tu(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ln]=e,e.stateNode=r}return Tt(e),null;case 13:if(be(je),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Fe&&en!==null&&e.mode&1&&!(e.flags&128))CE(),Ys(),e.flags|=98560,s=!1;else if(s=nu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(K(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(K(317));s[Ln]=e}else Ys(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Tt(e),s=!1}else An!==null&&(Df(An),An=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||je.current&1?st===0&&(st=3):up())),e.updateQueue!==null&&(e.flags|=4),Tt(e),null);case 4:return Js(),If(t,e),t===null&&ja(e.stateNode.containerInfo),Tt(e),null;case 10:return Gm(e.type._context),Tt(e),null;case 17:return Ht(e.type)&&Xu(),Tt(e),null;case 19:if(be(je),s=e.memoizedState,s===null)return Tt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ko(s,!1);else{if(st!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ic(t),o!==null){for(e.flags|=128,Ko(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ve(je,je.current&1|2),e.child}t=t.sibling}s.tail!==null&&He()>eo&&(e.flags|=128,r=!0,Ko(s,!1),e.lanes=4194304)}else{if(!r)if(t=ic(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ko(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Fe)return Tt(e),null}else 2*He()-s.renderingStartTime>eo&&n!==1073741824&&(e.flags|=128,r=!0,Ko(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=He(),e.sibling=null,n=je.current,Ve(je,r?n&1|2:n&1),e):(Tt(e),null);case 22:case 23:return lp(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Zt&1073741824&&(Tt(e),e.subtreeFlags&6&&(e.flags|=8192)):Tt(e),null;case 24:return null;case 25:return null}throw Error(K(156,e.tag))}function uR(t,e){switch(zm(e),e.tag){case 1:return Ht(e.type)&&Xu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Js(),be(Wt),be(At),Xm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ym(e),null;case 13:if(be(je),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(K(340));Ys()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return be(je),null;case 4:return Js(),null;case 10:return Gm(e.type._context),null;case 22:case 23:return lp(),null;case 24:return null;default:return null}}var su=!1,St=!1,cR=typeof WeakSet=="function"?WeakSet:Set,Z=null;function Ns(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ge(t,e,r)}else n.current=null}function Sf(t,e,n){try{n()}catch(r){Ge(t,e,r)}}var _v=!1;function hR(t,e){if(lf=Wu,t=gE(),Bm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,h=0,d=t,m=null;t:for(;;){for(var g;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(g=d.firstChild)!==null;)m=d,d=g;for(;;){if(d===t)break t;if(m===n&&++c===i&&(a=o),m===s&&++h===r&&(l=o),(g=d.nextSibling)!==null)break;d=m,m=d.parentNode}d=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(uf={focusedElem:t,selectionRange:n},Wu=!1,Z=e;Z!==null;)if(e=Z,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Z=t;else for(;Z!==null;){e=Z;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var x=E.memoizedProps,R=E.memoizedState,T=e.stateNode,y=T.getSnapshotBeforeUpdate(e.elementType===e.type?x:In(e.type,x),R);T.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(D){Ge(e,e.return,D)}if(t=e.sibling,t!==null){t.return=e.return,Z=t;break}Z=e.return}return E=_v,_v=!1,E}function ya(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Sf(e,n,s)}i=i.next}while(i!==r)}}function Qc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Af(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function dT(t){var e=t.alternate;e!==null&&(t.alternate=null,dT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ln],delete e[Ua],delete e[df],delete e[WP],delete e[HP])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function fT(t){return t.tag===5||t.tag===3||t.tag===4}function wv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||fT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Pf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Yu));else if(r!==4&&(t=t.child,t!==null))for(Pf(t,e,n),t=t.sibling;t!==null;)Pf(t,e,n),t=t.sibling}function Rf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Rf(t,e,n),t=t.sibling;t!==null;)Rf(t,e,n),t=t.sibling}var ft=null,Sn=!1;function pr(t,e,n){for(n=n.child;n!==null;)mT(t,e,n),n=n.sibling}function mT(t,e,n){if(Bn&&typeof Bn.onCommitFiberUnmount=="function")try{Bn.onCommitFiberUnmount(Uc,n)}catch{}switch(n.tag){case 5:St||Ns(n,e);case 6:var r=ft,i=Sn;ft=null,pr(t,e,n),ft=r,Sn=i,ft!==null&&(Sn?(t=ft,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ft.removeChild(n.stateNode));break;case 18:ft!==null&&(Sn?(t=ft,n=n.stateNode,t.nodeType===8?ad(t.parentNode,n):t.nodeType===1&&ad(t,n),La(t)):ad(ft,n.stateNode));break;case 4:r=ft,i=Sn,ft=n.stateNode.containerInfo,Sn=!0,pr(t,e,n),ft=r,Sn=i;break;case 0:case 11:case 14:case 15:if(!St&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Sf(n,e,o),i=i.next}while(i!==r)}pr(t,e,n);break;case 1:if(!St&&(Ns(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ge(n,e,a)}pr(t,e,n);break;case 21:pr(t,e,n);break;case 22:n.mode&1?(St=(r=St)||n.memoizedState!==null,pr(t,e,n),St=r):pr(t,e,n);break;default:pr(t,e,n)}}function Ev(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new cR),e.forEach(function(r){var i=wR.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function xn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ft=a.stateNode,Sn=!1;break e;case 3:ft=a.stateNode.containerInfo,Sn=!0;break e;case 4:ft=a.stateNode.containerInfo,Sn=!0;break e}a=a.return}if(ft===null)throw Error(K(160));mT(s,o,i),ft=null,Sn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Ge(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)pT(e,t),e=e.sibling}function pT(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(xn(e,t),bn(t),r&4){try{ya(3,t,t.return),Qc(3,t)}catch(x){Ge(t,t.return,x)}try{ya(5,t,t.return)}catch(x){Ge(t,t.return,x)}}break;case 1:xn(e,t),bn(t),r&512&&n!==null&&Ns(n,n.return);break;case 5:if(xn(e,t),bn(t),r&512&&n!==null&&Ns(n,n.return),t.flags&32){var i=t.stateNode;try{Da(i,"")}catch(x){Ge(t,t.return,x)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Fw(i,s),Xd(a,o);var c=Xd(a,s);for(o=0;o<l.length;o+=2){var h=l[o],d=l[o+1];h==="style"?zw(i,d):h==="dangerouslySetInnerHTML"?Bw(i,d):h==="children"?Da(i,d):Pm(i,h,d,c)}switch(a){case"input":Gd(i,s);break;case"textarea":Ow(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Bs(i,!!s.multiple,g,!1):m!==!!s.multiple&&(s.defaultValue!=null?Bs(i,!!s.multiple,s.defaultValue,!0):Bs(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ua]=s}catch(x){Ge(t,t.return,x)}}break;case 6:if(xn(e,t),bn(t),r&4){if(t.stateNode===null)throw Error(K(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(x){Ge(t,t.return,x)}}break;case 3:if(xn(e,t),bn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{La(e.containerInfo)}catch(x){Ge(t,t.return,x)}break;case 4:xn(e,t),bn(t);break;case 13:xn(e,t),bn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(op=He())),r&4&&Ev(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(St=(c=St)||h,xn(e,t),St=c):xn(e,t),bn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(Z=t,h=t.child;h!==null;){for(d=Z=h;Z!==null;){switch(m=Z,g=m.child,m.tag){case 0:case 11:case 14:case 15:ya(4,m,m.return);break;case 1:Ns(m,m.return);var E=m.stateNode;if(typeof E.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(x){Ge(r,n,x)}}break;case 5:Ns(m,m.return);break;case 22:if(m.memoizedState!==null){xv(d);continue}}g!==null?(g.return=m,Z=g):xv(d)}h=h.sibling}e:for(h=null,d=t;;){if(d.tag===5){if(h===null){h=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Uw("display",o))}catch(x){Ge(t,t.return,x)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(x){Ge(t,t.return,x)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:xn(e,t),bn(t),r&4&&Ev(t);break;case 21:break;default:xn(e,t),bn(t)}}function bn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(fT(n)){var r=n;break e}n=n.return}throw Error(K(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Da(i,""),r.flags&=-33);var s=wv(t);Rf(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=wv(t);Pf(t,a,o);break;default:throw Error(K(161))}}catch(l){Ge(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function dR(t,e,n){Z=t,gT(t)}function gT(t,e,n){for(var r=(t.mode&1)!==0;Z!==null;){var i=Z,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||su;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||St;a=su;var c=St;if(su=o,(St=l)&&!c)for(Z=i;Z!==null;)o=Z,l=o.child,o.tag===22&&o.memoizedState!==null?Iv(i):l!==null?(l.return=o,Z=l):Iv(i);for(;s!==null;)Z=s,gT(s),s=s.sibling;Z=i,su=a,St=c}Tv(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Z=s):Tv(t)}}function Tv(t){for(;Z!==null;){var e=Z;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:St||Qc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!St)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:In(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&ov(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}ov(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&La(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}St||e.flags&512&&Af(e)}catch(m){Ge(e,e.return,m)}}if(e===t){Z=null;break}if(n=e.sibling,n!==null){n.return=e.return,Z=n;break}Z=e.return}}function xv(t){for(;Z!==null;){var e=Z;if(e===t){Z=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Z=n;break}Z=e.return}}function Iv(t){for(;Z!==null;){var e=Z;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Qc(4,e)}catch(l){Ge(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ge(e,i,l)}}var s=e.return;try{Af(e)}catch(l){Ge(e,s,l)}break;case 5:var o=e.return;try{Af(e)}catch(l){Ge(e,o,l)}}}catch(l){Ge(e,e.return,l)}if(e===t){Z=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Z=a;break}Z=e.return}}var fR=Math.ceil,ac=hr.ReactCurrentDispatcher,ip=hr.ReactCurrentOwner,yn=hr.ReactCurrentBatchConfig,_e=0,ct=null,tt=null,gt=0,Zt=0,Ms=Jr(0),st=0,Wa=null,Oi=0,Yc=0,sp=0,va=null,Kt=null,op=0,eo=1/0,Qn=null,lc=!1,Cf=null,Mr=null,ou=!1,Pr=null,uc=0,_a=0,Vf=null,Pu=-1,Ru=0;function Mt(){return _e&6?He():Pu!==-1?Pu:Pu=He()}function Lr(t){return t.mode&1?_e&2&&gt!==0?gt&-gt:YP.transition!==null?(Ru===0&&(Ru=eE()),Ru):(t=Se,t!==0||(t=window.event,t=t===void 0?16:aE(t.type)),t):1}function Vn(t,e,n,r){if(50<_a)throw _a=0,Vf=null,Error(K(185));hl(t,n,r),(!(_e&2)||t!==ct)&&(t===ct&&(!(_e&2)&&(Yc|=n),st===4&&xr(t,gt)),Qt(t,r),n===1&&_e===0&&!(e.mode&1)&&(eo=He()+500,Gc&&Zr()))}function Qt(t,e){var n=t.callbackNode;Y1(t,e);var r=Gu(t,t===ct?gt:0);if(r===0)n!==null&&by(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&by(n),e===1)t.tag===0?QP(Sv.bind(null,t)):AE(Sv.bind(null,t)),qP(function(){!(_e&6)&&Zr()}),n=null;else{switch(tE(r)){case 1:n=Dm;break;case 4:n=Jw;break;case 16:n=qu;break;case 536870912:n=Zw;break;default:n=qu}n=IT(n,yT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function yT(t,e){if(Pu=-1,Ru=0,_e&6)throw Error(K(327));var n=t.callbackNode;if(qs()&&t.callbackNode!==n)return null;var r=Gu(t,t===ct?gt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=cc(t,r);else{e=r;var i=_e;_e|=2;var s=_T();(ct!==t||gt!==e)&&(Qn=null,eo=He()+500,Vi(t,e));do try{gR();break}catch(a){vT(t,a)}while(!0);qm(),ac.current=s,_e=i,tt!==null?e=0:(ct=null,gt=0,e=st)}if(e!==0){if(e===2&&(i=nf(t),i!==0&&(r=i,e=kf(t,i))),e===1)throw n=Wa,Vi(t,0),xr(t,r),Qt(t,He()),n;if(e===6)xr(t,r);else{if(i=t.current.alternate,!(r&30)&&!mR(i)&&(e=cc(t,r),e===2&&(s=nf(t),s!==0&&(r=s,e=kf(t,s))),e===1))throw n=Wa,Vi(t,0),xr(t,r),Qt(t,He()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(K(345));case 2:pi(t,Kt,Qn);break;case 3:if(xr(t,r),(r&130023424)===r&&(e=op+500-He(),10<e)){if(Gu(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Mt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=hf(pi.bind(null,t,Kt,Qn),e);break}pi(t,Kt,Qn);break;case 4:if(xr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Cn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=He()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*fR(r/1960))-r,10<r){t.timeoutHandle=hf(pi.bind(null,t,Kt,Qn),r);break}pi(t,Kt,Qn);break;case 5:pi(t,Kt,Qn);break;default:throw Error(K(329))}}}return Qt(t,He()),t.callbackNode===n?yT.bind(null,t):null}function kf(t,e){var n=va;return t.current.memoizedState.isDehydrated&&(Vi(t,e).flags|=256),t=cc(t,e),t!==2&&(e=Kt,Kt=n,e!==null&&Df(e)),t}function Df(t){Kt===null?Kt=t:Kt.push.apply(Kt,t)}function mR(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!kn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function xr(t,e){for(e&=~sp,e&=~Yc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Cn(e),r=1<<n;t[n]=-1,e&=~r}}function Sv(t){if(_e&6)throw Error(K(327));qs();var e=Gu(t,0);if(!(e&1))return Qt(t,He()),null;var n=cc(t,e);if(t.tag!==0&&n===2){var r=nf(t);r!==0&&(e=r,n=kf(t,r))}if(n===1)throw n=Wa,Vi(t,0),xr(t,e),Qt(t,He()),n;if(n===6)throw Error(K(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,pi(t,Kt,Qn),Qt(t,He()),null}function ap(t,e){var n=_e;_e|=1;try{return t(e)}finally{_e=n,_e===0&&(eo=He()+500,Gc&&Zr())}}function ji(t){Pr!==null&&Pr.tag===0&&!(_e&6)&&qs();var e=_e;_e|=1;var n=yn.transition,r=Se;try{if(yn.transition=null,Se=1,t)return t()}finally{Se=r,yn.transition=n,_e=e,!(_e&6)&&Zr()}}function lp(){Zt=Ms.current,be(Ms)}function Vi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,KP(n)),tt!==null)for(n=tt.return;n!==null;){var r=n;switch(zm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Xu();break;case 3:Js(),be(Wt),be(At),Xm();break;case 5:Ym(r);break;case 4:Js();break;case 13:be(je);break;case 19:be(je);break;case 10:Gm(r.type._context);break;case 22:case 23:lp()}n=n.return}if(ct=t,tt=t=Fr(t.current,null),gt=Zt=e,st=0,Wa=null,sp=Yc=Oi=0,Kt=va=null,Si!==null){for(e=0;e<Si.length;e++)if(n=Si[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Si=null}return t}function vT(t,e){do{var n=tt;try{if(qm(),Iu.current=oc,sc){for(var r=ze.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}sc=!1}if(Fi=0,ut=it=ze=null,ga=!1,Ka=0,ip.current=null,n===null||n.return===null){st=1,Wa=e,tt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=gt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=a,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=dv(o);if(g!==null){g.flags&=-257,fv(g,o,a,s,e),g.mode&1&&hv(s,c,e),e=g,l=c;var E=e.updateQueue;if(E===null){var x=new Set;x.add(l),e.updateQueue=x}else E.add(l);break e}else{if(!(e&1)){hv(s,c,e),up();break e}l=Error(K(426))}}else if(Fe&&a.mode&1){var R=dv(o);if(R!==null){!(R.flags&65536)&&(R.flags|=256),fv(R,o,a,s,e),$m(Zs(l,a));break e}}s=l=Zs(l,a),st!==4&&(st=2),va===null?va=[s]:va.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var T=tT(s,l,e);sv(s,T);break e;case 1:a=l;var y=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Mr===null||!Mr.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var D=nT(s,a,e);sv(s,D);break e}}s=s.return}while(s!==null)}ET(n)}catch(L){e=L,tt===n&&n!==null&&(tt=n=n.return);continue}break}while(!0)}function _T(){var t=ac.current;return ac.current=oc,t===null?oc:t}function up(){(st===0||st===3||st===2)&&(st=4),ct===null||!(Oi&268435455)&&!(Yc&268435455)||xr(ct,gt)}function cc(t,e){var n=_e;_e|=2;var r=_T();(ct!==t||gt!==e)&&(Qn=null,Vi(t,e));do try{pR();break}catch(i){vT(t,i)}while(!0);if(qm(),_e=n,ac.current=r,tt!==null)throw Error(K(261));return ct=null,gt=0,st}function pR(){for(;tt!==null;)wT(tt)}function gR(){for(;tt!==null&&!U1();)wT(tt)}function wT(t){var e=xT(t.alternate,t,Zt);t.memoizedProps=t.pendingProps,e===null?ET(t):tt=e,ip.current=null}function ET(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=uR(n,e),n!==null){n.flags&=32767,tt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{st=6,tt=null;return}}else if(n=lR(n,e,Zt),n!==null){tt=n;return}if(e=e.sibling,e!==null){tt=e;return}tt=e=t}while(e!==null);st===0&&(st=5)}function pi(t,e,n){var r=Se,i=yn.transition;try{yn.transition=null,Se=1,yR(t,e,n,r)}finally{yn.transition=i,Se=r}return null}function yR(t,e,n,r){do qs();while(Pr!==null);if(_e&6)throw Error(K(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(K(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(X1(t,s),t===ct&&(tt=ct=null,gt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ou||(ou=!0,IT(qu,function(){return qs(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=yn.transition,yn.transition=null;var o=Se;Se=1;var a=_e;_e|=4,ip.current=null,hR(t,n),pT(n,t),FP(uf),Wu=!!lf,uf=lf=null,t.current=n,dR(n),z1(),_e=a,Se=o,yn.transition=s}else t.current=n;if(ou&&(ou=!1,Pr=t,uc=i),s=t.pendingLanes,s===0&&(Mr=null),q1(n.stateNode),Qt(t,He()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(lc)throw lc=!1,t=Cf,Cf=null,t;return uc&1&&t.tag!==0&&qs(),s=t.pendingLanes,s&1?t===Vf?_a++:(_a=0,Vf=t):_a=0,Zr(),null}function qs(){if(Pr!==null){var t=tE(uc),e=yn.transition,n=Se;try{if(yn.transition=null,Se=16>t?16:t,Pr===null)var r=!1;else{if(t=Pr,Pr=null,uc=0,_e&6)throw Error(K(331));var i=_e;for(_e|=4,Z=t.current;Z!==null;){var s=Z,o=s.child;if(Z.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Z=c;Z!==null;){var h=Z;switch(h.tag){case 0:case 11:case 15:ya(8,h,s)}var d=h.child;if(d!==null)d.return=h,Z=d;else for(;Z!==null;){h=Z;var m=h.sibling,g=h.return;if(dT(h),h===c){Z=null;break}if(m!==null){m.return=g,Z=m;break}Z=g}}}var E=s.alternate;if(E!==null){var x=E.child;if(x!==null){E.child=null;do{var R=x.sibling;x.sibling=null,x=R}while(x!==null)}}Z=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Z=o;else e:for(;Z!==null;){if(s=Z,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ya(9,s,s.return)}var T=s.sibling;if(T!==null){T.return=s.return,Z=T;break e}Z=s.return}}var y=t.current;for(Z=y;Z!==null;){o=Z;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,Z=_;else e:for(o=y;Z!==null;){if(a=Z,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Qc(9,a)}}catch(L){Ge(a,a.return,L)}if(a===o){Z=null;break e}var D=a.sibling;if(D!==null){D.return=a.return,Z=D;break e}Z=a.return}}if(_e=i,Zr(),Bn&&typeof Bn.onPostCommitFiberRoot=="function")try{Bn.onPostCommitFiberRoot(Uc,t)}catch{}r=!0}return r}finally{Se=n,yn.transition=e}}return!1}function Av(t,e,n){e=Zs(n,e),e=tT(t,e,1),t=Nr(t,e,1),e=Mt(),t!==null&&(hl(t,1,e),Qt(t,e))}function Ge(t,e,n){if(t.tag===3)Av(t,t,n);else for(;e!==null;){if(e.tag===3){Av(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Mr===null||!Mr.has(r))){t=Zs(n,t),t=nT(e,t,1),e=Nr(e,t,1),t=Mt(),e!==null&&(hl(e,1,t),Qt(e,t));break}}e=e.return}}function vR(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Mt(),t.pingedLanes|=t.suspendedLanes&n,ct===t&&(gt&n)===n&&(st===4||st===3&&(gt&130023424)===gt&&500>He()-op?Vi(t,0):sp|=n),Qt(t,e)}function TT(t,e){e===0&&(t.mode&1?(e=Yl,Yl<<=1,!(Yl&130023424)&&(Yl=4194304)):e=1);var n=Mt();t=or(t,e),t!==null&&(hl(t,e,n),Qt(t,n))}function _R(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),TT(t,n)}function wR(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(K(314))}r!==null&&r.delete(e),TT(t,n)}var xT;xT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Wt.current)Gt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Gt=!1,aR(t,e,n);Gt=!!(t.flags&131072)}else Gt=!1,Fe&&e.flags&1048576&&PE(e,ec,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Au(t,e),t=e.pendingProps;var i=Qs(e,At.current);Ks(e,n),i=Zm(null,e,r,t,i,n);var s=ep();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ht(r)?(s=!0,Ju(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Hm(e),i.updater=Hc,e.stateNode=i,i._reactInternals=e,vf(e,r,t,n),e=Ef(null,e,r,!0,s,n)):(e.tag=0,Fe&&s&&Um(e),Dt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Au(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=TR(r),t=In(r,t),i){case 0:e=wf(null,e,r,t,n);break e;case 1:e=gv(null,e,r,t,n);break e;case 11:e=mv(null,e,r,t,n);break e;case 14:e=pv(null,e,r,In(r.type,t),n);break e}throw Error(K(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:In(r,i),wf(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:In(r,i),gv(t,e,r,i,n);case 3:e:{if(oT(e),t===null)throw Error(K(387));r=e.pendingProps,s=e.memoizedState,i=s.element,bE(t,e),rc(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Zs(Error(K(423)),e),e=yv(t,e,r,n,i);break e}else if(r!==i){i=Zs(Error(K(424)),e),e=yv(t,e,r,n,i);break e}else for(en=br(e.stateNode.containerInfo.firstChild),rn=e,Fe=!0,An=null,n=kE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ys(),r===i){e=ar(t,e,n);break e}Dt(t,e,r,n)}e=e.child}return e;case 5:return NE(e),t===null&&pf(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,cf(r,i)?o=null:s!==null&&cf(r,s)&&(e.flags|=32),sT(t,e),Dt(t,e,o,n),e.child;case 6:return t===null&&pf(e),null;case 13:return aT(t,e,n);case 4:return Qm(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Xs(e,null,r,n):Dt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:In(r,i),mv(t,e,r,i,n);case 7:return Dt(t,e,e.pendingProps,n),e.child;case 8:return Dt(t,e,e.pendingProps.children,n),e.child;case 12:return Dt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ve(tc,r._currentValue),r._currentValue=o,s!==null)if(kn(s.value,o)){if(s.children===i.children&&!Wt.current){e=ar(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=tr(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),gf(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(K(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),gf(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Dt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ks(e,n),i=wn(i),r=r(i),e.flags|=1,Dt(t,e,r,n),e.child;case 14:return r=e.type,i=In(r,e.pendingProps),i=In(r.type,i),pv(t,e,r,i,n);case 15:return rT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:In(r,i),Au(t,e),e.tag=1,Ht(r)?(t=!0,Ju(e)):t=!1,Ks(e,n),eT(e,r,i),vf(e,r,i,n),Ef(null,e,r,!0,t,n);case 19:return lT(t,e,n);case 22:return iT(t,e,n)}throw Error(K(156,e.tag))};function IT(t,e){return Xw(t,e)}function ER(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(t,e,n,r){return new ER(t,e,n,r)}function cp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function TR(t){if(typeof t=="function")return cp(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Cm)return 11;if(t===Vm)return 14}return 2}function Fr(t,e){var n=t.alternate;return n===null?(n=mn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Cu(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")cp(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ss:return ki(n.children,i,s,e);case Rm:o=8,i|=8;break;case Ud:return t=mn(12,n,e,i|2),t.elementType=Ud,t.lanes=s,t;case zd:return t=mn(13,n,e,i),t.elementType=zd,t.lanes=s,t;case $d:return t=mn(19,n,e,i),t.elementType=$d,t.lanes=s,t;case Nw:return Xc(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Dw:o=10;break e;case bw:o=9;break e;case Cm:o=11;break e;case Vm:o=14;break e;case _r:o=16,r=null;break e}throw Error(K(130,t==null?t:typeof t,""))}return e=mn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ki(t,e,n,r){return t=mn(7,t,r,e),t.lanes=n,t}function Xc(t,e,n,r){return t=mn(22,t,r,e),t.elementType=Nw,t.lanes=n,t.stateNode={isHidden:!1},t}function pd(t,e,n){return t=mn(6,t,null,e),t.lanes=n,t}function gd(t,e,n){return e=mn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function xR(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yh(0),this.expirationTimes=Yh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function hp(t,e,n,r,i,s,o,a,l){return t=new xR(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=mn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hm(s),t}function IR(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Is,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function ST(t){if(!t)return qr;t=t._reactInternals;e:{if(Yi(t)!==t||t.tag!==1)throw Error(K(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ht(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(K(171))}if(t.tag===1){var n=t.type;if(Ht(n))return SE(t,n,e)}return e}function AT(t,e,n,r,i,s,o,a,l){return t=hp(n,r,!0,t,i,s,o,a,l),t.context=ST(null),n=t.current,r=Mt(),i=Lr(n),s=tr(r,i),s.callback=e??null,Nr(n,s,i),t.current.lanes=i,hl(t,i,r),Qt(t,r),t}function Jc(t,e,n,r){var i=e.current,s=Mt(),o=Lr(i);return n=ST(n),e.context===null?e.context=n:e.pendingContext=n,e=tr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Nr(i,e,o),t!==null&&(Vn(t,i,o,s),xu(t,i,o)),o}function hc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Pv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function dp(t,e){Pv(t,e),(t=t.alternate)&&Pv(t,e)}function SR(){return null}var PT=typeof reportError=="function"?reportError:function(t){console.error(t)};function fp(t){this._internalRoot=t}Zc.prototype.render=fp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(K(409));Jc(t,e,null,null)};Zc.prototype.unmount=fp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ji(function(){Jc(null,t,null,null)}),e[sr]=null}};function Zc(t){this._internalRoot=t}Zc.prototype.unstable_scheduleHydration=function(t){if(t){var e=iE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Tr.length&&e!==0&&e<Tr[n].priority;n++);Tr.splice(n,0,t),n===0&&oE(t)}};function mp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function eh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Rv(){}function AR(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=hc(o);s.call(c)}}var o=AT(e,r,t,0,null,!1,!1,"",Rv);return t._reactRootContainer=o,t[sr]=o.current,ja(t.nodeType===8?t.parentNode:t),ji(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=hc(l);a.call(c)}}var l=hp(t,0,!1,null,null,!1,!1,"",Rv);return t._reactRootContainer=l,t[sr]=l.current,ja(t.nodeType===8?t.parentNode:t),ji(function(){Jc(e,l,n,r)}),l}function th(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=hc(o);a.call(l)}}Jc(e,o,t,i)}else o=AR(n,e,t,i,r);return hc(o)}nE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ra(e.pendingLanes);n!==0&&(bm(e,n|1),Qt(e,He()),!(_e&6)&&(eo=He()+500,Zr()))}break;case 13:ji(function(){var r=or(t,1);if(r!==null){var i=Mt();Vn(r,t,1,i)}}),dp(t,1)}};Nm=function(t){if(t.tag===13){var e=or(t,134217728);if(e!==null){var n=Mt();Vn(e,t,134217728,n)}dp(t,134217728)}};rE=function(t){if(t.tag===13){var e=Lr(t),n=or(t,e);if(n!==null){var r=Mt();Vn(n,t,e,r)}dp(t,e)}};iE=function(){return Se};sE=function(t,e){var n=Se;try{return Se=t,e()}finally{Se=n}};Zd=function(t,e,n){switch(e){case"input":if(Gd(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=qc(r);if(!i)throw Error(K(90));Lw(r),Gd(r,i)}}}break;case"textarea":Ow(t,n);break;case"select":e=n.value,e!=null&&Bs(t,!!n.multiple,e,!1)}};qw=ap;Gw=ji;var PR={usingClientEntryPoint:!1,Events:[fl,Cs,qc,$w,Kw,ap]},qo={findFiberByHostInstance:Ii,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},RR={bundleType:qo.bundleType,version:qo.version,rendererPackageName:qo.rendererPackageName,rendererConfig:qo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:hr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Qw(t),t===null?null:t.stateNode},findFiberByHostInstance:qo.findFiberByHostInstance||SR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var au=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!au.isDisabled&&au.supportsFiber)try{Uc=au.inject(RR),Bn=au}catch{}}ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=PR;ln.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mp(e))throw Error(K(200));return IR(t,e,null,n)};ln.createRoot=function(t,e){if(!mp(t))throw Error(K(299));var n=!1,r="",i=PT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=hp(t,1,!1,null,null,n,!1,r,i),t[sr]=e.current,ja(t.nodeType===8?t.parentNode:t),new fp(e)};ln.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(K(188)):(t=Object.keys(t).join(","),Error(K(268,t)));return t=Qw(e),t=t===null?null:t.stateNode,t};ln.flushSync=function(t){return ji(t)};ln.hydrate=function(t,e,n){if(!eh(e))throw Error(K(200));return th(null,t,e,!0,n)};ln.hydrateRoot=function(t,e,n){if(!mp(t))throw Error(K(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=PT;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=AT(e,null,t,1,n??null,i,!1,s,o),t[sr]=e.current,ja(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Zc(e)};ln.render=function(t,e,n){if(!eh(e))throw Error(K(200));return th(null,t,e,!1,n)};ln.unmountComponentAtNode=function(t){if(!eh(t))throw Error(K(40));return t._reactRootContainer?(ji(function(){th(null,null,t,!1,function(){t._reactRootContainer=null,t[sr]=null})}),!0):!1};ln.unstable_batchedUpdates=ap;ln.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!eh(n))throw Error(K(200));if(t==null||t._reactInternals===void 0)throw Error(K(38));return th(t,e,n,!1,r)};ln.version="18.3.1-next-f1338f8080-20240426";function RT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(RT)}catch(t){console.error(t)}}RT(),Rw.exports=ln;var CR=Rw.exports,Cv=CR;jd.createRoot=Cv.createRoot,jd.hydrateRoot=Cv.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ha(){return Ha=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ha.apply(this,arguments)}var Rr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Rr||(Rr={}));const Vv="popstate";function VR(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return bf("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:dc(i)}return DR(e,n,null,t)}function nt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function CT(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function kR(){return Math.random().toString(36).substr(2,8)}function kv(t,e){return{usr:t.state,key:t.key,idx:e}}function bf(t,e,n,r){return n===void 0&&(n=null),Ha({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?yo(e):e,{state:n,key:e&&e.key||r||kR()})}function dc(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function yo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function DR(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Rr.Pop,l=null,c=h();c==null&&(c=0,o.replaceState(Ha({},o.state,{idx:c}),""));function h(){return(o.state||{idx:null}).idx}function d(){a=Rr.Pop;let R=h(),T=R==null?null:R-c;c=R,l&&l({action:a,location:x.location,delta:T})}function m(R,T){a=Rr.Push;let y=bf(x.location,R,T);c=h()+1;let _=kv(y,c),D=x.createHref(y);try{o.pushState(_,"",D)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;i.location.assign(D)}s&&l&&l({action:a,location:x.location,delta:1})}function g(R,T){a=Rr.Replace;let y=bf(x.location,R,T);c=h();let _=kv(y,c),D=x.createHref(y);o.replaceState(_,"",D),s&&l&&l({action:a,location:x.location,delta:0})}function E(R){let T=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof R=="string"?R:dc(R);return y=y.replace(/ $/,"%20"),nt(T,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,T)}let x={get action(){return a},get location(){return t(i,o)},listen(R){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Vv,d),l=R,()=>{i.removeEventListener(Vv,d),l=null}},createHref(R){return e(i,R)},createURL:E,encodeLocation(R){let T=E(R);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:m,replace:g,go(R){return o.go(R)}};return x}var Dv;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Dv||(Dv={}));function bR(t,e,n){return n===void 0&&(n="/"),NR(t,e,n)}function NR(t,e,n,r){let i=typeof e=="string"?yo(e):e,s=pp(i.pathname||"/",n);if(s==null)return null;let o=VT(t);MR(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=WR(s);a=KR(o[l],c)}return a}function VT(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(nt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Or([r,l.relativePath]),h=n.concat(l);s.children&&s.children.length>0&&(nt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),VT(s.children,e,h,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:zR(c,s.index),routesMeta:h})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of kT(s.path))i(s,o,l)}),e}function kT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=kT(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function MR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:$R(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const LR=/^:[\w-]+$/,FR=3,OR=2,jR=1,BR=10,UR=-2,bv=t=>t==="*";function zR(t,e){let n=t.split("/"),r=n.length;return n.some(bv)&&(r+=UR),e&&(r+=OR),n.filter(i=>!bv(i)).reduce((i,s)=>i+(LR.test(s)?FR:s===""?jR:BR),r)}function $R(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function KR(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,h=s==="/"?e:e.slice(s.length)||"/",d=qR({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h),m=l.route;if(!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:Or([s,d.pathname]),pathnameBase:XR(Or([s,d.pathnameBase])),route:m}),d.pathnameBase!=="/"&&(s=Or([s,d.pathnameBase]))}return o}function qR(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=GR(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,h,d)=>{let{paramName:m,isOptional:g}=h;if(m==="*"){let x=a[d]||"";o=s.slice(0,s.length-x.length).replace(/(.)\/+$/,"$1")}const E=a[d];return g&&!E?c[m]=void 0:c[m]=(E||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function GR(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),CT(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function WR(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return CT(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function pp(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function HR(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?yo(t):t;return{pathname:n?n.startsWith("/")?n:QR(n,e):e,search:JR(r),hash:ZR(i)}}function QR(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function yd(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function YR(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function DT(t,e){let n=YR(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function bT(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=yo(t):(i=Ha({},t),nt(!i.pathname||!i.pathname.includes("?"),yd("?","pathname","search",i)),nt(!i.pathname||!i.pathname.includes("#"),yd("#","pathname","hash",i)),nt(!i.search||!i.search.includes("#"),yd("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),d-=1;i.pathname=m.join("/")}a=d>=0?e[d]:"/"}let l=HR(i,a),c=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||h)&&(l.pathname+="/"),l}const Or=t=>t.join("/").replace(/\/\/+/g,"/"),XR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),JR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ZR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function eC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const NT=["post","put","patch","delete"];new Set(NT);const tC=["get",...NT];new Set(tC);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qa(){return Qa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qa.apply(this,arguments)}const gp=B.createContext(null),nC=B.createContext(null),Xi=B.createContext(null),nh=B.createContext(null),ei=B.createContext({outlet:null,matches:[],isDataRoute:!1}),MT=B.createContext(null);function rC(t,e){let{relative:n}=e===void 0?{}:e;pl()||nt(!1);let{basename:r,navigator:i}=B.useContext(Xi),{hash:s,pathname:o,search:a}=FT(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Or([r,o])),i.createHref({pathname:l,search:a,hash:s})}function pl(){return B.useContext(nh)!=null}function rh(){return pl()||nt(!1),B.useContext(nh).location}function LT(t){B.useContext(Xi).static||B.useLayoutEffect(t)}function yp(){let{isDataRoute:t}=B.useContext(ei);return t?yC():iC()}function iC(){pl()||nt(!1);let t=B.useContext(gp),{basename:e,future:n,navigator:r}=B.useContext(Xi),{matches:i}=B.useContext(ei),{pathname:s}=rh(),o=JSON.stringify(DT(i,n.v7_relativeSplatPath)),a=B.useRef(!1);return LT(()=>{a.current=!0}),B.useCallback(function(c,h){if(h===void 0&&(h={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=bT(c,JSON.parse(o),s,h.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Or([e,d.pathname])),(h.replace?r.replace:r.push)(d,h.state,h)},[e,r,o,s,t])}function sC(){let{matches:t}=B.useContext(ei),e=t[t.length-1];return e?e.params:{}}function FT(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=B.useContext(Xi),{matches:i}=B.useContext(ei),{pathname:s}=rh(),o=JSON.stringify(DT(i,r.v7_relativeSplatPath));return B.useMemo(()=>bT(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function oC(t,e){return aC(t,e)}function aC(t,e,n,r){pl()||nt(!1);let{navigator:i}=B.useContext(Xi),{matches:s}=B.useContext(ei),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=rh(),h;if(e){var d;let R=typeof e=="string"?yo(e):e;l==="/"||(d=R.pathname)!=null&&d.startsWith(l)||nt(!1),h=R}else h=c;let m=h.pathname||"/",g=m;if(l!=="/"){let R=l.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(R.length).join("/")}let E=bR(t,{pathname:g}),x=dC(E&&E.map(R=>Object.assign({},R,{params:Object.assign({},a,R.params),pathname:Or([l,i.encodeLocation?i.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?l:Or([l,i.encodeLocation?i.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),s,n,r);return e&&x?B.createElement(nh.Provider,{value:{location:Qa({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Rr.Pop}},x):x}function lC(){let t=gC(),e=eC(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),n?B.createElement("pre",{style:i},n):null,null)}const uC=B.createElement(lC,null);class cC extends B.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?B.createElement(ei.Provider,{value:this.props.routeContext},B.createElement(MT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function hC(t){let{routeContext:e,match:n,children:r}=t,i=B.useContext(gp);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),B.createElement(ei.Provider,{value:e},r)}function dC(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let h=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);h>=0||nt(!1),o=o.slice(0,Math.min(o.length,h+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let d=o[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=h),d.route.id){let{loaderData:m,errors:g}=n,E=d.route.loader&&m[d.route.id]===void 0&&(!g||g[d.route.id]===void 0);if(d.route.lazy||E){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((h,d,m)=>{let g,E=!1,x=null,R=null;n&&(g=a&&d.route.id?a[d.route.id]:void 0,x=d.route.errorElement||uC,l&&(c<0&&m===0?(vC("route-fallback"),E=!0,R=null):c===m&&(E=!0,R=d.route.hydrateFallbackElement||null)));let T=e.concat(o.slice(0,m+1)),y=()=>{let _;return g?_=x:E?_=R:d.route.Component?_=B.createElement(d.route.Component,null):d.route.element?_=d.route.element:_=h,B.createElement(hC,{match:d,routeContext:{outlet:h,matches:T,isDataRoute:n!=null},children:_})};return n&&(d.route.ErrorBoundary||d.route.errorElement||m===0)?B.createElement(cC,{location:n.location,revalidation:n.revalidation,component:x,error:g,children:y(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):y()},null)}var OT=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(OT||{}),jT=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(jT||{});function fC(t){let e=B.useContext(gp);return e||nt(!1),e}function mC(t){let e=B.useContext(nC);return e||nt(!1),e}function pC(t){let e=B.useContext(ei);return e||nt(!1),e}function BT(t){let e=pC(),n=e.matches[e.matches.length-1];return n.route.id||nt(!1),n.route.id}function gC(){var t;let e=B.useContext(MT),n=mC(),r=BT();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function yC(){let{router:t}=fC(OT.UseNavigateStable),e=BT(jT.UseNavigateStable),n=B.useRef(!1);return LT(()=>{n.current=!0}),B.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Qa({fromRouteId:e},s)))},[t,e])}const Nv={};function vC(t,e,n){Nv[t]||(Nv[t]=!0)}function _C(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function vs(t){nt(!1)}function wC(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Rr.Pop,navigator:s,static:o=!1,future:a}=t;pl()&&nt(!1);let l=e.replace(/^\/*/,"/"),c=B.useMemo(()=>({basename:l,navigator:s,static:o,future:Qa({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=yo(r));let{pathname:h="/",search:d="",hash:m="",state:g=null,key:E="default"}=r,x=B.useMemo(()=>{let R=pp(h,l);return R==null?null:{location:{pathname:R,search:d,hash:m,state:g,key:E},navigationType:i}},[l,h,d,m,g,E,i]);return x==null?null:B.createElement(Xi.Provider,{value:c},B.createElement(nh.Provider,{children:n,value:x}))}function EC(t){let{children:e,location:n}=t;return oC(Nf(e),n)}new Promise(()=>{});function Nf(t,e){e===void 0&&(e=[]);let n=[];return B.Children.forEach(t,(r,i)=>{if(!B.isValidElement(r))return;let s=[...e,i];if(r.type===B.Fragment){n.push.apply(n,Nf(r.props.children,s));return}r.type!==vs&&nt(!1),!r.props.index||!r.props.children||nt(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Nf(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mf(){return Mf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mf.apply(this,arguments)}function TC(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function xC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function IC(t,e){return t.button===0&&(!e||e==="_self")&&!xC(t)}const SC=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],AC="6";try{window.__reactRouterVersion=AC}catch{}const PC="startTransition",Mv=v1[PC];function RC(t){let{basename:e,children:n,future:r,window:i}=t,s=B.useRef();s.current==null&&(s.current=VR({window:i,v5Compat:!0}));let o=s.current,[a,l]=B.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},h=B.useCallback(d=>{c&&Mv?Mv(()=>l(d)):l(d)},[l,c]);return B.useLayoutEffect(()=>o.listen(h),[o,h]),B.useEffect(()=>_C(r),[r]),B.createElement(wC,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const CC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",VC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pi=B.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:h,viewTransition:d}=e,m=TC(e,SC),{basename:g}=B.useContext(Xi),E,x=!1;if(typeof c=="string"&&VC.test(c)&&(E=c,CC))try{let _=new URL(window.location.href),D=c.startsWith("//")?new URL(_.protocol+c):new URL(c),L=pp(D.pathname,g);D.origin===_.origin&&L!=null?c=L+D.search+D.hash:x=!0}catch{}let R=rC(c,{relative:i}),T=kC(c,{replace:o,state:a,target:l,preventScrollReset:h,relative:i,viewTransition:d});function y(_){r&&r(_),_.defaultPrevented||T(_)}return B.createElement("a",Mf({},m,{href:E||R,onClick:x||s?r:y,ref:n,target:l}))});var Lv;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Lv||(Lv={}));var Fv;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Fv||(Fv={}));function kC(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=yp(),c=rh(),h=FT(t,{relative:o});return B.useCallback(d=>{if(IC(d,n)){d.preventDefault();let m=r!==void 0?r:dc(c)===dc(h);l(t,{replace:m,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,h,r,i,n,t,s,o,a])}function DC({title:t,titleId:e,...n},r){return B.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?B.createElement("title",{id:e},t):null,B.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const vp=B.forwardRef(DC),bC=({id:t,title:e,imageUrl:n,category:r,createdAt:i,readTime:s,author:o})=>N.jsxs(Pi,{to:`/post/${t}`,className:"group block bg-white dark:bg-gray-800 rounded-xl overflow-hidden shadow-sm hover:shadow-lg transition-shadow duration-300",children:[N.jsxs("div",{className:"aspect-w-16 aspect-h-9 relative",children:[N.jsx("img",{src:n,alt:e,className:"w-full h-full object-cover group-hover:scale-105 group-hover:brightness-110 transition-all duration-500"}),N.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 via-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),N.jsxs("div",{className:"p-4 sm:p-5",children:[N.jsxs("div",{className:"flex items-center justify-between mb-3",children:[N.jsx("span",{className:"inline-block px-3 py-1 bg-primary/10 text-primary dark:bg-primary/20 dark:text-primary-light text-xs font-medium rounded-full",children:r}),N.jsx("time",{className:"text-xs text-gray-500 dark:text-gray-400",children:i.toLocaleDateString()})]}),N.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2 line-clamp-2 group-hover:text-primary dark:group-hover:text-primary-light transition-colors duration-300",children:e}),N.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 dark:text-gray-400",children:[(o==null?void 0:o.name)&&N.jsxs("div",{className:"flex items-center",children:[N.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-200 dark:bg-gray-700 mr-2 flex items-center justify-center text-gray-600 dark:text-gray-300",children:o.name[0].toUpperCase()}),N.jsx("span",{children:o.name})]}),N.jsxs("div",{className:"flex items-center",children:[N.jsx(vp,{className:"w-4 h-4 mr-1"}),s]})]})]})]}),UT=()=>N.jsx("div",{className:"flex items-center justify-center",children:N.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})});var Ov={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},NC=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},$T={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,h=s>>2,d=(s&3)<<4|a>>4;let m=(a&15)<<2|c>>6,g=c&63;l||(g=64,o||(m=64)),r.push(n[h],n[d],n[m],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(zT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):NC(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||d==null)throw new MC;const m=s<<2|a>>4;if(r.push(m),c!==64){const g=a<<4&240|c>>2;if(r.push(g),d!==64){const E=c<<6&192|d;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class MC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const LC=function(t){const e=zT(t);return $T.encodeByteArray(e,!0)},fc=function(t){return LC(t).replace(/\./g,"")},FC=function(t){try{return $T.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC=()=>OC().__FIREBASE_DEFAULTS__,BC=()=>{if(typeof process>"u"||typeof Ov>"u")return;const t=Ov.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},UC=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&FC(t[1]);return e&&JSON.parse(e)},_p=()=>{try{return jC()||BC()||UC()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},zC=t=>{var e,n;return(n=(e=_p())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},$C=t=>{const e=zC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},KT=()=>{var t;return(t=_p())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[fc(JSON.stringify(n)),fc(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mc(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function GC(){var t;const e=(t=_p())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qT(){return!GC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function GT(){try{return typeof indexedDB=="object"}catch{return!1}}function WC(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC="FirebaseError";class vo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=HC,Object.setPrototypeOf(this,vo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,WT.prototype.create)}}class WT{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?QC(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new vo(i,a,r)}}function QC(t,e){return t.replace(YC,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const YC=/\{\$([^}]+)}/g;function Lf(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(jv(s)&&jv(o)){if(!Lf(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function jv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ya(t){return t&&t._delegate?t._delegate:t}class Xa{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new KC;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ZC(e))try{this.getOrInitializeService({instanceIdentifier:gi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=gi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=gi){return this.instances.has(e)}getOptions(e=gi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:JC(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=gi){return this.component?this.component.multipleInstances?e:gi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function JC(t){return t===gi?void 0:t}function ZC(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new XC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ve;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ve||(ve={}));const tV={debug:ve.DEBUG,verbose:ve.VERBOSE,info:ve.INFO,warn:ve.WARN,error:ve.ERROR,silent:ve.SILENT},nV=ve.INFO,rV={[ve.DEBUG]:"log",[ve.VERBOSE]:"log",[ve.INFO]:"info",[ve.WARN]:"warn",[ve.ERROR]:"error"},iV=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=rV[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class HT{constructor(e){this.name=e,this._logLevel=nV,this._logHandler=iV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?tV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ve.DEBUG,...e),this._logHandler(this,ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ve.VERBOSE,...e),this._logHandler(this,ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ve.INFO,...e),this._logHandler(this,ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ve.WARN,...e),this._logHandler(this,ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ve.ERROR,...e),this._logHandler(this,ve.ERROR,...e)}}const sV=(t,e)=>e.some(n=>t instanceof n);let Bv,Uv;function oV(){return Bv||(Bv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aV(){return Uv||(Uv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const QT=new WeakMap,Ff=new WeakMap,YT=new WeakMap,vd=new WeakMap,wp=new WeakMap;function lV(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(jr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&QT.set(n,t)}).catch(()=>{}),wp.set(e,t),e}function uV(t){if(Ff.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Ff.set(t,e)}let Of={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ff.get(t);if(e==="objectStoreNames")return t.objectStoreNames||YT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return jr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function cV(t){Of=t(Of)}function hV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(_d(this),e,...n);return YT.set(r,e.sort?e.sort():[e]),jr(r)}:aV().includes(t)?function(...e){return t.apply(_d(this),e),jr(QT.get(this))}:function(...e){return jr(t.apply(_d(this),e))}}function dV(t){return typeof t=="function"?hV(t):(t instanceof IDBTransaction&&uV(t),sV(t,oV())?new Proxy(t,Of):t)}function jr(t){if(t instanceof IDBRequest)return lV(t);if(vd.has(t))return vd.get(t);const e=dV(t);return e!==t&&(vd.set(t,e),wp.set(e,t)),e}const _d=t=>wp.get(t);function fV(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=jr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(jr(o.result),l.oldVersion,l.newVersion,jr(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const mV=["get","getKey","getAll","getAllKeys","count"],pV=["put","add","delete","clear"],wd=new Map;function zv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(wd.get(e))return wd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=pV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||mV.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return wd.set(e,s),s}cV(t=>({...t,get:(e,n,r)=>zv(e,n)||t.get(e,n,r),has:(e,n)=>!!zv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(yV(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function yV(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const jf="@firebase/app",$v="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lr=new HT("@firebase/app"),vV="@firebase/app-compat",_V="@firebase/analytics-compat",wV="@firebase/analytics",EV="@firebase/app-check-compat",TV="@firebase/app-check",xV="@firebase/auth",IV="@firebase/auth-compat",SV="@firebase/database",AV="@firebase/data-connect",PV="@firebase/database-compat",RV="@firebase/functions",CV="@firebase/functions-compat",VV="@firebase/installations",kV="@firebase/installations-compat",DV="@firebase/messaging",bV="@firebase/messaging-compat",NV="@firebase/performance",MV="@firebase/performance-compat",LV="@firebase/remote-config",FV="@firebase/remote-config-compat",OV="@firebase/storage",jV="@firebase/storage-compat",BV="@firebase/firestore",UV="@firebase/vertexai-preview",zV="@firebase/firestore-compat",$V="firebase",KV="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bf="[DEFAULT]",qV={[jf]:"fire-core",[vV]:"fire-core-compat",[wV]:"fire-analytics",[_V]:"fire-analytics-compat",[TV]:"fire-app-check",[EV]:"fire-app-check-compat",[xV]:"fire-auth",[IV]:"fire-auth-compat",[SV]:"fire-rtdb",[AV]:"fire-data-connect",[PV]:"fire-rtdb-compat",[RV]:"fire-fn",[CV]:"fire-fn-compat",[VV]:"fire-iid",[kV]:"fire-iid-compat",[DV]:"fire-fcm",[bV]:"fire-fcm-compat",[NV]:"fire-perf",[MV]:"fire-perf-compat",[LV]:"fire-rc",[FV]:"fire-rc-compat",[OV]:"fire-gcs",[jV]:"fire-gcs-compat",[BV]:"fire-fst",[zV]:"fire-fst-compat",[UV]:"fire-vertex","fire-js":"fire-js",[$V]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pc=new Map,GV=new Map,Uf=new Map;function Kv(t,e){try{t.container.addComponent(e)}catch(n){lr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function gc(t){const e=t.name;if(Uf.has(e))return lr.debug(`There were multiple attempts to register component ${e}.`),!1;Uf.set(e,t);for(const n of pc.values())Kv(n,t);for(const n of GV.values())Kv(n,t);return!0}function WV(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Br=new WT("app","Firebase",HV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Br.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YV=KV;function XT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Bf,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Br.create("bad-app-name",{appName:String(i)});if(n||(n=KT()),!n)throw Br.create("no-options");const s=pc.get(i);if(s){if(Lf(n,s.options)&&Lf(r,s.config))return s;throw Br.create("duplicate-app",{appName:i})}const o=new eV(i);for(const l of Uf.values())o.addComponent(l);const a=new QV(n,r,o);return pc.set(i,a),a}function XV(t=Bf){const e=pc.get(t);if(!e&&t===Bf&&KT())return XT();if(!e)throw Br.create("no-app",{appName:t});return e}function Gs(t,e,n){var r;let i=(r=qV[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),lr.warn(a.join(" "));return}gc(new Xa(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JV="firebase-heartbeat-database",ZV=1,Ja="firebase-heartbeat-store";let Ed=null;function JT(){return Ed||(Ed=fV(JV,ZV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ja)}catch(n){console.warn(n)}}}}).catch(t=>{throw Br.create("idb-open",{originalErrorMessage:t.message})})),Ed}async function ek(t){try{const n=(await JT()).transaction(Ja),r=await n.objectStore(Ja).get(ZT(t));return await n.done,r}catch(e){if(e instanceof vo)lr.warn(e.message);else{const n=Br.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});lr.warn(n.message)}}}async function qv(t,e){try{const r=(await JT()).transaction(Ja,"readwrite");await r.objectStore(Ja).put(e,ZT(t)),await r.done}catch(n){if(n instanceof vo)lr.warn(n.message);else{const r=Br.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});lr.warn(r.message)}}}function ZT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tk=1024,nk=30*24*60*60*1e3;class rk{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new sk(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Gv();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=nk}),this._storage.overwrite(this._heartbeatsCache))}catch(r){lr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Gv(),{heartbeatsToSend:r,unsentEntries:i}=ik(this._heartbeatsCache.heartbeats),s=fc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return lr.warn(n),""}}}function Gv(){return new Date().toISOString().substring(0,10)}function ik(t,e=tk){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Wv(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Wv(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class sk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return GT()?WC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ek(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return qv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return qv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Wv(t){return fc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ok(t){gc(new Xa("platform-logger",e=>new gV(e),"PRIVATE")),gc(new Xa("heartbeat",e=>new rk(e),"PRIVATE")),Gs(jf,$v,t),Gs(jf,$v,"esm2017"),Gs("fire-js","")}ok("");var ak="firebase",lk="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gs(ak,lk,"app");var Hv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Di,ex;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,v){function S(){}S.prototype=v.prototype,I.D=v.prototype,I.prototype=new S,I.prototype.constructor=I,I.C=function(P,k,V){for(var A=Array(arguments.length-2),se=2;se<arguments.length;se++)A[se-2]=arguments[se];return v.prototype[k].apply(P,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,v,S){S||(S=0);var P=Array(16);if(typeof v=="string")for(var k=0;16>k;++k)P[k]=v.charCodeAt(S++)|v.charCodeAt(S++)<<8|v.charCodeAt(S++)<<16|v.charCodeAt(S++)<<24;else for(k=0;16>k;++k)P[k]=v[S++]|v[S++]<<8|v[S++]<<16|v[S++]<<24;v=I.g[0],S=I.g[1],k=I.g[2];var V=I.g[3],A=v+(V^S&(k^V))+P[0]+3614090360&4294967295;v=S+(A<<7&4294967295|A>>>25),A=V+(k^v&(S^k))+P[1]+3905402710&4294967295,V=v+(A<<12&4294967295|A>>>20),A=k+(S^V&(v^S))+P[2]+606105819&4294967295,k=V+(A<<17&4294967295|A>>>15),A=S+(v^k&(V^v))+P[3]+3250441966&4294967295,S=k+(A<<22&4294967295|A>>>10),A=v+(V^S&(k^V))+P[4]+4118548399&4294967295,v=S+(A<<7&4294967295|A>>>25),A=V+(k^v&(S^k))+P[5]+1200080426&4294967295,V=v+(A<<12&4294967295|A>>>20),A=k+(S^V&(v^S))+P[6]+2821735955&4294967295,k=V+(A<<17&4294967295|A>>>15),A=S+(v^k&(V^v))+P[7]+4249261313&4294967295,S=k+(A<<22&4294967295|A>>>10),A=v+(V^S&(k^V))+P[8]+1770035416&4294967295,v=S+(A<<7&4294967295|A>>>25),A=V+(k^v&(S^k))+P[9]+2336552879&4294967295,V=v+(A<<12&4294967295|A>>>20),A=k+(S^V&(v^S))+P[10]+4294925233&4294967295,k=V+(A<<17&4294967295|A>>>15),A=S+(v^k&(V^v))+P[11]+2304563134&4294967295,S=k+(A<<22&4294967295|A>>>10),A=v+(V^S&(k^V))+P[12]+1804603682&4294967295,v=S+(A<<7&4294967295|A>>>25),A=V+(k^v&(S^k))+P[13]+4254626195&4294967295,V=v+(A<<12&4294967295|A>>>20),A=k+(S^V&(v^S))+P[14]+2792965006&4294967295,k=V+(A<<17&4294967295|A>>>15),A=S+(v^k&(V^v))+P[15]+1236535329&4294967295,S=k+(A<<22&4294967295|A>>>10),A=v+(k^V&(S^k))+P[1]+4129170786&4294967295,v=S+(A<<5&4294967295|A>>>27),A=V+(S^k&(v^S))+P[6]+3225465664&4294967295,V=v+(A<<9&4294967295|A>>>23),A=k+(v^S&(V^v))+P[11]+643717713&4294967295,k=V+(A<<14&4294967295|A>>>18),A=S+(V^v&(k^V))+P[0]+3921069994&4294967295,S=k+(A<<20&4294967295|A>>>12),A=v+(k^V&(S^k))+P[5]+3593408605&4294967295,v=S+(A<<5&4294967295|A>>>27),A=V+(S^k&(v^S))+P[10]+38016083&4294967295,V=v+(A<<9&4294967295|A>>>23),A=k+(v^S&(V^v))+P[15]+3634488961&4294967295,k=V+(A<<14&4294967295|A>>>18),A=S+(V^v&(k^V))+P[4]+3889429448&4294967295,S=k+(A<<20&4294967295|A>>>12),A=v+(k^V&(S^k))+P[9]+568446438&4294967295,v=S+(A<<5&4294967295|A>>>27),A=V+(S^k&(v^S))+P[14]+3275163606&4294967295,V=v+(A<<9&4294967295|A>>>23),A=k+(v^S&(V^v))+P[3]+4107603335&4294967295,k=V+(A<<14&4294967295|A>>>18),A=S+(V^v&(k^V))+P[8]+1163531501&4294967295,S=k+(A<<20&4294967295|A>>>12),A=v+(k^V&(S^k))+P[13]+2850285829&4294967295,v=S+(A<<5&4294967295|A>>>27),A=V+(S^k&(v^S))+P[2]+4243563512&4294967295,V=v+(A<<9&4294967295|A>>>23),A=k+(v^S&(V^v))+P[7]+1735328473&4294967295,k=V+(A<<14&4294967295|A>>>18),A=S+(V^v&(k^V))+P[12]+2368359562&4294967295,S=k+(A<<20&4294967295|A>>>12),A=v+(S^k^V)+P[5]+4294588738&4294967295,v=S+(A<<4&4294967295|A>>>28),A=V+(v^S^k)+P[8]+2272392833&4294967295,V=v+(A<<11&4294967295|A>>>21),A=k+(V^v^S)+P[11]+1839030562&4294967295,k=V+(A<<16&4294967295|A>>>16),A=S+(k^V^v)+P[14]+4259657740&4294967295,S=k+(A<<23&4294967295|A>>>9),A=v+(S^k^V)+P[1]+2763975236&4294967295,v=S+(A<<4&4294967295|A>>>28),A=V+(v^S^k)+P[4]+1272893353&4294967295,V=v+(A<<11&4294967295|A>>>21),A=k+(V^v^S)+P[7]+4139469664&4294967295,k=V+(A<<16&4294967295|A>>>16),A=S+(k^V^v)+P[10]+3200236656&4294967295,S=k+(A<<23&4294967295|A>>>9),A=v+(S^k^V)+P[13]+681279174&4294967295,v=S+(A<<4&4294967295|A>>>28),A=V+(v^S^k)+P[0]+3936430074&4294967295,V=v+(A<<11&4294967295|A>>>21),A=k+(V^v^S)+P[3]+3572445317&4294967295,k=V+(A<<16&4294967295|A>>>16),A=S+(k^V^v)+P[6]+76029189&4294967295,S=k+(A<<23&4294967295|A>>>9),A=v+(S^k^V)+P[9]+3654602809&4294967295,v=S+(A<<4&4294967295|A>>>28),A=V+(v^S^k)+P[12]+3873151461&4294967295,V=v+(A<<11&4294967295|A>>>21),A=k+(V^v^S)+P[15]+530742520&4294967295,k=V+(A<<16&4294967295|A>>>16),A=S+(k^V^v)+P[2]+3299628645&4294967295,S=k+(A<<23&4294967295|A>>>9),A=v+(k^(S|~V))+P[0]+4096336452&4294967295,v=S+(A<<6&4294967295|A>>>26),A=V+(S^(v|~k))+P[7]+1126891415&4294967295,V=v+(A<<10&4294967295|A>>>22),A=k+(v^(V|~S))+P[14]+2878612391&4294967295,k=V+(A<<15&4294967295|A>>>17),A=S+(V^(k|~v))+P[5]+4237533241&4294967295,S=k+(A<<21&4294967295|A>>>11),A=v+(k^(S|~V))+P[12]+1700485571&4294967295,v=S+(A<<6&4294967295|A>>>26),A=V+(S^(v|~k))+P[3]+2399980690&4294967295,V=v+(A<<10&4294967295|A>>>22),A=k+(v^(V|~S))+P[10]+4293915773&4294967295,k=V+(A<<15&4294967295|A>>>17),A=S+(V^(k|~v))+P[1]+2240044497&4294967295,S=k+(A<<21&4294967295|A>>>11),A=v+(k^(S|~V))+P[8]+1873313359&4294967295,v=S+(A<<6&4294967295|A>>>26),A=V+(S^(v|~k))+P[15]+4264355552&4294967295,V=v+(A<<10&4294967295|A>>>22),A=k+(v^(V|~S))+P[6]+2734768916&4294967295,k=V+(A<<15&4294967295|A>>>17),A=S+(V^(k|~v))+P[13]+1309151649&4294967295,S=k+(A<<21&4294967295|A>>>11),A=v+(k^(S|~V))+P[4]+4149444226&4294967295,v=S+(A<<6&4294967295|A>>>26),A=V+(S^(v|~k))+P[11]+3174756917&4294967295,V=v+(A<<10&4294967295|A>>>22),A=k+(v^(V|~S))+P[2]+718787259&4294967295,k=V+(A<<15&4294967295|A>>>17),A=S+(V^(k|~v))+P[9]+3951481745&4294967295,I.g[0]=I.g[0]+v&4294967295,I.g[1]=I.g[1]+(k+(A<<21&4294967295|A>>>11))&4294967295,I.g[2]=I.g[2]+k&4294967295,I.g[3]=I.g[3]+V&4294967295}r.prototype.u=function(I,v){v===void 0&&(v=I.length);for(var S=v-this.blockSize,P=this.B,k=this.h,V=0;V<v;){if(k==0)for(;V<=S;)i(this,I,V),V+=this.blockSize;if(typeof I=="string"){for(;V<v;)if(P[k++]=I.charCodeAt(V++),k==this.blockSize){i(this,P),k=0;break}}else for(;V<v;)if(P[k++]=I[V++],k==this.blockSize){i(this,P),k=0;break}}this.h=k,this.o+=v},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var v=1;v<I.length-8;++v)I[v]=0;var S=8*this.o;for(v=I.length-8;v<I.length;++v)I[v]=S&255,S/=256;for(this.u(I),I=Array(16),v=S=0;4>v;++v)for(var P=0;32>P;P+=8)I[S++]=this.g[v]>>>P&255;return I};function s(I,v){var S=a;return Object.prototype.hasOwnProperty.call(S,I)?S[I]:S[I]=v(I)}function o(I,v){this.h=v;for(var S=[],P=!0,k=I.length-1;0<=k;k--){var V=I[k]|0;P&&V==v||(S[k]=V,P=!1)}this.g=S}var a={};function l(I){return-128<=I&&128>I?s(I,function(v){return new o([v|0],0>v?-1:0)}):new o([I|0],0>I?-1:0)}function c(I){if(isNaN(I)||!isFinite(I))return d;if(0>I)return R(c(-I));for(var v=[],S=1,P=0;I>=S;P++)v[P]=I/S|0,S*=4294967296;return new o(v,0)}function h(I,v){if(I.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(I.charAt(0)=="-")return R(h(I.substring(1),v));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=c(Math.pow(v,8)),P=d,k=0;k<I.length;k+=8){var V=Math.min(8,I.length-k),A=parseInt(I.substring(k,k+V),v);8>V?(V=c(Math.pow(v,V)),P=P.j(V).add(c(A))):(P=P.j(S),P=P.add(c(A)))}return P}var d=l(0),m=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(x(this))return-R(this).m();for(var I=0,v=1,S=0;S<this.g.length;S++){var P=this.i(S);I+=(0<=P?P:4294967296+P)*v,v*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(E(this))return"0";if(x(this))return"-"+R(this).toString(I);for(var v=c(Math.pow(I,6)),S=this,P="";;){var k=D(S,v).g;S=T(S,k.j(v));var V=((0<S.g.length?S.g[0]:S.h)>>>0).toString(I);if(S=k,E(S))return V+P;for(;6>V.length;)V="0"+V;P=V+P}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function E(I){if(I.h!=0)return!1;for(var v=0;v<I.g.length;v++)if(I.g[v]!=0)return!1;return!0}function x(I){return I.h==-1}t.l=function(I){return I=T(this,I),x(I)?-1:E(I)?0:1};function R(I){for(var v=I.g.length,S=[],P=0;P<v;P++)S[P]=~I.g[P];return new o(S,~I.h).add(m)}t.abs=function(){return x(this)?R(this):this},t.add=function(I){for(var v=Math.max(this.g.length,I.g.length),S=[],P=0,k=0;k<=v;k++){var V=P+(this.i(k)&65535)+(I.i(k)&65535),A=(V>>>16)+(this.i(k)>>>16)+(I.i(k)>>>16);P=A>>>16,V&=65535,A&=65535,S[k]=A<<16|V}return new o(S,S[S.length-1]&-2147483648?-1:0)};function T(I,v){return I.add(R(v))}t.j=function(I){if(E(this)||E(I))return d;if(x(this))return x(I)?R(this).j(R(I)):R(R(this).j(I));if(x(I))return R(this.j(R(I)));if(0>this.l(g)&&0>I.l(g))return c(this.m()*I.m());for(var v=this.g.length+I.g.length,S=[],P=0;P<2*v;P++)S[P]=0;for(P=0;P<this.g.length;P++)for(var k=0;k<I.g.length;k++){var V=this.i(P)>>>16,A=this.i(P)&65535,se=I.i(k)>>>16,Te=I.i(k)&65535;S[2*P+2*k]+=A*Te,y(S,2*P+2*k),S[2*P+2*k+1]+=V*Te,y(S,2*P+2*k+1),S[2*P+2*k+1]+=A*se,y(S,2*P+2*k+1),S[2*P+2*k+2]+=V*se,y(S,2*P+2*k+2)}for(P=0;P<v;P++)S[P]=S[2*P+1]<<16|S[2*P];for(P=v;P<2*v;P++)S[P]=0;return new o(S,0)};function y(I,v){for(;(I[v]&65535)!=I[v];)I[v+1]+=I[v]>>>16,I[v]&=65535,v++}function _(I,v){this.g=I,this.h=v}function D(I,v){if(E(v))throw Error("division by zero");if(E(I))return new _(d,d);if(x(I))return v=D(R(I),v),new _(R(v.g),R(v.h));if(x(v))return v=D(I,R(v)),new _(R(v.g),v.h);if(30<I.g.length){if(x(I)||x(v))throw Error("slowDivide_ only works with positive integers.");for(var S=m,P=v;0>=P.l(I);)S=L(S),P=L(P);var k=U(S,1),V=U(P,1);for(P=U(P,2),S=U(S,2);!E(P);){var A=V.add(P);0>=A.l(I)&&(k=k.add(S),V=A),P=U(P,1),S=U(S,1)}return v=T(I,k.j(v)),new _(k,v)}for(k=d;0<=I.l(v);){for(S=Math.max(1,Math.floor(I.m()/v.m())),P=Math.ceil(Math.log(S)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),V=c(S),A=V.j(v);x(A)||0<A.l(I);)S-=P,V=c(S),A=V.j(v);E(V)&&(V=m),k=k.add(V),I=T(I,A)}return new _(k,I)}t.A=function(I){return D(this,I).h},t.and=function(I){for(var v=Math.max(this.g.length,I.g.length),S=[],P=0;P<v;P++)S[P]=this.i(P)&I.i(P);return new o(S,this.h&I.h)},t.or=function(I){for(var v=Math.max(this.g.length,I.g.length),S=[],P=0;P<v;P++)S[P]=this.i(P)|I.i(P);return new o(S,this.h|I.h)},t.xor=function(I){for(var v=Math.max(this.g.length,I.g.length),S=[],P=0;P<v;P++)S[P]=this.i(P)^I.i(P);return new o(S,this.h^I.h)};function L(I){for(var v=I.g.length+1,S=[],P=0;P<v;P++)S[P]=I.i(P)<<1|I.i(P-1)>>>31;return new o(S,I.h)}function U(I,v){var S=v>>5;v%=32;for(var P=I.g.length-S,k=[],V=0;V<P;V++)k[V]=0<v?I.i(V+S)>>>v|I.i(V+S+1)<<32-v:I.i(V+S);return new o(k,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,ex=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,Di=o}).apply(typeof Hv<"u"?Hv:typeof self<"u"?self:typeof window<"u"?window:{});var lu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var tx,sa,nx,Vu,zf,rx,ix,sx;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,f,p){return u==Array.prototype||u==Object.prototype||(u[f]=p.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof lu=="object"&&lu];for(var f=0;f<u.length;++f){var p=u[f];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=n(this);function i(u,f){if(f)e:{var p=r;u=u.split(".");for(var w=0;w<u.length-1;w++){var b=u[w];if(!(b in p))break e;p=p[b]}u=u[u.length-1],w=p[u],f=f(w),f!=w&&f!=null&&e(p,u,{configurable:!0,writable:!0,value:f})}}function s(u,f){u instanceof String&&(u+="");var p=0,w=!1,b={next:function(){if(!w&&p<u.length){var O=p++;return{value:f(O,u[O]),done:!1}}return w=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(u){return u||function(){return s(this,function(f,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var f=typeof u;return f=f!="object"?f:u?Array.isArray(u)?"array":f:"null",f=="array"||f=="object"&&typeof u.length=="number"}function c(u){var f=typeof u;return f=="object"&&u!=null||f=="function"}function h(u,f,p){return u.call.apply(u.bind,arguments)}function d(u,f,p){if(!u)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,w),u.apply(f,b)}}return function(){return u.apply(f,arguments)}}function m(u,f,p){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:d,m.apply(null,arguments)}function g(u,f){var p=Array.prototype.slice.call(arguments,1);return function(){var w=p.slice();return w.push.apply(w,arguments),u.apply(this,w)}}function E(u,f){function p(){}p.prototype=f.prototype,u.aa=f.prototype,u.prototype=new p,u.prototype.constructor=u,u.Qb=function(w,b,O){for(var W=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)W[Ce-2]=arguments[Ce];return f.prototype[b].apply(w,W)}}function x(u){const f=u.length;if(0<f){const p=Array(f);for(let w=0;w<f;w++)p[w]=u[w];return p}return[]}function R(u,f){for(let p=1;p<arguments.length;p++){const w=arguments[p];if(l(w)){const b=u.length||0,O=w.length||0;u.length=b+O;for(let W=0;W<O;W++)u[b+W]=w[W]}else u.push(w)}}class T{constructor(f,p){this.i=f,this.j=p,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function y(u){return/^[\s\xa0]*$/.test(u)}function _(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function D(u){return D[" "](u),u}D[" "]=function(){};var L=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function U(u,f,p){for(const w in u)f.call(p,u[w],w,u)}function I(u,f){for(const p in u)f.call(void 0,u[p],p,u)}function v(u){const f={};for(const p in u)f[p]=u[p];return f}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(u,f){let p,w;for(let b=1;b<arguments.length;b++){w=arguments[b];for(p in w)u[p]=w[p];for(let O=0;O<S.length;O++)p=S[O],Object.prototype.hasOwnProperty.call(w,p)&&(u[p]=w[p])}}function k(u){var f=1;u=u.split(":");const p=[];for(;0<f&&u.length;)p.push(u.shift()),f--;return u.length&&p.push(u.join(":")),p}function V(u){a.setTimeout(()=>{throw u},0)}function A(){var u=ne;let f=null;return u.g&&(f=u.g,u.g=u.g.next,u.g||(u.h=null),f.next=null),f}class se{constructor(){this.h=this.g=null}add(f,p){const w=Te.get();w.set(f,p),this.h?this.h.next=w:this.g=w,this.h=w}}var Te=new T(()=>new fe,u=>u.reset());class fe{constructor(){this.next=this.g=this.h=null}set(f,p){this.h=f,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let xe,G=!1,ne=new se,ae=()=>{const u=a.Promise.resolve(void 0);xe=()=>{u.then(oe)}};var oe=()=>{for(var u;u=A();){try{u.h.call(u.g)}catch(p){V(p)}var f=Te;f.j(u),100>f.h&&(f.h++,u.next=f.g,f.g=u)}G=!1};function pe(){this.s=this.s,this.C=this.C}pe.prototype.s=!1,pe.prototype.ma=function(){this.s||(this.s=!0,this.N())},pe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Re(u,f){this.type=u,this.g=this.target=f,this.defaultPrevented=!1}Re.prototype.h=function(){this.defaultPrevented=!0};var Bt=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,f=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const p=()=>{};a.addEventListener("test",p,f),a.removeEventListener("test",p,f)}catch{}return u}();function Pt(u,f){if(Re.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var p=this.type=u.type,w=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=f,f=u.relatedTarget){if(L){e:{try{D(f.nodeName);var b=!0;break e}catch{}b=!1}b||(f=null)}}else p=="mouseover"?f=u.fromElement:p=="mouseout"&&(f=u.toElement);this.relatedTarget=f,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:ht[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Pt.aa.h.call(this)}}E(Pt,Re);var ht={2:"touch",3:"pen",4:"mouse"};Pt.prototype.h=function(){Pt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var vt="closure_listenable_"+(1e6*Math.random()|0),ns=0;function qn(u,f,p,w,b){this.listener=u,this.proxy=null,this.src=f,this.type=p,this.capture=!!w,this.ha=b,this.key=++ns,this.da=this.fa=!1}function Xt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ut(u){this.src=u,this.g={},this.h=0}Ut.prototype.add=function(u,f,p,w,b){var O=u.toString();u=this.g[O],u||(u=this.g[O]=[],this.h++);var W=xo(u,f,w,b);return-1<W?(f=u[W],p||(f.fa=!1)):(f=new qn(f,this.src,O,!!w,b),f.fa=p,u.push(f)),f};function si(u,f){var p=f.type;if(p in u.g){var w=u.g[p],b=Array.prototype.indexOf.call(w,f,void 0),O;(O=0<=b)&&Array.prototype.splice.call(w,b,1),O&&(Xt(f),u.g[p].length==0&&(delete u.g[p],u.h--))}}function xo(u,f,p,w){for(var b=0;b<u.length;++b){var O=u[b];if(!O.da&&O.listener==f&&O.capture==!!p&&O.ha==w)return b}return-1}var rs="closure_lm_"+(1e6*Math.random()|0),is={};function Rl(u,f,p,w,b){if(Array.isArray(f)){for(var O=0;O<f.length;O++)Rl(u,f[O],p,w,b);return null}return p=q(p),u&&u[vt]?u.K(f,p,c(w)?!!w.capture:!1,b):Ch(u,f,p,!1,w,b)}function Ch(u,f,p,w,b,O){if(!f)throw Error("Invalid event type");var W=c(b)?!!b.capture:!!b,Ce=Q(u);if(Ce||(u[rs]=Ce=new Ut(u)),p=Ce.add(f,p,w,W,O),p.proxy)return p;if(w=Cg(),p.proxy=w,w.src=u,w.listener=p,u.addEventListener)Bt||(b=W),b===void 0&&(b=!1),u.addEventListener(f.toString(),w,b);else if(u.attachEvent)u.attachEvent(F(f.toString()),w);else if(u.addListener&&u.removeListener)u.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Cg(){function u(p){return f.call(u.src,u.listener,p)}const f=j;return u}function Io(u,f,p,w,b){if(Array.isArray(f))for(var O=0;O<f.length;O++)Io(u,f[O],p,w,b);else w=c(w)?!!w.capture:!!w,p=q(p),u&&u[vt]?(u=u.i,f=String(f).toString(),f in u.g&&(O=u.g[f],p=xo(O,p,w,b),-1<p&&(Xt(O[p]),Array.prototype.splice.call(O,p,1),O.length==0&&(delete u.g[f],u.h--)))):u&&(u=Q(u))&&(f=u.g[f.toString()],u=-1,f&&(u=xo(f,p,w,b)),(p=-1<u?f[u]:null)&&C(p))}function C(u){if(typeof u!="number"&&u&&!u.da){var f=u.src;if(f&&f[vt])si(f.i,u);else{var p=u.type,w=u.proxy;f.removeEventListener?f.removeEventListener(p,w,u.capture):f.detachEvent?f.detachEvent(F(p),w):f.addListener&&f.removeListener&&f.removeListener(w),(p=Q(f))?(si(p,u),p.h==0&&(p.src=null,f[rs]=null)):Xt(u)}}}function F(u){return u in is?is[u]:is[u]="on"+u}function j(u,f){if(u.da)u=!0;else{f=new Pt(f,this);var p=u.listener,w=u.ha||u.src;u.fa&&C(u),u=p.call(w,f)}return u}function Q(u){return u=u[rs],u instanceof Ut?u:null}var H="__closure_events_fn_"+(1e9*Math.random()>>>0);function q(u){return typeof u=="function"?u:(u[H]||(u[H]=function(f){return u.handleEvent(f)}),u[H])}function X(){pe.call(this),this.i=new Ut(this),this.M=this,this.F=null}E(X,pe),X.prototype[vt]=!0,X.prototype.removeEventListener=function(u,f,p,w){Io(this,u,f,p,w)};function ue(u,f){var p,w=u.F;if(w)for(p=[];w;w=w.F)p.push(w);if(u=u.M,w=f.type||f,typeof f=="string")f=new Re(f,u);else if(f instanceof Re)f.target=f.target||u;else{var b=f;f=new Re(w,u),P(f,b)}if(b=!0,p)for(var O=p.length-1;0<=O;O--){var W=f.g=p[O];b=Ee(W,w,!0,f)&&b}if(W=f.g=u,b=Ee(W,w,!0,f)&&b,b=Ee(W,w,!1,f)&&b,p)for(O=0;O<p.length;O++)W=f.g=p[O],b=Ee(W,w,!1,f)&&b}X.prototype.N=function(){if(X.aa.N.call(this),this.i){var u=this.i,f;for(f in u.g){for(var p=u.g[f],w=0;w<p.length;w++)Xt(p[w]);delete u.g[f],u.h--}}this.F=null},X.prototype.K=function(u,f,p,w){return this.i.add(String(u),f,!1,p,w)},X.prototype.L=function(u,f,p,w){return this.i.add(String(u),f,!0,p,w)};function Ee(u,f,p,w){if(f=u.i.g[String(f)],!f)return!0;f=f.concat();for(var b=!0,O=0;O<f.length;++O){var W=f[O];if(W&&!W.da&&W.capture==p){var Ce=W.listener,dt=W.ha||W.src;W.fa&&si(u.i,W),b=Ce.call(dt,w)!==!1&&b}}return b&&!w.defaultPrevented}function Rt(u,f,p){if(typeof u=="function")p&&(u=m(u,p));else if(u&&typeof u.handleEvent=="function")u=m(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:a.setTimeout(u,f||0)}function oi(u){u.g=Rt(()=>{u.g=null,u.i&&(u.i=!1,oi(u))},u.l);const f=u.h;u.h=null,u.m.apply(null,f)}class Dn extends pe{constructor(f,p){super(),this.m=f,this.l=p,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:oi(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ai(u){pe.call(this),this.h=u,this.g={}}E(ai,pe);var ss=[];function os(u){U(u.g,function(f,p){this.g.hasOwnProperty(p)&&C(f)},u),u.g={}}ai.prototype.N=function(){ai.aa.N.call(this),os(this)},ai.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var So=a.JSON.stringify,Cl=a.JSON.parse,Vh=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function as(){}as.prototype.h=null;function Vg(u){return u.h||(u.h=u.i())}function kg(){}var Ao={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function kh(){Re.call(this,"d")}E(kh,Re);function Dh(){Re.call(this,"c")}E(Dh,Re);var li={},Dg=null;function Vl(){return Dg=Dg||new X}li.La="serverreachability";function bg(u){Re.call(this,li.La,u)}E(bg,Re);function Po(u){const f=Vl();ue(f,new bg(f))}li.STAT_EVENT="statevent";function Ng(u,f){Re.call(this,li.STAT_EVENT,u),this.stat=f}E(Ng,Re);function Ct(u){const f=Vl();ue(f,new Ng(f,u))}li.Ma="timingevent";function Mg(u,f){Re.call(this,li.Ma,u),this.size=f}E(Mg,Re);function Ro(u,f){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},f)}function Co(){this.g=!0}Co.prototype.xa=function(){this.g=!1};function DA(u,f,p,w,b,O){u.info(function(){if(u.g)if(O)for(var W="",Ce=O.split("&"),dt=0;dt<Ce.length;dt++){var we=Ce[dt].split("=");if(1<we.length){var _t=we[0];we=we[1];var wt=_t.split("_");W=2<=wt.length&&wt[1]=="type"?W+(_t+"="+we+"&"):W+(_t+"=redacted&")}}else W=null;else W=O;return"XMLHTTP REQ ("+w+") [attempt "+b+"]: "+f+`
`+p+`
`+W})}function bA(u,f,p,w,b,O,W){u.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+b+"]: "+f+`
`+p+`
`+O+" "+W})}function ls(u,f,p,w){u.info(function(){return"XMLHTTP TEXT ("+f+"): "+MA(u,p)+(w?" "+w:"")})}function NA(u,f){u.info(function(){return"TIMEOUT: "+f})}Co.prototype.info=function(){};function MA(u,f){if(!u.g)return f;if(!f)return null;try{var p=JSON.parse(f);if(p){for(u=0;u<p.length;u++)if(Array.isArray(p[u])){var w=p[u];if(!(2>w.length)){var b=w[1];if(Array.isArray(b)&&!(1>b.length)){var O=b[0];if(O!="noop"&&O!="stop"&&O!="close")for(var W=1;W<b.length;W++)b[W]=""}}}}return So(p)}catch{return f}}var kl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Lg={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},bh;function Dl(){}E(Dl,as),Dl.prototype.g=function(){return new XMLHttpRequest},Dl.prototype.i=function(){return{}},bh=new Dl;function dr(u,f,p,w){this.j=u,this.i=f,this.l=p,this.R=w||1,this.U=new ai(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Fg}function Fg(){this.i=null,this.g="",this.h=!1}var Og={},Nh={};function Mh(u,f,p){u.L=1,u.v=Ll(Gn(f)),u.m=p,u.P=!0,jg(u,null)}function jg(u,f){u.F=Date.now(),bl(u),u.A=Gn(u.v);var p=u.A,w=u.R;Array.isArray(w)||(w=[String(w)]),Zg(p.i,"t",w),u.C=0,p=u.j.J,u.h=new Fg,u.g=yy(u.j,p?f:null,!u.m),0<u.O&&(u.M=new Dn(m(u.Y,u,u.g),u.O)),f=u.U,p=u.g,w=u.ca;var b="readystatechange";Array.isArray(b)||(b&&(ss[0]=b.toString()),b=ss);for(var O=0;O<b.length;O++){var W=Rl(p,b[O],w||f.handleEvent,!1,f.h||f);if(!W)break;f.g[W.key]=W}f=u.H?v(u.H):{},u.m?(u.u||(u.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,f)):(u.u="GET",u.g.ea(u.A,u.u,null,f)),Po(),DA(u.i,u.u,u.A,u.l,u.R,u.m)}dr.prototype.ca=function(u){u=u.target;const f=this.M;f&&Wn(u)==3?f.j():this.Y(u)},dr.prototype.Y=function(u){try{if(u==this.g)e:{const wt=Wn(this.g);var f=this.g.Ba();const hs=this.g.Z();if(!(3>wt)&&(wt!=3||this.g&&(this.h.h||this.g.oa()||oy(this.g)))){this.J||wt!=4||f==7||(f==8||0>=hs?Po(3):Po(2)),Lh(this);var p=this.g.Z();this.X=p;t:if(Bg(this)){var w=oy(this.g);u="";var b=w.length,O=Wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ui(this),Vo(this);var W="";break t}this.h.i=new a.TextDecoder}for(f=0;f<b;f++)this.h.h=!0,u+=this.h.i.decode(w[f],{stream:!(O&&f==b-1)});w.length=0,this.h.g+=u,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=p==200,bA(this.i,this.u,this.A,this.l,this.R,wt,p),this.o){if(this.T&&!this.K){t:{if(this.g){var Ce,dt=this.g;if((Ce=dt.g?dt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(Ce)){var we=Ce;break t}}we=null}if(p=we)ls(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fh(this,p);else{this.o=!1,this.s=3,Ct(12),ui(this),Vo(this);break e}}if(this.P){p=!0;let Tn;for(;!this.J&&this.C<W.length;)if(Tn=LA(this,W),Tn==Nh){wt==4&&(this.s=4,Ct(14),p=!1),ls(this.i,this.l,null,"[Incomplete Response]");break}else if(Tn==Og){this.s=4,Ct(15),ls(this.i,this.l,W,"[Invalid Chunk]"),p=!1;break}else ls(this.i,this.l,Tn,null),Fh(this,Tn);if(Bg(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||W.length!=0||this.h.h||(this.s=1,Ct(16),p=!1),this.o=this.o&&p,!p)ls(this.i,this.l,W,"[Invalid Chunked Response]"),ui(this),Vo(this);else if(0<W.length&&!this.W){this.W=!0;var _t=this.j;_t.g==this&&_t.ba&&!_t.M&&(_t.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),$h(_t),_t.M=!0,Ct(11))}}else ls(this.i,this.l,W,null),Fh(this,W);wt==4&&ui(this),this.o&&!this.J&&(wt==4?fy(this.j,this):(this.o=!1,bl(this)))}else ZA(this.g),p==400&&0<W.indexOf("Unknown SID")?(this.s=3,Ct(12)):(this.s=0,Ct(13)),ui(this),Vo(this)}}}catch{}finally{}};function Bg(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function LA(u,f){var p=u.C,w=f.indexOf(`
`,p);return w==-1?Nh:(p=Number(f.substring(p,w)),isNaN(p)?Og:(w+=1,w+p>f.length?Nh:(f=f.slice(w,w+p),u.C=w+p,f)))}dr.prototype.cancel=function(){this.J=!0,ui(this)};function bl(u){u.S=Date.now()+u.I,Ug(u,u.I)}function Ug(u,f){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Ro(m(u.ba,u),f)}function Lh(u){u.B&&(a.clearTimeout(u.B),u.B=null)}dr.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(NA(this.i,this.A),this.L!=2&&(Po(),Ct(17)),ui(this),this.s=2,Vo(this)):Ug(this,this.S-u)};function Vo(u){u.j.G==0||u.J||fy(u.j,u)}function ui(u){Lh(u);var f=u.M;f&&typeof f.ma=="function"&&f.ma(),u.M=null,os(u.U),u.g&&(f=u.g,u.g=null,f.abort(),f.ma())}function Fh(u,f){try{var p=u.j;if(p.G!=0&&(p.g==u||Oh(p.h,u))){if(!u.K&&Oh(p.h,u)&&p.G==3){try{var w=p.Da.g.parse(f)}catch{w=null}if(Array.isArray(w)&&w.length==3){var b=w;if(b[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<u.F)zl(p),Bl(p);else break e;zh(p),Ct(18)}}else p.za=b[1],0<p.za-p.T&&37500>b[2]&&p.F&&p.v==0&&!p.C&&(p.C=Ro(m(p.Za,p),6e3));if(1>=Kg(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else hi(p,11)}else if((u.K||p.g==u)&&zl(p),!y(f))for(b=p.Da.g.parse(f),f=0;f<b.length;f++){let we=b[f];if(p.T=we[0],we=we[1],p.G==2)if(we[0]=="c"){p.K=we[1],p.ia=we[2];const _t=we[3];_t!=null&&(p.la=_t,p.j.info("VER="+p.la));const wt=we[4];wt!=null&&(p.Aa=wt,p.j.info("SVER="+p.Aa));const hs=we[5];hs!=null&&typeof hs=="number"&&0<hs&&(w=1.5*hs,p.L=w,p.j.info("backChannelRequestTimeoutMs_="+w)),w=p;const Tn=u.g;if(Tn){const Kl=Tn.g?Tn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Kl){var O=w.h;O.g||Kl.indexOf("spdy")==-1&&Kl.indexOf("quic")==-1&&Kl.indexOf("h2")==-1||(O.j=O.l,O.g=new Set,O.h&&(jh(O,O.h),O.h=null))}if(w.D){const Kh=Tn.g?Tn.g.getResponseHeader("X-HTTP-Session-Id"):null;Kh&&(w.ya=Kh,ke(w.I,w.D,Kh))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-u.F,p.j.info("Handshake RTT: "+p.R+"ms")),w=p;var W=u;if(w.qa=gy(w,w.J?w.ia:null,w.W),W.K){qg(w.h,W);var Ce=W,dt=w.L;dt&&(Ce.I=dt),Ce.B&&(Lh(Ce),bl(Ce)),w.g=W}else hy(w);0<p.i.length&&Ul(p)}else we[0]!="stop"&&we[0]!="close"||hi(p,7);else p.G==3&&(we[0]=="stop"||we[0]=="close"?we[0]=="stop"?hi(p,7):Uh(p):we[0]!="noop"&&p.l&&p.l.ta(we),p.v=0)}}Po(4)}catch{}}var FA=class{constructor(u,f){this.g=u,this.map=f}};function zg(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $g(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Kg(u){return u.h?1:u.g?u.g.size:0}function Oh(u,f){return u.h?u.h==f:u.g?u.g.has(f):!1}function jh(u,f){u.g?u.g.add(f):u.h=f}function qg(u,f){u.h&&u.h==f?u.h=null:u.g&&u.g.has(f)&&u.g.delete(f)}zg.prototype.cancel=function(){if(this.i=Gg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Gg(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let f=u.i;for(const p of u.g.values())f=f.concat(p.D);return f}return x(u.i)}function OA(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var f=[],p=u.length,w=0;w<p;w++)f.push(u[w]);return f}f=[],p=0;for(w in u)f[p++]=u[w];return f}function jA(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var f=[];u=u.length;for(var p=0;p<u;p++)f.push(p);return f}f=[],p=0;for(const w in u)f[p++]=w;return f}}}function Wg(u,f){if(u.forEach&&typeof u.forEach=="function")u.forEach(f,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,f,void 0);else for(var p=jA(u),w=OA(u),b=w.length,O=0;O<b;O++)f.call(void 0,w[O],p&&p[O],u)}var Hg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function BA(u,f){if(u){u=u.split("&");for(var p=0;p<u.length;p++){var w=u[p].indexOf("="),b=null;if(0<=w){var O=u[p].substring(0,w);b=u[p].substring(w+1)}else O=u[p];f(O,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function ci(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ci){this.h=u.h,Nl(this,u.j),this.o=u.o,this.g=u.g,Ml(this,u.s),this.l=u.l;var f=u.i,p=new bo;p.i=f.i,f.g&&(p.g=new Map(f.g),p.h=f.h),Qg(this,p),this.m=u.m}else u&&(f=String(u).match(Hg))?(this.h=!1,Nl(this,f[1]||"",!0),this.o=ko(f[2]||""),this.g=ko(f[3]||"",!0),Ml(this,f[4]),this.l=ko(f[5]||"",!0),Qg(this,f[6]||"",!0),this.m=ko(f[7]||"")):(this.h=!1,this.i=new bo(null,this.h))}ci.prototype.toString=function(){var u=[],f=this.j;f&&u.push(Do(f,Yg,!0),":");var p=this.g;return(p||f=="file")&&(u.push("//"),(f=this.o)&&u.push(Do(f,Yg,!0),"@"),u.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&u.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(Do(p,p.charAt(0)=="/"?$A:zA,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",Do(p,qA)),u.join("")};function Gn(u){return new ci(u)}function Nl(u,f,p){u.j=p?ko(f,!0):f,u.j&&(u.j=u.j.replace(/:$/,""))}function Ml(u,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);u.s=f}else u.s=null}function Qg(u,f,p){f instanceof bo?(u.i=f,GA(u.i,u.h)):(p||(f=Do(f,KA)),u.i=new bo(f,u.h))}function ke(u,f,p){u.i.set(f,p)}function Ll(u){return ke(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function ko(u,f){return u?f?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Do(u,f,p){return typeof u=="string"?(u=encodeURI(u).replace(f,UA),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function UA(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Yg=/[#\/\?@]/g,zA=/[#\?:]/g,$A=/[#\?]/g,KA=/[#\?@]/g,qA=/#/g;function bo(u,f){this.h=this.g=null,this.i=u||null,this.j=!!f}function fr(u){u.g||(u.g=new Map,u.h=0,u.i&&BA(u.i,function(f,p){u.add(decodeURIComponent(f.replace(/\+/g," ")),p)}))}t=bo.prototype,t.add=function(u,f){fr(this),this.i=null,u=us(this,u);var p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(f),this.h+=1,this};function Xg(u,f){fr(u),f=us(u,f),u.g.has(f)&&(u.i=null,u.h-=u.g.get(f).length,u.g.delete(f))}function Jg(u,f){return fr(u),f=us(u,f),u.g.has(f)}t.forEach=function(u,f){fr(this),this.g.forEach(function(p,w){p.forEach(function(b){u.call(f,b,w,this)},this)},this)},t.na=function(){fr(this);const u=Array.from(this.g.values()),f=Array.from(this.g.keys()),p=[];for(let w=0;w<f.length;w++){const b=u[w];for(let O=0;O<b.length;O++)p.push(f[w])}return p},t.V=function(u){fr(this);let f=[];if(typeof u=="string")Jg(this,u)&&(f=f.concat(this.g.get(us(this,u))));else{u=Array.from(this.g.values());for(let p=0;p<u.length;p++)f=f.concat(u[p])}return f},t.set=function(u,f){return fr(this),this.i=null,u=us(this,u),Jg(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[f]),this.h+=1,this},t.get=function(u,f){return u?(u=this.V(u),0<u.length?String(u[0]):f):f};function Zg(u,f,p){Xg(u,f),0<p.length&&(u.i=null,u.g.set(us(u,f),x(p)),u.h+=p.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],f=Array.from(this.g.keys());for(var p=0;p<f.length;p++){var w=f[p];const O=encodeURIComponent(String(w)),W=this.V(w);for(w=0;w<W.length;w++){var b=O;W[w]!==""&&(b+="="+encodeURIComponent(String(W[w]))),u.push(b)}}return this.i=u.join("&")};function us(u,f){return f=String(f),u.j&&(f=f.toLowerCase()),f}function GA(u,f){f&&!u.j&&(fr(u),u.i=null,u.g.forEach(function(p,w){var b=w.toLowerCase();w!=b&&(Xg(this,w),Zg(this,b,p))},u)),u.j=f}function WA(u,f){const p=new Co;if(a.Image){const w=new Image;w.onload=g(mr,p,"TestLoadImage: loaded",!0,f,w),w.onerror=g(mr,p,"TestLoadImage: error",!1,f,w),w.onabort=g(mr,p,"TestLoadImage: abort",!1,f,w),w.ontimeout=g(mr,p,"TestLoadImage: timeout",!1,f,w),a.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=u}else f(!1)}function HA(u,f){const p=new Co,w=new AbortController,b=setTimeout(()=>{w.abort(),mr(p,"TestPingServer: timeout",!1,f)},1e4);fetch(u,{signal:w.signal}).then(O=>{clearTimeout(b),O.ok?mr(p,"TestPingServer: ok",!0,f):mr(p,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(b),mr(p,"TestPingServer: error",!1,f)})}function mr(u,f,p,w,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),w(p)}catch{}}function QA(){this.g=new Vh}function YA(u,f,p){const w=p||"";try{Wg(u,function(b,O){let W=b;c(b)&&(W=So(b)),f.push(w+O+"="+encodeURIComponent(W))})}catch(b){throw f.push(w+"type="+encodeURIComponent("_badmap")),b}}function Fl(u){this.l=u.Ub||null,this.j=u.eb||!1}E(Fl,as),Fl.prototype.g=function(){return new Ol(this.l,this.j)},Fl.prototype.i=function(u){return function(){return u}}({});function Ol(u,f){X.call(this),this.D=u,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(Ol,X),t=Ol.prototype,t.open=function(u,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=f,this.readyState=1,Mo(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(f.body=u),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,No(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Mo(this)),this.g&&(this.readyState=3,Mo(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ey(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function ey(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var f=u.value?u.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!u.done}))&&(this.response=this.responseText+=f)}u.done?No(this):Mo(this),this.readyState==3&&ey(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,No(this))},t.Qa=function(u){this.g&&(this.response=u,No(this))},t.ga=function(){this.g&&No(this)};function No(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Mo(u)}t.setRequestHeader=function(u,f){this.u.append(u,f)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],f=this.h.entries();for(var p=f.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=f.next();return u.join(`\r
`)};function Mo(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ol.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function ty(u){let f="";return U(u,function(p,w){f+=w,f+=":",f+=p,f+=`\r
`}),f}function Bh(u,f,p){e:{for(w in p){var w=!1;break e}w=!0}w||(p=ty(p),typeof u=="string"?p!=null&&encodeURIComponent(String(p)):ke(u,f,p))}function qe(u){X.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(qe,X);var XA=/^https?$/i,JA=["POST","PUT"];t=qe.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,f,p,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);f=f?f.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():bh.g(),this.v=this.o?Vg(this.o):Vg(bh),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(f,String(u),!0),this.B=!1}catch(O){ny(this,O);return}if(u=p||"",p=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var b in w)p.set(b,w[b]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const O of w.keys())p.set(O,w.get(O));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(p.keys()).find(O=>O.toLowerCase()=="content-type"),b=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(JA,f,void 0))||w||b||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[O,W]of p)this.g.setRequestHeader(O,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{sy(this),this.u=!0,this.g.send(u),this.u=!1}catch(O){ny(this,O)}};function ny(u,f){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=f,u.m=5,ry(u),jl(u)}function ry(u){u.A||(u.A=!0,ue(u,"complete"),ue(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,ue(this,"complete"),ue(this,"abort"),jl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),jl(this,!0)),qe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?iy(this):this.bb())},t.bb=function(){iy(this)};function iy(u){if(u.h&&typeof o<"u"&&(!u.v[1]||Wn(u)!=4||u.Z()!=2)){if(u.u&&Wn(u)==4)Rt(u.Ea,0,u);else if(ue(u,"readystatechange"),Wn(u)==4){u.h=!1;try{const W=u.Z();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var p;if(!(p=f)){var w;if(w=W===0){var b=String(u.D).match(Hg)[1]||null;!b&&a.self&&a.self.location&&(b=a.self.location.protocol.slice(0,-1)),w=!XA.test(b?b.toLowerCase():"")}p=w}if(p)ue(u,"complete"),ue(u,"success");else{u.m=6;try{var O=2<Wn(u)?u.g.statusText:""}catch{O=""}u.l=O+" ["+u.Z()+"]",ry(u)}}finally{jl(u)}}}}function jl(u,f){if(u.g){sy(u);const p=u.g,w=u.v[0]?()=>{}:null;u.g=null,u.v=null,f||ue(u,"ready");try{p.onreadystatechange=w}catch{}}}function sy(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Wn(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Wn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var f=this.g.responseText;return u&&f.indexOf(u)==0&&(f=f.substring(u.length)),Cl(f)}};function oy(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ZA(u){const f={};u=(u.g&&2<=Wn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<u.length;w++){if(y(u[w]))continue;var p=k(u[w]);const b=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const O=f[b]||[];f[b]=O,O.push(p)}I(f,function(w){return w.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Lo(u,f,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||f}function ay(u){this.Aa=0,this.i=[],this.j=new Co,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Lo("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Lo("baseRetryDelayMs",5e3,u),this.cb=Lo("retryDelaySeedMs",1e4,u),this.Wa=Lo("forwardChannelMaxRetries",2,u),this.wa=Lo("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new zg(u&&u.concurrentRequestLimit),this.Da=new QA,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ay.prototype,t.la=8,t.G=1,t.connect=function(u,f,p,w){Ct(0),this.W=u,this.H=f||{},p&&w!==void 0&&(this.H.OSID=p,this.H.OAID=w),this.F=this.X,this.I=gy(this,null,this.W),Ul(this)};function Uh(u){if(ly(u),u.G==3){var f=u.U++,p=Gn(u.I);if(ke(p,"SID",u.K),ke(p,"RID",f),ke(p,"TYPE","terminate"),Fo(u,p),f=new dr(u,u.j,f),f.L=2,f.v=Ll(Gn(p)),p=!1,a.navigator&&a.navigator.sendBeacon)try{p=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!p&&a.Image&&(new Image().src=f.v,p=!0),p||(f.g=yy(f.j,null),f.g.ea(f.v)),f.F=Date.now(),bl(f)}py(u)}function Bl(u){u.g&&($h(u),u.g.cancel(),u.g=null)}function ly(u){Bl(u),u.u&&(a.clearTimeout(u.u),u.u=null),zl(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function Ul(u){if(!$g(u.h)&&!u.s){u.s=!0;var f=u.Ga;xe||ae(),G||(xe(),G=!0),ne.add(f,u),u.B=0}}function e1(u,f){return Kg(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=f.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Ro(m(u.Ga,u,f),my(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const b=new dr(this,this.j,u);let O=this.o;if(this.S&&(O?(O=v(O),P(O,this.S)):O=this.S),this.m!==null||this.O||(b.H=O,O=null),this.P)e:{for(var f=0,p=0;p<this.i.length;p++){t:{var w=this.i[p];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(f+=w,4096<f){f=p;break e}if(f===4096||p===this.i.length-1){f=p+1;break e}}f=1e3}else f=1e3;f=cy(this,b,f),p=Gn(this.I),ke(p,"RID",u),ke(p,"CVER",22),this.D&&ke(p,"X-HTTP-Session-Id",this.D),Fo(this,p),O&&(this.O?f="headers="+encodeURIComponent(String(ty(O)))+"&"+f:this.m&&Bh(p,this.m,O)),jh(this.h,b),this.Ua&&ke(p,"TYPE","init"),this.P?(ke(p,"$req",f),ke(p,"SID","null"),b.T=!0,Mh(b,p,null)):Mh(b,p,f),this.G=2}}else this.G==3&&(u?uy(this,u):this.i.length==0||$g(this.h)||uy(this))};function uy(u,f){var p;f?p=f.l:p=u.U++;const w=Gn(u.I);ke(w,"SID",u.K),ke(w,"RID",p),ke(w,"AID",u.T),Fo(u,w),u.m&&u.o&&Bh(w,u.m,u.o),p=new dr(u,u.j,p,u.B+1),u.m===null&&(p.H=u.o),f&&(u.i=f.D.concat(u.i)),f=cy(u,p,1e3),p.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),jh(u.h,p),Mh(p,w,f)}function Fo(u,f){u.H&&U(u.H,function(p,w){ke(f,w,p)}),u.l&&Wg({},function(p,w){ke(f,w,p)})}function cy(u,f,p){p=Math.min(u.i.length,p);var w=u.l?m(u.l.Na,u.l,u):null;e:{var b=u.i;let O=-1;for(;;){const W=["count="+p];O==-1?0<p?(O=b[0].g,W.push("ofs="+O)):O=0:W.push("ofs="+O);let Ce=!0;for(let dt=0;dt<p;dt++){let we=b[dt].g;const _t=b[dt].map;if(we-=O,0>we)O=Math.max(0,b[dt].g-100),Ce=!1;else try{YA(_t,W,"req"+we+"_")}catch{w&&w(_t)}}if(Ce){w=W.join("&");break e}}}return u=u.i.splice(0,p),f.D=u,w}function hy(u){if(!u.g&&!u.u){u.Y=1;var f=u.Fa;xe||ae(),G||(xe(),G=!0),ne.add(f,u),u.v=0}}function zh(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Ro(m(u.Fa,u),my(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,dy(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Ro(m(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ct(10),Bl(this),dy(this))};function $h(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function dy(u){u.g=new dr(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var f=Gn(u.qa);ke(f,"RID","rpc"),ke(f,"SID",u.K),ke(f,"AID",u.T),ke(f,"CI",u.F?"0":"1"),!u.F&&u.ja&&ke(f,"TO",u.ja),ke(f,"TYPE","xmlhttp"),Fo(u,f),u.m&&u.o&&Bh(f,u.m,u.o),u.L&&(u.g.I=u.L);var p=u.g;u=u.ia,p.L=1,p.v=Ll(Gn(f)),p.m=null,p.P=!0,jg(p,u)}t.Za=function(){this.C!=null&&(this.C=null,Bl(this),zh(this),Ct(19))};function zl(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function fy(u,f){var p=null;if(u.g==f){zl(u),$h(u),u.g=null;var w=2}else if(Oh(u.h,f))p=f.D,qg(u.h,f),w=1;else return;if(u.G!=0){if(f.o)if(w==1){p=f.m?f.m.length:0,f=Date.now()-f.F;var b=u.B;w=Vl(),ue(w,new Mg(w,p)),Ul(u)}else hy(u);else if(b=f.s,b==3||b==0&&0<f.X||!(w==1&&e1(u,f)||w==2&&zh(u)))switch(p&&0<p.length&&(f=u.h,f.i=f.i.concat(p)),b){case 1:hi(u,5);break;case 4:hi(u,10);break;case 3:hi(u,6);break;default:hi(u,2)}}}function my(u,f){let p=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(p*=2),p*f}function hi(u,f){if(u.j.info("Error code "+f),f==2){var p=m(u.fb,u),w=u.Xa;const b=!w;w=new ci(w||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Nl(w,"https"),Ll(w),b?WA(w.toString(),p):HA(w.toString(),p)}else Ct(2);u.G=0,u.l&&u.l.sa(f),py(u),ly(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Ct(2)):(this.j.info("Failed to ping google.com"),Ct(1))};function py(u){if(u.G=0,u.ka=[],u.l){const f=Gg(u.h);(f.length!=0||u.i.length!=0)&&(R(u.ka,f),R(u.ka,u.i),u.h.i.length=0,x(u.i),u.i.length=0),u.l.ra()}}function gy(u,f,p){var w=p instanceof ci?Gn(p):new ci(p);if(w.g!="")f&&(w.g=f+"."+w.g),Ml(w,w.s);else{var b=a.location;w=b.protocol,f=f?f+"."+b.hostname:b.hostname,b=+b.port;var O=new ci(null);w&&Nl(O,w),f&&(O.g=f),b&&Ml(O,b),p&&(O.l=p),w=O}return p=u.D,f=u.ya,p&&f&&ke(w,p,f),ke(w,"VER",u.la),Fo(u,w),w}function yy(u,f,p){if(f&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=u.Ca&&!u.pa?new qe(new Fl({eb:p})):new qe(u.pa),f.Ha(u.J),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function vy(){}t=vy.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function $l(){}$l.prototype.g=function(u,f){return new Jt(u,f)};function Jt(u,f){X.call(this),this.g=new ay(f),this.l=u,this.h=f&&f.messageUrlParams||null,u=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(u?u["X-WebChannel-Content-Type"]=f.messageContentType:u={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(u?u["X-WebChannel-Client-Profile"]=f.va:u={"X-WebChannel-Client-Profile":f.va}),this.g.S=u,(u=f&&f.Sb)&&!y(u)&&(this.g.m=u),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!y(f)&&(this.g.D=f,u=this.h,u!==null&&f in u&&(u=this.h,f in u&&delete u[f])),this.j=new cs(this)}E(Jt,X),Jt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Jt.prototype.close=function(){Uh(this.g)},Jt.prototype.o=function(u){var f=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.u&&(p={},p.__data__=So(u),u=p);f.i.push(new FA(f.Ya++,u)),f.G==3&&Ul(f)},Jt.prototype.N=function(){this.g.l=null,delete this.j,Uh(this.g),delete this.g,Jt.aa.N.call(this)};function _y(u){kh.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var f=u.__sm__;if(f){e:{for(const p in f){u=p;break e}u=void 0}(this.i=u)&&(u=this.i,f=f!==null&&u in f?f[u]:void 0),this.data=f}else this.data=u}E(_y,kh);function wy(){Dh.call(this),this.status=1}E(wy,Dh);function cs(u){this.g=u}E(cs,vy),cs.prototype.ua=function(){ue(this.g,"a")},cs.prototype.ta=function(u){ue(this.g,new _y(u))},cs.prototype.sa=function(u){ue(this.g,new wy)},cs.prototype.ra=function(){ue(this.g,"b")},$l.prototype.createWebChannel=$l.prototype.g,Jt.prototype.send=Jt.prototype.o,Jt.prototype.open=Jt.prototype.m,Jt.prototype.close=Jt.prototype.close,sx=function(){return new $l},ix=function(){return Vl()},rx=li,zf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},kl.NO_ERROR=0,kl.TIMEOUT=8,kl.HTTP_ERROR=6,Vu=kl,Lg.COMPLETE="complete",nx=Lg,kg.EventType=Ao,Ao.OPEN="a",Ao.CLOSE="b",Ao.ERROR="c",Ao.MESSAGE="d",X.prototype.listen=X.prototype.K,sa=kg,qe.prototype.listenOnce=qe.prototype.L,qe.prototype.getLastError=qe.prototype.Ka,qe.prototype.getLastErrorCode=qe.prototype.Ba,qe.prototype.getStatus=qe.prototype.Z,qe.prototype.getResponseJson=qe.prototype.Oa,qe.prototype.getResponseText=qe.prototype.oa,qe.prototype.send=qe.prototype.ea,qe.prototype.setWithCredentials=qe.prototype.Ha,tx=qe}).apply(typeof lu<"u"?lu:typeof self<"u"?self:typeof window<"u"?window:{});const Qv="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mt.UNAUTHENTICATED=new mt(null),mt.GOOGLE_CREDENTIALS=new mt("google-credentials-uid"),mt.FIRST_PARTY=new mt("first-party-uid"),mt.MOCK_USER=new mt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _o="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi=new HT("@firebase/firestore");function _s(){return Bi.logLevel}function $(t,...e){if(Bi.logLevel<=ve.DEBUG){const n=e.map(Ep);Bi.debug(`Firestore (${_o}): ${t}`,...n)}}function Nt(t,...e){if(Bi.logLevel<=ve.ERROR){const n=e.map(Ep);Bi.error(`Firestore (${_o}): ${t}`,...n)}}function Ui(t,...e){if(Bi.logLevel<=ve.WARN){const n=e.map(Ep);Bi.warn(`Firestore (${_o}): ${t}`,...n)}}function Ep(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function te(t="Unexpected state"){const e=`FIRESTORE (${_o}) INTERNAL ASSERTION FAILED: `+t;throw Nt(e),new Error(e)}function re(t,e){t||te()}function ce(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class J extends vo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class uk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(mt.UNAUTHENTICATED))}shutdown(){}}class ck{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class hk{constructor(e){this.t=e,this.currentUser=mt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){re(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new zn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new zn,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{$("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):($("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new zn)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?($("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(re(typeof r.accessToken=="string"),new ox(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return re(e===null||typeof e=="string"),new mt(e)}}class dk{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=mt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class fk{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new dk(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(mt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class mk{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pk{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){re(this.o===void 0);const r=s=>{s.error!=null&&$("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,$("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{$("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):$("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(re(typeof n.token=="string"),this.R=n.token,new mk(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gk(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=gk(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function he(t,e){return t<e?-1:t>e?1:0}function to(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function lx(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new J(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new J(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new J(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new J(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return $e.fromMillis(Date.now())}static fromDate(e){return $e.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new $e(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?he(this.nanoseconds,e.nanoseconds):he(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ie(e)}static min(){return new ie(new $e(0,0))}static max(){return new ie(new $e(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e,n,r){n===void 0?n=0:n>e.length&&te(),r===void 0?r=e.length-n:r>e.length-n&&te(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Za.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Za?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ie extends Za{construct(e,n,r){return new Ie(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new J(z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ie(n)}static emptyPath(){return new Ie([])}}const yk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Be extends Za{construct(e,n,r){return new Be(e,n,r)}static isValidIdentifier(e){return yk.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Be.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Be(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new J(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new J(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new J(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new J(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Be(n)}static emptyPath(){return new Be([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.path=e}static fromPath(e){return new Y(Ie.fromString(e))}static fromName(e){return new Y(Ie.fromString(e).popFirst(5))}static empty(){return new Y(Ie.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ie.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ie.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Y(new Ie(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function $f(t){return t.fields.find(e=>e.kind===2)}function yi(t){return t.fields.filter(e=>e.kind!==2)}yc.UNKNOWN_ID=-1;class ku{constructor(e,n){this.fieldPath=e,this.kind=n}}class el{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new el(0,on.min())}}function vk(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ie.fromTimestamp(r===1e9?new $e(n+1,0):new $e(n,r));return new on(i,Y.empty(),e)}function ux(t){return new on(t.readTime,t.key,-1)}class on{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new on(ie.min(),Y.empty(),-1)}static max(){return new on(ie.max(),Y.empty(),-1)}}function Tp(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Y.comparator(t.documentKey,e.documentKey),n!==0?n:he(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class hx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ji(t){if(t.code!==z.FAILED_PRECONDITION||t.message!==cx)throw t;$("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new M((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof M?n:M.resolve(n)}catch(n){return M.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):M.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):M.reject(n)}static resolve(e){return new M((n,r)=>{n(e)})}static reject(e){return new M((n,r)=>{r(e)})}static waitFor(e){return new M((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=M.resolve(!1);for(const r of e)n=n.next(i=>i?M.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new M((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(h=>{o[c]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new M((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new zn,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new wa(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=xp(r.target.error);this.V.reject(new wa(e,i))}}static open(e,n,r,i){try{return new ih(n,e.transaction(i,r))}catch(s){throw new wa(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||($("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new wk(n)}}class Ur{constructor(e,n,r){this.name=e,this.version=n,this.p=r,Ur.S(mc())===12.2&&Nt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return $("SimpleDb","Removing database:",e),wi(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!GT())return!1;if(Ur.v())return!0;const e=mc(),n=Ur.S(e),r=0<n&&n<10,i=dx(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.C)==="YES"}static F(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}async M(e){return this.db||($("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new wa(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new J(z.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new J(z.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new wa(e,o))},i.onupgradeneeded=s=>{$("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.p.O(o,i.transaction,s.oldVersion,this.version).next(()=>{$("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=n=>this.N(n)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.M(e);const a=ih.open(this.db,e,s?"readonly":"readwrite",r),l=i(a).next(c=>(a.g(),c)).catch(c=>(a.abort(c),M.reject(c))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,c=l.name!=="FirebaseError"&&o<3;if($("SimpleDb","Transaction failed with error:",l.message,"Retrying:",c),this.close(),!c)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}function dx(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class _k{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return wi(this.B.delete())}}class wa extends J{constructor(e,n){super(z.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function ti(t){return t.name==="IndexedDbTransactionError"}class wk{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?($("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):($("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),wi(r)}add(e){return $("SimpleDb","ADD",this.store.name,e,e),wi(this.store.add(e))}get(e){return wi(this.store.get(e)).next(n=>(n===void 0&&(n=null),$("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return $("SimpleDb","DELETE",this.store.name,e),wi(this.store.delete(e))}count(){return $("SimpleDb","COUNT",this.store.name),wi(this.store.count())}U(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new M((o,a)=>{s.onerror=l=>{a(l.target.error)},s.onsuccess=l=>{o(l.target.result)}})}{const s=this.cursor(r),o=[];return this.W(s,(a,l)=>{o.push(l)}).next(()=>o)}}G(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new M((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}j(e,n){$("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.H=!1;const i=this.cursor(r);return this.W(i,(s,o,a)=>a.delete())}J(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.W(i,n)}Y(e){const n=this.cursor({});return new M((r,i)=>{n.onerror=s=>{const o=xp(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}W(e,n){const r=[];return new M((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const l=new _k(a),c=n(a.primaryKey,a.value,l);if(c instanceof M){const h=c.catch(d=>(l.done(),M.reject(d)));r.push(h)}l.isDone?i():l.K===null?a.continue():a.continue(l.K)}}).next(()=>M.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function wi(t){return new M((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=xp(r.target.error);n(i)}})}let Yv=!1;function xp(t){const e=Ur.S(mc());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new J("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Yv||(Yv=!0,setTimeout(()=>{throw r},0)),r}}return t}class Ek{constructor(e,n){this.asyncQueue=e,this.Z=n,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){$("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{$("IndexBackfiller",`Documents written: ${await this.Z.ee()}`)}catch(n){ti(n)?$("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",n):await Ji(n)}await this.X(6e4)})}}class Tk{constructor(e,n){this.localStore=e,this.persistence=n}async ee(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.te(n,e))}te(e,n){const r=new Set;let i=n,s=!0;return M.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return $("IndexBackfiller",`Processing collection: ${o}`),this.ne(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>n-i)}ne(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.re(i,s)).next(a=>($("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}re(e,n){let r=e;return n.changes.forEach((i,s)=>{const o=ux(s);Tp(o,r)>0&&(r=o)}),new on(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}pn.oe=-1;function sh(t){return t==null}function tl(t){return t===0&&1/t==-1/0}function xk(t){return typeof t=="number"&&Number.isInteger(t)&&!tl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Xv(e)),e=Ik(t.get(n),e);return Xv(e)}function Ik(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function Xv(t){return t+""}function Fn(t){const e=t.length;if(re(e>=2),e===2)return re(t.charAt(0)===""&&t.charAt(1)===""),Ie.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const o=t.indexOf("",s);switch((o<0||o>n)&&te(),t.charAt(o+1)){case"":const a=t.substring(s,o);let l;i.length===0?l=a:(i+=a,l=i,i=""),r.push(l);break;case"":i+=t.substring(s,o),i+="\0";break;case"":i+=t.substring(s,o+1);break;default:te()}s=o+2}return new Ie(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Du(t,e){return[t,Lt(e)]}function fx(t,e,n){return[t,Lt(e),n]}const Sk={},Ak=["prefixPath","collectionGroup","readTime","documentId"],Pk=["prefixPath","collectionGroup","documentId"],Rk=["collectionGroup","readTime","prefixPath","documentId"],Ck=["canonicalId","targetId"],Vk=["targetId","path"],kk=["path","targetId"],Dk=["collectionId","parent"],bk=["indexId","uid"],Nk=["uid","sequenceNumber"],Mk=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Lk=["indexId","uid","orderedDocumentKey"],Fk=["userId","collectionPath","documentId"],Ok=["userId","collectionPath","largestBatchId"],jk=["userId","collectionGroup","largestBatchId"],mx=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Bk=[...mx,"documentOverlays"],px=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],gx=px,Ip=[...gx,"indexConfiguration","indexState","indexEntries"],Uk=Ip,zk=[...Ip,"globals"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf extends hx{constructor(e,n){super(),this._e=e,this.currentSequenceNumber=n}}function ot(t,e){const n=ce(t);return Ur.F(n._e,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zv(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function wo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function yx(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(e,n){this.comparator=e,this.root=n||pt.EMPTY}insert(e,n){return new Oe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,pt.BLACK,null,null))}remove(e){return new Oe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new uu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new uu(this.root,e,this.comparator,!1)}getReverseIterator(){return new uu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new uu(this.root,e,this.comparator,!0)}}class uu{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class pt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??pt.RED,this.left=i??pt.EMPTY,this.right=s??pt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new pt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return pt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return pt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,pt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,pt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw te();const e=this.left.check();if(e!==this.right.check())throw te();return e+(this.isRed()?0:1)}}pt.EMPTY=null,pt.RED=!0,pt.BLACK=!1;pt.EMPTY=new class{constructor(){this.size=0}get key(){throw te()}get value(){throw te()}get color(){throw te()}get left(){throw te()}get right(){throw te()}copy(e,n,r,i,s){return this}insert(e,n,r){return new pt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.comparator=e,this.data=new Oe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new e_(this.data.getIterator())}getIteratorFrom(e){return new e_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Pe)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Pe(this.comparator);return n.data=e,n}}class e_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function fs(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.fields=e,e.sort(Be.comparator)}static empty(){return new gn([])}unionWith(e){let n=new Pe(Be.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new gn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return to(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new vx("Invalid base64 string: "+s):s}}(e);return new rt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new rt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return he(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rt.EMPTY_BYTE_STRING=new rt("");const $k=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ur(t){if(re(!!t),typeof t=="string"){let e=0;const n=$k.exec(t);if(re(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Le(t.seconds),nanos:Le(t.nanos)}}function Le(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Gr(t){return typeof t=="string"?rt.fromBase64String(t):rt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sp(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Ap(t){const e=t.mapValue.fields.__previous_value__;return Sp(e)?Ap(e):e}function nl(t){const e=ur(t.mapValue.fields.__local_write_time__.timestampValue);return new $e(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(e,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class zi{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new zi("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof zi&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cr={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},bu={nullValue:"NULL_VALUE"};function $i(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Sp(t)?4:_x(t)?9007199254740991:oh(t)?10:11:te()}function Kn(t,e){if(t===e)return!0;const n=$i(t);if(n!==$i(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return nl(t).isEqual(nl(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=ur(i.timestampValue),a=ur(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Gr(i.bytesValue).isEqual(Gr(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Le(i.geoPointValue.latitude)===Le(s.geoPointValue.latitude)&&Le(i.geoPointValue.longitude)===Le(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Le(i.integerValue)===Le(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Le(i.doubleValue),a=Le(s.doubleValue);return o===a?tl(o)===tl(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return to(t.arrayValue.values||[],e.arrayValue.values||[],Kn);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Zv(o)!==Zv(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Kn(o[l],a[l])))return!1;return!0}(t,e);default:return te()}}function rl(t,e){return(t.values||[]).find(n=>Kn(n,e))!==void 0}function Wr(t,e){if(t===e)return 0;const n=$i(t),r=$i(e);if(n!==r)return he(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return he(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Le(s.integerValue||s.doubleValue),l=Le(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return t_(t.timestampValue,e.timestampValue);case 4:return t_(nl(t),nl(e));case 5:return he(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Gr(s),l=Gr(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const h=he(a[c],l[c]);if(h!==0)return h}return he(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=he(Le(s.latitude),Le(o.latitude));return a!==0?a:he(Le(s.longitude),Le(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return n_(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,c,h;const d=s.fields||{},m=o.fields||{},g=(a=d.value)===null||a===void 0?void 0:a.arrayValue,E=(l=m.value)===null||l===void 0?void 0:l.arrayValue,x=he(((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0,((h=E==null?void 0:E.values)===null||h===void 0?void 0:h.length)||0);return x!==0?x:n_(g,E)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Cr.mapValue&&o===Cr.mapValue)return 0;if(s===Cr.mapValue)return 1;if(o===Cr.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},h=Object.keys(c);l.sort(),h.sort();for(let d=0;d<l.length&&d<h.length;++d){const m=he(l[d],h[d]);if(m!==0)return m;const g=Wr(a[l[d]],c[h[d]]);if(g!==0)return g}return he(l.length,h.length)}(t.mapValue,e.mapValue);default:throw te()}}function t_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return he(t,e);const n=ur(t),r=ur(e),i=he(n.seconds,r.seconds);return i!==0?i:he(n.nanos,r.nanos)}function n_(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Wr(n[i],r[i]);if(s)return s}return he(n.length,r.length)}function no(t){return qf(t)}function qf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ur(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Gr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Y.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=qf(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${qf(n.fields[o])}`;return i+"}"}(t.mapValue):te()}function Pp(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Gf(t){return!!t&&"integerValue"in t}function il(t){return!!t&&"arrayValue"in t}function r_(t){return!!t&&"nullValue"in t}function i_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Nu(t){return!!t&&"mapValue"in t}function oh(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Ea(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return wo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ea(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ea(t.arrayValue.values[n]);return e}return Object.assign({},t)}function _x(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}const wx={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function qk(t){return"nullValue"in t?bu:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Pp(zi.empty(),Y.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?oh(t)?wx:{mapValue:{}}:te()}function Gk(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Pp(zi.empty(),Y.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?wx:"mapValue"in t?oh(t)?{mapValue:{}}:Cr:te()}function s_(t,e){const n=Wr(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function o_(t,e){const n=Wr(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.value=e}static empty(){return new qt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Nu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ea(n)}setAll(e){let n=Be.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Ea(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Nu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Kn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Nu(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){wo(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new qt(Ea(this.value))}}function Ex(t){const e=[];return wo(t.fields,(n,r)=>{const i=new Be([n]);if(Nu(r)){const s=Ex(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new gn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new We(e,0,ie.min(),ie.min(),ie.min(),qt.empty(),0)}static newFoundDocument(e,n,r,i){return new We(e,1,n,ie.min(),r,i,0)}static newNoDocument(e,n){return new We(e,2,n,ie.min(),ie.min(),qt.empty(),0)}static newUnknownDocument(e,n){return new We(e,3,n,ie.min(),ie.min(),qt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof We&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new We(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e,n){this.position=e,this.inclusive=n}}function a_(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Y.comparator(Y.fromName(o.referenceValue),n.key):r=Wr(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function l_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Kn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,n="asc"){this.field=e,this.dir=n}}function Wk(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{}class ge extends Tx{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Hk(e,n,r):n==="array-contains"?new Xk(e,r):n==="in"?new Rx(e,r):n==="not-in"?new Jk(e,r):n==="array-contains-any"?new Zk(e,r):new ge(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Qk(e,r):new Yk(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Wr(n,this.value)):n!==null&&$i(this.value)===$i(n)&&this.matchesComparison(Wr(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ae extends Tx{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Ae(e,n)}matches(e){return io(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function io(t){return t.op==="and"}function Wf(t){return t.op==="or"}function Rp(t){return xx(t)&&io(t)}function xx(t){for(const e of t.filters)if(e instanceof Ae)return!1;return!0}function Hf(t){if(t instanceof ge)return t.field.canonicalString()+t.op.toString()+no(t.value);if(Rp(t))return t.filters.map(e=>Hf(e)).join(",");{const e=t.filters.map(n=>Hf(n)).join(",");return`${t.op}(${e})`}}function Ix(t,e){return t instanceof ge?function(r,i){return i instanceof ge&&r.op===i.op&&r.field.isEqual(i.field)&&Kn(r.value,i.value)}(t,e):t instanceof Ae?function(r,i){return i instanceof Ae&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&Ix(o,i.filters[a]),!0):!1}(t,e):void te()}function Sx(t,e){const n=t.filters.concat(e);return Ae.create(n,t.op)}function Ax(t){return t instanceof ge?function(n){return`${n.field.canonicalString()} ${n.op} ${no(n.value)}`}(t):t instanceof Ae?function(n){return n.op.toString()+" {"+n.getFilters().map(Ax).join(" ,")+"}"}(t):"Filter"}class Hk extends ge{constructor(e,n,r){super(e,n,r),this.key=Y.fromName(r.referenceValue)}matches(e){const n=Y.comparator(e.key,this.key);return this.matchesComparison(n)}}class Qk extends ge{constructor(e,n){super(e,"in",n),this.keys=Px("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Yk extends ge{constructor(e,n){super(e,"not-in",n),this.keys=Px("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Px(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Y.fromName(r.referenceValue))}class Xk extends ge{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return il(n)&&rl(n.arrayValue,this.value)}}class Rx extends ge{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&rl(this.value.arrayValue,n)}}class Jk extends ge{constructor(e,n){super(e,"not-in",n)}matches(e){if(rl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!rl(this.value.arrayValue,n)}}class Zk extends ge{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!il(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>rl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function Qf(t,e=null,n=[],r=[],i=null,s=null,o=null){return new eD(t,e,n,r,i,s,o)}function Ki(t){const e=ce(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Hf(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),sh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>no(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>no(r)).join(",")),e.ue=n}return e.ue}function gl(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Wk(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Ix(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!l_(t.startAt,e.startAt)&&l_(t.endAt,e.endAt)}function _c(t){return Y.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function wc(t,e){return t.filters.filter(n=>n instanceof ge&&n.field.isEqual(e))}function u_(t,e,n){let r=bu,i=!0;for(const s of wc(t,e)){let o=bu,a=!0;switch(s.op){case"<":case"<=":o=qk(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=bu}s_({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];s_({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}function c_(t,e,n){let r=Cr,i=!0;for(const s of wc(t,e)){let o=Cr,a=!0;switch(s.op){case">=":case">":o=Gk(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=Cr}o_({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];o_({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function tD(t,e,n,r,i,s,o,a){return new ah(t,e,n,r,i,s,o,a)}function lh(t){return new ah(t)}function h_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function nD(t){return t.collectionGroup!==null}function Ta(t){const e=ce(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Pe(Be.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new vc(s,r))}),n.has(Be.keyField().canonicalString())||e.ce.push(new vc(Be.keyField(),r))}return e.ce}function vn(t){const e=ce(t);return e.le||(e.le=rD(e,Ta(t))),e.le}function rD(t,e){if(t.limitType==="F")return Qf(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new vc(i.field,s)});const n=t.endAt?new ro(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ro(t.startAt.position,t.startAt.inclusive):null;return Qf(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Yf(t,e,n){return new ah(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function uh(t,e){return gl(vn(t),vn(e))&&t.limitType===e.limitType}function Cx(t){return`${Ki(vn(t))}|lt:${t.limitType}`}function ws(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Ax(i)).join(", ")}]`),sh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>no(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>no(i)).join(",")),`Target(${r})`}(vn(t))}; limitType=${t.limitType})`}function yl(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Y.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Ta(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=a_(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Ta(r),i)||r.endAt&&!function(o,a,l){const c=a_(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Ta(r),i))}(t,e)}function iD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Vx(t){return(e,n)=>{let r=!1;for(const i of Ta(t)){const s=sD(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function sD(t,e,n){const r=t.field.isKeyField()?Y.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?Wr(l,c):te()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return te()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){wo(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return yx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD=new Oe(Y.comparator);function tn(){return oD}const kx=new Oe(Y.comparator);function oa(...t){let e=kx;for(const n of t)e=e.insert(n.key,n);return e}function Dx(t){let e=kx;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function On(){return xa()}function bx(){return xa()}function xa(){return new ni(t=>t.toString(),(t,e)=>t.isEqual(e))}const aD=new Oe(Y.comparator),lD=new Pe(Y.comparator);function de(...t){let e=lD;for(const n of t)e=e.add(n);return e}const uD=new Pe(he);function cD(){return uD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cp(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tl(e)?"-0":e}}function Nx(t){return{integerValue:""+t}}function hD(t,e){return xk(e)?Nx(e):Cp(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(){this._=void 0}}function dD(t,e,n){return t instanceof so?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Sp(s)&&(s=Ap(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof oo?Lx(t,e):t instanceof ao?Fx(t,e):function(i,s){const o=Mx(i,s),a=d_(o)+d_(i.Pe);return Gf(o)&&Gf(i.Pe)?Nx(a):Cp(i.serializer,a)}(t,e)}function fD(t,e,n){return t instanceof oo?Lx(t,e):t instanceof ao?Fx(t,e):n}function Mx(t,e){return t instanceof sl?function(r){return Gf(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class so extends ch{}class oo extends ch{constructor(e){super(),this.elements=e}}function Lx(t,e){const n=Ox(e);for(const r of t.elements)n.some(i=>Kn(i,r))||n.push(r);return{arrayValue:{values:n}}}class ao extends ch{constructor(e){super(),this.elements=e}}function Fx(t,e){let n=Ox(e);for(const r of t.elements)n=n.filter(i=>!Kn(i,r));return{arrayValue:{values:n}}}class sl extends ch{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function d_(t){return Le(t.integerValue||t.doubleValue)}function Ox(t){return il(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(e,n){this.field=e,this.transform=n}}function mD(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof oo&&i instanceof oo||r instanceof ao&&i instanceof ao?to(r.elements,i.elements,Kn):r instanceof sl&&i instanceof sl?Kn(r.Pe,i.Pe):r instanceof so&&i instanceof so}(t.transform,e.transform)}class pD{constructor(e,n){this.version=e,this.transformResults=n}}class nn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new nn}static exists(e){return new nn(void 0,e)}static updateTime(e){return new nn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class hh{}function Bx(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Vp(t.key,nn.none()):new Eo(t.key,t.data,nn.none());{const n=t.data,r=qt.empty();let i=new Pe(Be.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new ri(t.key,r,new gn(i.toArray()),nn.none())}}function gD(t,e,n){t instanceof Eo?function(i,s,o){const a=i.value.clone(),l=m_(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ri?function(i,s,o){if(!Mu(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=m_(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(Ux(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ia(t,e,n,r){return t instanceof Eo?function(s,o,a,l){if(!Mu(s.precondition,o))return a;const c=s.value.clone(),h=p_(s.fieldTransforms,l,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof ri?function(s,o,a,l){if(!Mu(s.precondition,o))return a;const c=p_(s.fieldTransforms,l,o),h=o.data;return h.setAll(Ux(s)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return Mu(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function yD(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=Mx(r.transform,i||null);s!=null&&(n===null&&(n=qt.empty()),n.set(r.field,s))}return n||null}function f_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&to(r,i,(s,o)=>mD(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Eo extends hh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ri extends hh{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Ux(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function m_(t,e,n){const r=new Map;re(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,fD(o,a,n[i]))}return r}function p_(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,dD(s,o,e))}return r}class Vp extends hh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zx extends hh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&gD(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ia(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ia(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=bx();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=Bx(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ie.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),de())}isEqual(e){return this.batchId===e.batchId&&to(this.mutations,e.mutations,(n,r)=>f_(n,r))&&to(this.baseMutations,e.baseMutations,(n,r)=>f_(n,r))}}class Dp{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){re(e.mutations.length===r.length);let i=function(){return aD}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Dp(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Je,ye;function _D(t){switch(t){default:return te();case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0}}function $x(t){if(t===void 0)return Nt("GRPC error has no .code"),z.UNKNOWN;switch(t){case Je.OK:return z.OK;case Je.CANCELLED:return z.CANCELLED;case Je.UNKNOWN:return z.UNKNOWN;case Je.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case Je.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case Je.INTERNAL:return z.INTERNAL;case Je.UNAVAILABLE:return z.UNAVAILABLE;case Je.UNAUTHENTICATED:return z.UNAUTHENTICATED;case Je.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case Je.NOT_FOUND:return z.NOT_FOUND;case Je.ALREADY_EXISTS:return z.ALREADY_EXISTS;case Je.PERMISSION_DENIED:return z.PERMISSION_DENIED;case Je.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case Je.ABORTED:return z.ABORTED;case Je.OUT_OF_RANGE:return z.OUT_OF_RANGE;case Je.UNIMPLEMENTED:return z.UNIMPLEMENTED;case Je.DATA_LOSS:return z.DATA_LOSS;default:return te()}}(ye=Je||(Je={}))[ye.OK=0]="OK",ye[ye.CANCELLED=1]="CANCELLED",ye[ye.UNKNOWN=2]="UNKNOWN",ye[ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ye[ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ye[ye.NOT_FOUND=5]="NOT_FOUND",ye[ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",ye[ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",ye[ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",ye[ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ye[ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ye[ye.ABORTED=10]="ABORTED",ye[ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",ye[ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",ye[ye.INTERNAL=13]="INTERNAL",ye[ye.UNAVAILABLE=14]="UNAVAILABLE",ye[ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED=new Di([4294967295,4294967295],0);function g_(t){const e=wD().encode(t),n=new ex;return n.update(e),new Uint8Array(n.digest())}function y_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Di([n,r],0),new Di([i,s],0)]}class Np{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new aa(`Invalid padding: ${n}`);if(r<0)throw new aa(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new aa(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new aa(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Di.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Di.fromNumber(r)));return i.compare(ED)===1&&(i=new Di([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=g_(e),[r,i]=y_(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Np(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=g_(e),[r,i]=y_(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class aa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,vl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new dh(ie.min(),i,new Oe(he),tn(),de())}}class vl{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new vl(r,n,de(),de(),de())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class Kx{constructor(e,n){this.targetId=e,this.me=n}}class qx{constructor(e,n,r=rt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class v_{constructor(){this.fe=0,this.ge=w_(),this.pe=rt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=de(),n=de(),r=de();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:te()}}),new vl(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=w_()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,re(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class TD{constructor(e){this.Le=e,this.Be=new Map,this.ke=tn(),this.qe=__(),this.Qe=new Oe(he)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:te()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(_c(s))if(r===0){const o=new Y(s.path);this.Ue(n,o,We.newNoDocument(o,ie.min()))}else re(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Gr(r).toUint8Array()}catch(l){if(l instanceof vx)return Ui("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Np(o,i,s)}catch(l){return Ui(l instanceof aa?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&_c(a.target)){const l=new Y(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,We.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=de();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new dh(e,n,this.Qe,this.ke,r);return this.ke=tn(),this.qe=__(),this.Qe=new Oe(he),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new v_,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Pe(he),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||$("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new v_),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function __(){return new Oe(Y.comparator)}function w_(){return new Oe(Y.comparator)}const xD={asc:"ASCENDING",desc:"DESCENDING"},ID={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},SD={and:"AND",or:"OR"};class AD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Xf(t,e){return t.useProto3Json||sh(e)?e:{value:e}}function lo(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Gx(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function PD(t,e){return lo(t,e.toTimestamp())}function Ft(t){return re(!!t),ie.fromTimestamp(function(n){const r=ur(n);return new $e(r.seconds,r.nanos)}(t))}function Mp(t,e){return Jf(t,e).canonicalString()}function Jf(t,e){const n=function(i){return new Ie(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Wx(t){const e=Ie.fromString(t);return re(nI(e)),e}function Ec(t,e){return Mp(t.databaseId,e.path)}function bi(t,e){const n=Wx(e);if(n.get(1)!==t.databaseId.projectId)throw new J(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new J(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Y(Yx(n))}function Hx(t,e){return Mp(t.databaseId,e)}function Qx(t){const e=Wx(t);return e.length===4?Ie.emptyPath():Yx(e)}function Zf(t){return new Ie(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Yx(t){return re(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function E_(t,e,n){return{name:Ec(t,e),fields:n.value.mapValue.fields}}function RD(t,e,n){const r=bi(t,e.name),i=Ft(e.updateTime),s=e.createTime?Ft(e.createTime):ie.min(),o=new qt({mapValue:{fields:e.fields}}),a=We.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function CD(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:te()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,h){return c.useProto3Json?(re(h===void 0||typeof h=="string"),rt.fromBase64String(h||"")):(re(h===void 0||h instanceof Buffer||h instanceof Uint8Array),rt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const h=c.code===void 0?z.UNKNOWN:$x(c.code);return new J(h,c.message||"")}(o);n=new qx(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=bi(t,r.document.name),s=Ft(r.document.updateTime),o=r.document.createTime?Ft(r.document.createTime):ie.min(),a=new qt({mapValue:{fields:r.document.fields}}),l=We.newFoundDocument(i,s,o,a),c=r.targetIds||[],h=r.removedTargetIds||[];n=new Lu(c,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=bi(t,r.document),s=r.readTime?Ft(r.readTime):ie.min(),o=We.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Lu([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=bi(t,r.document),s=r.removedTargetIds||[];n=new Lu([],s,i,null)}else{if(!("filter"in e))return te();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new vD(i,s),a=r.targetId;n=new Kx(a,o)}}return n}function Tc(t,e){let n;if(e instanceof Eo)n={update:E_(t,e.key,e.value)};else if(e instanceof Vp)n={delete:Ec(t,e.key)};else if(e instanceof ri)n={update:E_(t,e.key,e.data),updateMask:MD(e.fieldMask)};else{if(!(e instanceof zx))return te();n={verify:Ec(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof so)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof oo)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ao)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof sl)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw te()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:PD(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:te()}(t,e.precondition)),n}function em(t,e){const n=e.currentDocument?function(s){return s.updateTime!==void 0?nn.updateTime(Ft(s.updateTime)):s.exists!==void 0?nn.exists(s.exists):nn.none()}(e.currentDocument):nn.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,a){let l=null;if("setToServerValue"in a)re(a.setToServerValue==="REQUEST_TIME"),l=new so;else if("appendMissingElements"in a){const h=a.appendMissingElements.values||[];l=new oo(h)}else if("removeAllFromArray"in a){const h=a.removeAllFromArray.values||[];l=new ao(h)}else"increment"in a?l=new sl(o,a.increment):te();const c=Be.fromServerFormat(a.fieldPath);return new jx(c,l)}(t,i)):[];if(e.update){e.update.name;const i=bi(t,e.update.name),s=new qt({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(l){const c=l.fieldPaths||[];return new gn(c.map(h=>Be.fromServerFormat(h)))}(e.updateMask);return new ri(i,s,o,n,r)}return new Eo(i,s,n,r)}if(e.delete){const i=bi(t,e.delete);return new Vp(i,n)}if(e.verify){const i=bi(t,e.verify);return new zx(i,n)}return te()}function VD(t,e){return t&&t.length>0?(re(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Ft(i.updateTime):Ft(s);return o.isEqual(ie.min())&&(o=Ft(s)),new pD(o,i.transformResults||[])}(n,e))):[]}function Xx(t,e){return{documents:[Hx(t,e.path)]}}function Jx(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Hx(t,i);const s=function(c){if(c.length!==0)return tI(Ae.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(h=>function(m){return{field:Es(m.field),direction:DD(m.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Xf(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function Zx(t){let e=Qx(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){re(r===1);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(d){const m=eI(d);return m instanceof Ae&&Rp(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(m=>function(E){return new vc(Ts(E.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(d){let m;return m=typeof d=="object"?d.value:d,sh(m)?null:m}(n.limit));let l=null;n.startAt&&(l=function(d){const m=!!d.before,g=d.values||[];return new ro(g,m)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const m=!d.before,g=d.values||[];return new ro(g,m)}(n.endAt)),tD(e,i,o,s,a,"F",l,c)}function kD(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return te()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function eI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ts(n.unaryFilter.field);return ge.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ts(n.unaryFilter.field);return ge.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ts(n.unaryFilter.field);return ge.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ts(n.unaryFilter.field);return ge.create(o,"!=",{nullValue:"NULL_VALUE"});default:return te()}}(t):t.fieldFilter!==void 0?function(n){return ge.create(Ts(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return te()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ae.create(n.compositeFilter.filters.map(r=>eI(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return te()}}(n.compositeFilter.op))}(t):te()}function DD(t){return xD[t]}function bD(t){return ID[t]}function ND(t){return SD[t]}function Es(t){return{fieldPath:t.canonicalString()}}function Ts(t){return Be.fromServerFormat(t.fieldPath)}function tI(t){return t instanceof ge?function(n){if(n.op==="=="){if(i_(n.value))return{unaryFilter:{field:Es(n.field),op:"IS_NAN"}};if(r_(n.value))return{unaryFilter:{field:Es(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(i_(n.value))return{unaryFilter:{field:Es(n.field),op:"IS_NOT_NAN"}};if(r_(n.value))return{unaryFilter:{field:Es(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Es(n.field),op:bD(n.op),value:n.value}}}(t):t instanceof Ae?function(n){const r=n.getFilters().map(i=>tI(i));return r.length===1?r[0]:{compositeFilter:{op:ND(n.op),filters:r}}}(t):te()}function MD(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function nI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e,n,r,i,s=ie.min(),o=ie.min(),a=rt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Zn(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Zn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(e){this.ct=e}}function LD(t,e){let n;if(e.document)n=RD(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Y.fromSegments(e.noDocument.path),i=Gi(e.noDocument.readTime);n=We.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return te();{const r=Y.fromSegments(e.unknownDocument.path),i=Gi(e.unknownDocument.version);n=We.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const s=new $e(i[0],i[1]);return ie.fromTimestamp(s)}(e.readTime)),n}function T_(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:xc(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(s,o){return{name:Ec(s,o.key),fields:o.data.value.mapValue.fields,updateTime:lo(s,o.version.toTimestamp()),createTime:lo(s,o.createTime.toTimestamp())}}(t.ct,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:qi(e.version)};else{if(!e.isUnknownDocument())return te();r.unknownDocument={path:n.path.toArray(),version:qi(e.version)}}return r}function xc(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function qi(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Gi(t){const e=new $e(t.seconds,t.nanoseconds);return ie.fromTimestamp(e)}function Ei(t,e){const n=(e.baseMutations||[]).map(s=>em(t.ct,s));for(let s=0;s<e.mutations.length-1;++s){const o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const a=e.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map(s=>em(t.ct,s)),i=$e.fromMillis(e.localWriteTimeMs);return new kp(e.batchId,i,n,r)}function la(t){const e=Gi(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Gi(t.lastLimboFreeSnapshotVersion):ie.min();let r;return r=function(s){return s.documents!==void 0}(t.query)?function(s){return re(s.documents.length===1),vn(lh(Qx(s.documents[0])))}(t.query):function(s){return vn(Zx(s))}(t.query),new Zn(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,rt.fromBase64String(t.resumeToken))}function iI(t,e){const n=qi(e.snapshotVersion),r=qi(e.lastLimboFreeSnapshotVersion);let i;i=_c(e.target)?Xx(t.ct,e.target):Jx(t.ct,e.target)._t;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ki(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function sI(t){const e=Zx({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Yf(e,e.limit,"L"):e}function Td(t,e){return new bp(e.largestBatchId,em(t.ct,e.overlayMutation))}function x_(t,e){const n=e.path.lastSegment();return[t,Lt(e.path.popLast()),n]}function I_(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:qi(r.readTime),documentKey:Lt(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{getBundleMetadata(e,n){return S_(e).get(n).next(r=>{if(r)return function(s){return{id:s.bundleId,createTime:Gi(s.createTime),version:s.version}}(r)})}saveBundleMetadata(e,n){return S_(e).put(function(i){return{bundleId:i.id,createTime:qi(Ft(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return A_(e).get(n).next(r=>{if(r)return function(s){return{name:s.name,query:sI(s.bundledQuery),readTime:Gi(s.readTime)}}(r)})}saveNamedQuery(e,n){return A_(e).put(function(i){return{name:i.name,readTime:qi(Ft(i.readTime)),bundledQuery:i.bundledQuery}}(n))}}function S_(t){return ot(t,"bundles")}function A_(t){return ot(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){const r=n.uid||"";return new fh(e,r)}getOverlay(e,n){return Go(e).get(x_(this.userId,n)).next(r=>r?Td(this.serializer,r):null)}getOverlays(e,n){const r=On();return M.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((s,o)=>{const a=new bp(n,o);i.push(this.ht(e,a))}),M.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(o=>i.add(Lt(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(Go(e).j("collectionPathOverlayIndex",a))}),M.waitFor(s)}getOverlaysForCollection(e,n,r){const i=On(),s=Lt(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Go(e).U("collectionPathOverlayIndex",o).next(a=>{for(const l of a){const c=Td(this.serializer,l);i.set(c.getKey(),c)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const s=On();let o;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Go(e).J({index:"collectionGroupOverlayIndex",range:a},(l,c,h)=>{const d=Td(this.serializer,c);s.size()<i||d.largestBatchId===o?(s.set(d.getKey(),d),o=d.largestBatchId):h.done()}).next(()=>s)}ht(e,n){return Go(e).put(function(i,s,o){const[a,l,c]=x_(s,o.mutation.key);return{userId:s,collectionPath:l,documentId:c,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:Tc(i.ct,o.mutation)}}(this.serializer,this.userId,n))}}function Go(t){return ot(t,"documentOverlays")}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{Pt(e){return ot(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(n=>{const r=n==null?void 0:n.value;return r?rt.fromUint8Array(r):rt.EMPTY_BYTE_STRING})}setSessionToken(e,n){return this.Pt(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Le(e.integerValue));else if("doubleValue"in e){const r=Le(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),tl(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=ur(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(Gr(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?_x(e)?this.dt(n,Number.MAX_SAFE_INTEGER):oh(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):te()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){const r=e.fields||{};this.dt(n,55);for(const i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;const s=e.fields||{};this.dt(n,53);const o="value",a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Le(a)),this.Vt(o,n),this.Tt(s[o],n)}bt(e,n){const r=e.values||[];this.dt(n,50);for(const i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),Y.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}}Ti.vt=new Ti;function jD(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function P_(t){const e=64-function(r){let i=0;for(let s=0;s<8;++s){const o=jD(255&r[s]);if(i+=o,o!==8)break}return i}(t);return Math.ceil(e/8)}class BD{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ft(r.value),r=n.next();this.Mt()}xt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ot(r.value),r=n.next();this.Nt()}Lt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{const i=n.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Bt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ot(r);else if(r<2048)this.Ot(960|r>>>6),this.Ot(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ot(480|r>>>12),this.Ot(128|63&r>>>6),this.Ot(128|63&r);else{const i=n.codePointAt(0);this.Ot(240|i>>>18),this.Ot(128|63&i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i)}}this.Nt()}kt(e){const n=this.qt(e),r=P_(n);this.Qt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}Kt(e){const n=this.qt(e),r=P_(n);this.Qt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const n=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Ft(e){const n=255&e;n===0?(this.Ut(0),this.Ut(255)):n===255?(this.Ut(255),this.Ut(0)):this.Ut(n)}Ot(e){const n=255&e;n===0?(this.Gt(0),this.Gt(255)):n===255?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class UD{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class zD{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class Wo{constructor(){this.jt=new BD,this.Ht=new UD(this.jt),this.Jt=new zD(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return e===0?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Zt(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new xi(this.indexId,this.documentKey,this.arrayValue,r)}}function gr(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=R_(t.arrayValue,e.arrayValue),n!==0?n:(n=R_(t.directionalValue,e.directionalValue),n!==0?n:Y.comparator(t.documentKey,e.documentKey)))}function R_(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_{constructor(e){this.Xt=new Pe((n,r)=>Be.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const n of e.filters){const r=n;r.isInequality()?this.Xt=this.Xt.add(r):this.tn.push(r)}}get nn(){return this.Xt.size>1}rn(e){if(re(e.collectionGroup===this.collectionId),this.nn)return!1;const n=$f(e);if(n!==void 0&&!this.sn(n))return!1;const r=yi(e);let i=new Set,s=0,o=0;for(;s<r.length&&this.sn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.Xt.size>0){const a=this.Xt.getIterator().getNext();if(!i.has(a.field.canonicalString())){const l=r[s];if(!this.on(a,l)||!this._n(this.en[o++],l))return!1}++s}for(;s<r.length;++s){const a=r[s];if(o>=this.en.length||!this._n(this.en[o++],a))return!1}return!0}an(){if(this.nn)return null;let e=new Pe(Be.comparator);const n=[];for(const r of this.tn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new ku(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new ku(r.field,0))}for(const r of this.en)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new ku(r.field,r.dir==="asc"?0:1)));return new yc(yc.UNKNOWN_ID,this.collectionId,n,el.empty())}sn(e){for(const n of this.tn)if(this.on(n,e))return!0;return!1}on(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}_n(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oI(t){var e,n;if(re(t instanceof ge||t instanceof Ae),t instanceof ge){if(t instanceof Rx){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(s=>ge.create(t.field,"==",s)))||[];return Ae.create(i,"or")}return t}const r=t.filters.map(i=>oI(i));return Ae.create(r,t.op)}function $D(t){if(t.getFilters().length===0)return[];const e=rm(oI(t));return re(aI(e)),tm(e)||nm(e)?[e]:e.getFilters()}function tm(t){return t instanceof ge}function nm(t){return t instanceof Ae&&Rp(t)}function aI(t){return tm(t)||nm(t)||function(n){if(n instanceof Ae&&Wf(n)){for(const r of n.getFilters())if(!tm(r)&&!nm(r))return!1;return!0}return!1}(t)}function rm(t){if(re(t instanceof ge||t instanceof Ae),t instanceof ge)return t;if(t.filters.length===1)return rm(t.filters[0]);const e=t.filters.map(r=>rm(r));let n=Ae.create(e,t.op);return n=Ic(n),aI(n)?n:(re(n instanceof Ae),re(io(n)),re(n.filters.length>1),n.filters.reduce((r,i)=>Lp(r,i)))}function Lp(t,e){let n;return re(t instanceof ge||t instanceof Ae),re(e instanceof ge||e instanceof Ae),n=t instanceof ge?e instanceof ge?function(i,s){return Ae.create([i,s],"and")}(t,e):V_(t,e):e instanceof ge?V_(e,t):function(i,s){if(re(i.filters.length>0&&s.filters.length>0),io(i)&&io(s))return Sx(i,s.getFilters());const o=Wf(i)?i:s,a=Wf(i)?s:i,l=o.filters.map(c=>Lp(c,a));return Ae.create(l,"or")}(t,e),Ic(n)}function V_(t,e){if(io(e))return Sx(e,t.getFilters());{const n=e.filters.map(r=>Lp(t,r));return Ae.create(n,"or")}}function Ic(t){if(re(t instanceof ge||t instanceof Ae),t instanceof ge)return t;const e=t.getFilters();if(e.length===1)return Ic(e[0]);if(xx(t))return t;const n=e.map(i=>Ic(i)),r=[];return n.forEach(i=>{i instanceof ge?r.push(i):i instanceof Ae&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:Ae.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(){this.un=new Fp}addToCollectionParentIndex(e,n){return this.un.add(n),M.resolve()}getCollectionParents(e,n){return M.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return M.resolve()}deleteFieldIndex(e,n){return M.resolve()}deleteAllFieldIndexes(e){return M.resolve()}createTargetIndexes(e,n){return M.resolve()}getDocumentsMatchingTarget(e,n){return M.resolve(null)}getIndexType(e,n){return M.resolve(0)}getFieldIndexes(e,n){return M.resolve([])}getNextCollectionGroupToUpdate(e){return M.resolve(null)}getMinOffset(e,n){return M.resolve(on.min())}getMinOffsetFromCollectionGroup(e,n){return M.resolve(on.min())}updateCollectionGroup(e,n,r){return M.resolve()}updateIndexEntries(e,n){return M.resolve()}}class Fp{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Pe(Ie.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Pe(Ie.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cu=new Uint8Array(0);class qD{constructor(e,n){this.databaseId=n,this.cn=new Fp,this.ln=new ni(r=>Ki(r),(r,i)=>gl(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.cn.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.cn.add(n)});const s={collectionId:r,parent:Lt(i)};return k_(e).put(s)}return M.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[lx(n),""],!1,!0);return k_(e).U(i).next(s=>{for(const o of s){if(o.collectionId!==n)break;r.push(Fn(o.parent))}return r})}addFieldIndex(e,n){const r=Ho(e),i=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(n);delete i.indexId;const s=r.add(i);if(n.indexState){const o=ps(e);return s.next(a=>{o.put(I_(a,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){const r=Ho(e),i=ps(e),s=ms(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=Ho(e),r=ms(e),i=ps(e);return n.j().next(()=>r.j()).next(()=>i.j())}createTargetIndexes(e,n){return M.forEach(this.hn(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const s=new C_(r).an();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,n){const r=ms(e);let i=!0;const s=new Map;return M.forEach(this.hn(n),o=>this.Pn(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=de();const a=[];return M.forEach(s,(l,c)=>{$("IndexedDbIndexManager",`Using index ${function(_){return`id=${_.indexId}|cg=${_.collectionGroup}|f=${_.fields.map(D=>`${D.fieldPath}:${D.kind}`).join(",")}`}(l)} to execute ${Ki(n)}`);const h=function(_,D){const L=$f(D);if(L===void 0)return null;for(const U of wc(_,L.fieldPath))switch(U.op){case"array-contains-any":return U.value.arrayValue.values||[];case"array-contains":return[U.value]}return null}(c,l),d=function(_,D){const L=new Map;for(const U of yi(D))for(const I of wc(_,U.fieldPath))switch(I.op){case"==":case"in":L.set(U.fieldPath.canonicalString(),I.value);break;case"not-in":case"!=":return L.set(U.fieldPath.canonicalString(),I.value),Array.from(L.values())}return null}(c,l),m=function(_,D){const L=[];let U=!0;for(const I of yi(D)){const v=I.kind===0?u_(_,I.fieldPath,_.startAt):c_(_,I.fieldPath,_.startAt);L.push(v.value),U&&(U=v.inclusive)}return new ro(L,U)}(c,l),g=function(_,D){const L=[];let U=!0;for(const I of yi(D)){const v=I.kind===0?c_(_,I.fieldPath,_.endAt):u_(_,I.fieldPath,_.endAt);L.push(v.value),U&&(U=v.inclusive)}return new ro(L,U)}(c,l),E=this.In(l,c,m),x=this.In(l,c,g),R=this.Tn(l,c,d),T=this.En(l.indexId,h,E,m.inclusive,x,g.inclusive,R);return M.forEach(T,y=>r.G(y,n.limit).next(_=>{_.forEach(D=>{const L=Y.fromSegments(D.documentKey);o.has(L)||(o=o.add(L),a.push(L))})}))}).next(()=>a)}return M.resolve(null)})}hn(e){let n=this.ln.get(e);return n||(e.filters.length===0?n=[e]:n=$D(Ae.create(e.filters,"and")).map(r=>Qf(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,n),n)}En(e,n,r,i,s,o,a){const l=(n!=null?n.length:1)*Math.max(r.length,s.length),c=l/(n!=null?n.length:1),h=[];for(let d=0;d<l;++d){const m=n?this.dn(n[d/c]):cu,g=this.An(e,m,r[d%c],i),E=this.Rn(e,m,s[d%c],o),x=a.map(R=>this.An(e,m,R,!0));h.push(...this.createRange(g,E,x))}return h}An(e,n,r,i){const s=new xi(e,Y.empty(),n,r);return i?s:s.Zt()}Rn(e,n,r,i){const s=new xi(e,Y.empty(),n,r);return i?s.Zt():s}Pn(e,n){const r=new C_(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const a of s)r.rn(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2;const i=this.hn(n);return M.forEach(i,s=>this.Pn(e,s).next(o=>{o?r!==0&&o.fields.length<function(l){let c=new Pe(Be.comparator),h=!1;for(const d of l.filters)for(const m of d.getFlattenedFilters())m.field.isKeyField()||(m.op==="array-contains"||m.op==="array-contains-any"?h=!0:c=c.add(m.field));for(const d of l.orderBy)d.field.isKeyField()||(c=c.add(d.field));return c.size+(h?1:0)}(s)&&(r=1):r=0})).next(()=>function(o){return o.limit!==null}(n)&&i.length>1&&r===2?1:r)}Vn(e,n){const r=new Wo;for(const i of yi(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const o=r.Yt(i.kind);Ti.vt.It(s,o)}return r.zt()}dn(e){const n=new Wo;return Ti.vt.It(e,n.Yt(0)),n.zt()}mn(e,n){const r=new Wo;return Ti.vt.It(Pp(this.databaseId,n),r.Yt(function(s){const o=yi(s);return o.length===0?0:o[o.length-1].kind}(e))),r.zt()}Tn(e,n,r){if(r===null)return[];let i=[];i.push(new Wo);let s=0;for(const o of yi(e)){const a=r[s++];for(const l of i)if(this.fn(n,o.fieldPath)&&il(a))i=this.gn(i,o,a);else{const c=l.Yt(o.kind);Ti.vt.It(a,c)}}return this.pn(i)}In(e,n,r){return this.Tn(e,n,r.position)}pn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].zt();return n}gn(e,n,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const l=new Wo;l.seed(a.zt()),Ti.vt.It(o,l.Yt(n.kind)),s.push(l)}return s}fn(e,n){return!!e.filters.find(r=>r instanceof ge&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=Ho(e),i=ps(e);return(n?r.U("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.U()).next(s=>{const o=[];return M.forEach(s,a=>i.get([a.indexId,this.uid]).next(l=>{o.push(function(h,d){const m=d?new el(d.sequenceNumber,new on(Gi(d.readTime),new Y(Fn(d.documentKey)),d.largestBatchId)):el.empty(),g=h.fields.map(([E,x])=>new ku(Be.fromServerFormat(E),x));return new yc(h.indexId,h.collectionGroup,g,m)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:he(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=Ho(e),s=ps(e);return this.yn(e).next(o=>i.U("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>M.forEach(a,l=>s.put(I_(l.indexId,this.uid,o,r)))))}updateIndexEntries(e,n){const r=new Map;return M.forEach(n,(i,s)=>{const o=r.get(i.collectionGroup);return(o?M.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),M.forEach(a,l=>this.wn(e,i,l).next(c=>{const h=this.Sn(s,l);return c.isEqual(h)?M.resolve():this.bn(e,s,l,c,h)}))))})}Dn(e,n,r,i){return ms(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.mn(r,n.key),documentKey:n.key.path.toArray()})}vn(e,n,r,i){return ms(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.mn(r,n.key),n.key.path.toArray()])}wn(e,n,r){const i=ms(e);let s=new Pe(gr);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.mn(r,n)])},(o,a)=>{s=s.add(new xi(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>s)}Sn(e,n){let r=new Pe(gr);const i=this.Vn(n,e);if(i==null)return r;const s=$f(n);if(s!=null){const o=e.data.field(s.fieldPath);if(il(o))for(const a of o.arrayValue.values||[])r=r.add(new xi(n.indexId,e.key,this.dn(a),i))}else r=r.add(new xi(n.indexId,e.key,cu,i));return r}bn(e,n,r,i,s){$("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const o=[];return function(l,c,h,d,m){const g=l.getIterator(),E=c.getIterator();let x=fs(g),R=fs(E);for(;x||R;){let T=!1,y=!1;if(x&&R){const _=h(x,R);_<0?y=!0:_>0&&(T=!0)}else x!=null?y=!0:T=!0;T?(d(R),R=fs(E)):y?(m(x),x=fs(g)):(x=fs(g),R=fs(E))}}(i,s,gr,a=>{o.push(this.Dn(e,n,r,a))},a=>{o.push(this.vn(e,n,r,a))}),M.waitFor(o)}yn(e){let n=1;return ps(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>gr(o,a)).filter((o,a,l)=>!a||gr(o,l[a-1])!==0);const i=[];i.push(e);for(const o of r){const a=gr(o,e),l=gr(o,n);if(a===0)i[0]=e.Zt();else if(a>0&&l<0)i.push(o),i.push(o.Zt());else if(l>0)break}i.push(n);const s=[];for(let o=0;o<i.length;o+=2){if(this.Cn(i[o],i[o+1]))return[];const a=[i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,cu,[]],l=[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,cu,[]];s.push(IDBKeyRange.bound(a,l))}return s}Cn(e,n){return gr(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(D_)}getMinOffset(e,n){return M.mapArray(this.hn(n),r=>this.Pn(e,r).next(i=>i||te())).next(D_)}}function k_(t){return ot(t,"collectionParents")}function ms(t){return ot(t,"indexEntries")}function Ho(t){return ot(t,"indexConfiguration")}function ps(t){return ot(t,"indexState")}function D_(t){re(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;Tp(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new on(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class $t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new $t(e,$t.DEFAULT_COLLECTION_PERCENTILE,$t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lI(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.J({range:o},(h,d,m)=>(a++,m.delete()));s.push(l.next(()=>{re(a===1)}));const c=[];for(const h of n.mutations){const d=fx(e,h.key.path,n.batchId);s.push(i.delete(d)),c.push(h.key)}return M.waitFor(s).next(()=>c)}function Sc(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw te();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$t.DEFAULT_COLLECTION_PERCENTILE=10,$t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$t.DEFAULT=new $t(41943040,$t.DEFAULT_COLLECTION_PERCENTILE,$t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$t.DISABLED=new $t(-1,0,0);class mh{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Fn={}}static lt(e,n,r,i){re(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new mh(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return yr(e).J({index:"userMutationsIndex",range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const s=xs(e),o=yr(e);return o.add({}).next(a=>{re(typeof a=="number");const l=new kp(a,n,r,i),c=function(g,E,x){const R=x.baseMutations.map(y=>Tc(g.ct,y)),T=x.mutations.map(y=>Tc(g.ct,y));return{userId:E,batchId:x.batchId,localWriteTimeMs:x.localWriteTime.toMillis(),baseMutations:R,mutations:T}}(this.serializer,this.userId,l),h=[];let d=new Pe((m,g)=>he(m.canonicalString(),g.canonicalString()));for(const m of i){const g=fx(this.userId,m.key.path,a);d=d.add(m.key.path.popLast()),h.push(o.put(c)),h.push(s.put(g,Sk))}return d.forEach(m=>{h.push(this.indexManager.addToCollectionParentIndex(e,m))}),e.addOnCommittedListener(()=>{this.Fn[a]=l.keys()}),M.waitFor(h).next(()=>l)})}lookupMutationBatch(e,n){return yr(e).get(n).next(r=>r?(re(r.userId===this.userId),Ei(this.serializer,r)):null)}Mn(e,n){return this.Fn[n]?M.resolve(this.Fn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Fn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return yr(e).J({index:"userMutationsIndex",range:i},(o,a,l)=>{a.userId===this.userId&&(re(a.batchId>=r),s=Ei(this.serializer,a)),l.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return yr(e).J({index:"userMutationsIndex",range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return yr(e).U("userMutationsIndex",n).next(r=>r.map(i=>Ei(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Du(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return xs(e).J({range:i},(o,a,l)=>{const[c,h,d]=o,m=Fn(h);if(c===this.userId&&n.path.isEqual(m))return yr(e).get(d).next(g=>{if(!g)throw te();re(g.userId===this.userId),s.push(Ei(this.serializer,g))});l.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Pe(he);const i=[];return n.forEach(s=>{const o=Du(this.userId,s.path),a=IDBKeyRange.lowerBound(o),l=xs(e).J({range:a},(c,h,d)=>{const[m,g,E]=c,x=Fn(g);m===this.userId&&s.path.isEqual(x)?r=r.add(E):d.done()});i.push(l)}),M.waitFor(i).next(()=>this.xn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=Du(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new Pe(he);return xs(e).J({range:o},(l,c,h)=>{const[d,m,g]=l,E=Fn(m);d===this.userId&&r.isPrefixOf(E)?E.length===i&&(a=a.add(g)):h.done()}).next(()=>this.xn(e,a))}xn(e,n){const r=[],i=[];return n.forEach(s=>{i.push(yr(e).get(s).next(o=>{if(o===null)throw te();re(o.userId===this.userId),r.push(Ei(this.serializer,o))}))}),M.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return lI(e._e,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.On(n.batchId)}),M.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return M.resolve();const r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),i=[];return xs(e).J({range:r},(s,o,a)=>{if(s[0]===this.userId){const l=Fn(s[1]);i.push(l)}else a.done()}).next(()=>{re(i.length===0)})})}containsKey(e,n){return uI(e,this.userId,n)}Nn(e){return cI(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function uI(t,e,n){const r=Du(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return xs(t).J({range:s,H:!0},(a,l,c)=>{const[h,d,m]=a;h===e&&d===i&&(o=!0),c.done()}).next(()=>o)}function yr(t){return ot(t,"mutations")}function xs(t){return ot(t,"documentMutations")}function cI(t){return ot(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Wi(0)}static kn(){return new Wi(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.qn(e).next(n=>{const r=new Wi(n.highestTargetId);return n.highestTargetId=r.next(),this.Qn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(n=>ie.fromTimestamp(new $e(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.qn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.Qn(e,i)))}addTargetData(e,n){return this.Kn(e,n).next(()=>this.qn(e).next(r=>(r.targetCount+=1,this.$n(n,r),this.Qn(e,r))))}updateTargetData(e,n){return this.Kn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>gs(e).delete(n.targetId)).next(()=>this.qn(e)).next(r=>(re(r.targetCount>0),r.targetCount-=1,this.Qn(e,r)))}removeTargets(e,n,r){let i=0;const s=[];return gs(e).J((o,a)=>{const l=la(a);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i++,s.push(this.removeTargetData(e,l)))}).next(()=>M.waitFor(s)).next(()=>i)}forEachTarget(e,n){return gs(e).J((r,i)=>{const s=la(i);n(s)})}qn(e){return N_(e).get("targetGlobalKey").next(n=>(re(n!==null),n))}Qn(e,n){return N_(e).put("targetGlobalKey",n)}Kn(e,n){return gs(e).put(iI(this.serializer,n))}$n(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.qn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=Ki(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return gs(e).J({range:i,index:"queryTargetsIndex"},(o,a,l)=>{const c=la(a);gl(n,c.target)&&(s=c,l.done())}).next(()=>s)}addMatchingKeys(e,n,r){const i=[],s=Ir(e);return n.forEach(o=>{const a=Lt(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),M.waitFor(i)}removeMatchingKeys(e,n,r){const i=Ir(e);return M.forEach(n,s=>{const o=Lt(s.path);return M.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){const r=Ir(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Ir(e);let s=de();return i.J({range:r,H:!0},(o,a,l)=>{const c=Fn(o[1]),h=new Y(c);s=s.add(h)}).next(()=>s)}containsKey(e,n){const r=Lt(n.path),i=IDBKeyRange.bound([r],[lx(r)],!1,!0);let s=0;return Ir(e).J({index:"documentTargetsIndex",H:!0,range:i},([o,a],l,c)=>{o!==0&&(s++,c.done())}).next(()=>s>0)}ot(e,n){return gs(e).get(n).next(r=>r?la(r):null)}}function gs(t){return ot(t,"targets")}function N_(t){return ot(t,"targetGlobal")}function Ir(t){return ot(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M_([t,e],[n,r]){const i=he(t,n);return i===0?he(e,r):i}class WD{constructor(e){this.Un=e,this.buffer=new Pe(M_),this.Wn=0}Gn(){return++this.Wn}zn(e){const n=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();M_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class HD{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){$("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ti(n)?$("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Ji(n)}await this.Hn(3e5)})}}class QD{constructor(e,n){this.Jn=e,this.params=n}calculateTargetCount(e,n){return this.Jn.Yn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return M.resolve(pn.oe);const r=new WD(n);return this.Jn.forEachTarget(e,i=>r.zn(i.sequenceNumber)).next(()=>this.Jn.Zn(e,i=>r.zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?($("LruGarbageCollector","Garbage collection skipped; disabled"),M.resolve(b_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?($("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),b_):this.Xn(e,n))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,n){let r,i,s,o,a,l,c;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?($("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,n))).next(d=>(s=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(c=Date.now(),_s()<=ve.DEBUG&&$("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(c-l)+`ms
Total Duration: ${c-h}ms`),M.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})))}}function YD(t,e){return new QD(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(e,n){this.db=e,this.garbageCollector=YD(this,n)}Yn(e){const n=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}er(e){let n=0;return this.Zn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Zn(e,n){return this.tr(e,(r,i)=>n(i))}addReference(e,n,r){return hu(e,r)}removeReference(e,n,r){return hu(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return hu(e,n)}nr(e,n){return function(i,s){let o=!1;return cI(i).Y(a=>uI(i,a,s).next(l=>(l&&(o=!0),M.resolve(!l)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.tr(e,(o,a)=>{if(a<=n){const l=this.nr(e,o).next(c=>{if(!c)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,ie.min()),Ir(e).delete(function(d){return[0,Lt(d.path)]}(o))))});i.push(l)}}).next(()=>M.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return hu(e,n)}tr(e,n){const r=Ir(e);let i,s=pn.oe;return r.J({index:"documentTargetsIndex"},([o,a],{path:l,sequenceNumber:c})=>{o===0?(s!==pn.oe&&n(new Y(Fn(i)),s),s=c,i=l):s=pn.oe}).next(()=>{s!==pn.oe&&n(new Y(Fn(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function hu(t,e){return Ir(t).put(function(r,i){return{targetId:0,path:Lt(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(){this.changes=new ni(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,We.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?M.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return di(e).put(r)}removeEntry(e,n,r){return di(e).delete(function(s,o){const a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],xc(o),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.rr(e,r)))}getEntry(e,n){let r=We.newInvalidDocument(n);return di(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Qo(n))},(i,s)=>{r=this.ir(n,s)}).next(()=>r)}sr(e,n){let r={size:0,document:We.newInvalidDocument(n)};return di(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Qo(n))},(i,s)=>{r={document:this.ir(n,s),size:Sc(s)}}).next(()=>r)}getEntries(e,n){let r=tn();return this._r(e,n,(i,s)=>{const o=this.ir(i,s);r=r.insert(i,o)}).next(()=>r)}ar(e,n){let r=tn(),i=new Oe(Y.comparator);return this._r(e,n,(s,o)=>{const a=this.ir(s,o);r=r.insert(s,a),i=i.insert(s,Sc(o))}).next(()=>({documents:r,ur:i}))}_r(e,n,r){if(n.isEmpty())return M.resolve();let i=new Pe(O_);n.forEach(l=>i=i.add(l));const s=IDBKeyRange.bound(Qo(i.first()),Qo(i.last())),o=i.getIterator();let a=o.getNext();return di(e).J({index:"documentKeyIndex",range:s},(l,c,h)=>{const d=Y.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;a&&O_(a,d)<0;)r(a,null),a=o.getNext();a&&a.isEqual(d)&&(r(a,c),a=o.hasNext()?o.getNext():null),a?h.$(Qo(a)):h.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,s){const o=n.path,a=[o.popLast().toArray(),o.lastSegment(),xc(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return di(e).U(IDBKeyRange.bound(a,l,!0)).next(c=>{s==null||s.incrementDocumentReadCount(c.length);let h=tn();for(const d of c){const m=this.ir(Y.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);m.isFoundDocument()&&(yl(n,m)||i.has(m.key))&&(h=h.insert(m.key,m))}return h})}getAllFromCollectionGroup(e,n,r,i){let s=tn();const o=F_(n,r),a=F_(n,on.max());return di(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(l,c,h)=>{const d=this.ir(Y.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);s=s.insert(d.key,d),s.size===i&&h.done()}).next(()=>s)}newChangeBuffer(e){return new ZD(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return L_(e).get("remoteDocumentGlobalKey").next(n=>(re(!!n),n))}rr(e,n){return L_(e).put("remoteDocumentGlobalKey",n)}ir(e,n){if(n){const r=LD(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(ie.min())))return r}return We.newInvalidDocument(e)}}function dI(t){return new JD(t)}class ZD extends hI{constructor(e,n){super(),this.cr=e,this.trackRemovals=n,this.lr=new ni(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new Pe((s,o)=>he(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.lr.get(s);if(n.push(this.cr.removeEntry(e,s,a.readTime)),o.isValidDocument()){const l=T_(this.cr.serializer,o);i=i.add(s.path.popLast());const c=Sc(l);r+=c-a.size,n.push(this.cr.addEntry(e,s,l))}else if(r-=a.size,this.trackRemovals){const l=T_(this.cr.serializer,o.convertToNoDocument(ie.min()));n.push(this.cr.addEntry(e,s,l))}}),i.forEach(s=>{n.push(this.cr.indexManager.addToCollectionParentIndex(e,s))}),n.push(this.cr.updateMetadata(e,r)),M.waitFor(n)}getFromCache(e,n){return this.cr.sr(e,n).next(r=>(this.lr.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.cr.ar(e,n).next(({documents:r,ur:i})=>(i.forEach((s,o)=>{this.lr.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function L_(t){return ot(t,"remoteDocumentGlobal")}function di(t){return ot(t,"remoteDocumentsV14")}function Qo(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function F_(t,e){const n=e.documentKey.path.toArray();return[t,xc(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function O_(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=he(n[s],r[s]),i)return i;return i=he(n.length,r.length),i||(i=he(n[n.length-2],r[r.length-2]),i||he(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ia(r.mutation,i,gn.empty(),$e.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,de()).next(()=>r))}getLocalViewOfDocuments(e,n,r=de()){const i=On();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=oa();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=On();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,de()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=tn();const o=xa(),a=function(){return xa()}();return n.forEach((l,c)=>{const h=r.get(c.key);i.has(c.key)&&(h===void 0||h.mutation instanceof ri)?s=s.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),Ia(h.mutation,c,h.mutation.getFieldMask(),$e.now())):o.set(c.key,gn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>{var d;return a.set(c,new eb(h,(d=o.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=xa();let i=new Oe((o,a)=>o-a),s=de();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let h=r.get(l)||gn.empty();h=a.applyToLocalView(c,h),r.set(l,h);const d=(i.get(a.batchId)||de()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,h=l.value,d=bx();h.forEach(m=>{if(!s.has(m)){const g=Bx(n.get(m),r.get(m));g!==null&&d.set(m,g),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return M.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return Y.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):nD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):M.resolve(On());let a=-1,l=s;return o.next(c=>M.forEach(c,(h,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(h)?M.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{l=l.insert(h,m)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,de())).next(h=>({batchId:a,changes:Dx(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Y(n)).next(r=>{let i=oa();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=oa();return this.indexManager.getCollectionParents(e,s).next(a=>M.forEach(a,l=>{const c=function(d,m){return new ah(m,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(h=>{h.forEach((d,m)=>{o=o.insert(d,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,We.newInvalidDocument(h)))});let a=oa();return o.forEach((l,c)=>{const h=s.get(l);h!==void 0&&Ia(h.mutation,c,gn.empty(),$e.now()),yl(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return M.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Ft(i.createTime)}}(n)),M.resolve()}getNamedQuery(e,n){return M.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:sI(i.bundledQuery),readTime:Ft(i.readTime)}}(n)),M.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(){this.overlays=new Oe(Y.comparator),this.Ir=new Map}getOverlay(e,n){return M.resolve(this.overlays.get(n))}getOverlays(e,n){const r=On();return M.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),M.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),M.resolve()}getOverlaysForCollection(e,n,r){const i=On(),s=n.length+1,o=new Y(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return M.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Oe((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=s.get(c.largestBatchId);h===null&&(h=On(),s=s.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=On(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=i)););return M.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new bp(n,r));let s=this.Ir.get(n);s===void 0&&(s=de(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(){this.sessionToken=rt.EMPTY_BYTE_STRING}getSessionToken(e){return M.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,M.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(){this.Tr=new Pe(lt.Er),this.dr=new Pe(lt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new lt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new lt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new Y(new Ie([])),r=new lt(n,e),i=new lt(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Y(new Ie([])),r=new lt(n,e),i=new lt(n,e+1);let s=de();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new lt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class lt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Y.comparator(e.key,n.key)||he(e.wr,n.wr)}static Ar(e,n){return he(e.wr,n.wr)||Y.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Pe(lt.Er)}checkEmpty(e){return M.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new kp(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new lt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return M.resolve(o)}lookupMutationBatch(e,n){return M.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return M.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return M.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return M.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new lt(n,0),i=new lt(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),M.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Pe(he);return n.forEach(i=>{const s=new lt(i,0),o=new lt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),M.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Y.isDocumentKey(s)||(s=s.child(""));const o=new lt(new Y(s),0);let a=new Pe(he);return this.br.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.wr)),!0)},o),M.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){re(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return M.forEach(n.mutations,i=>{const s=new lt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new lt(n,0),i=this.br.firstAfterOrEqual(r);return M.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,M.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(e){this.Mr=e,this.docs=function(){return new Oe(Y.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return M.resolve(r?r.document.mutableCopy():We.newInvalidDocument(n))}getEntries(e,n){let r=tn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():We.newInvalidDocument(i))}),M.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=tn();const o=n.path,a=new Y(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:h}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||Tp(ux(h),r)<=0||(i.has(h.key)||yl(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return M.resolve(s)}getAllFromCollectionGroup(e,n,r,i){te()}Or(e,n){return M.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new ob(this)}getSize(e){return M.resolve(this.size)}}class ob extends hI{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),M.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(e){this.persistence=e,this.Nr=new ni(n=>Ki(n),gl),this.lastRemoteSnapshotVersion=ie.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Op,this.targetCount=0,this.kr=Wi.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),M.resolve()}getLastRemoteSnapshotVersion(e){return M.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return M.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),M.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),M.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Wi(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,M.resolve()}updateTargetData(e,n){return this.Kn(n),M.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,M.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),M.waitFor(s).next(()=>i)}getTargetCount(e){return M.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return M.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),M.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),M.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),M.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return M.resolve(r)}containsKey(e,n){return M.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e,n){this.qr={},this.overlays={},this.Qr=new pn(0),this.Kr=!1,this.Kr=!0,this.$r=new rb,this.referenceDelegate=e(this),this.Ur=new ab(this),this.indexManager=new KD,this.remoteDocumentCache=function(i){return new sb(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new rI(n),this.Gr=new tb(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new nb,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new ib(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){$("MemoryPersistence","Starting transaction:",e);const i=new lb(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return M.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class lb extends hx{constructor(e){super(),this.currentSequenceNumber=e}}class ph{constructor(e){this.persistence=e,this.Jr=new Op,this.Yr=null}static Zr(e){return new ph(e)}get Xr(){if(this.Yr)return this.Yr;throw te()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),M.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),M.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),M.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.Xr,r=>{const i=Y.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,ie.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return M.or([()=>M.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(e){this.serializer=e}O(e,n,r,i){const s=new ih("createOrUpgrade",n);r<1&&i>=1&&(function(l){l.createObjectStore("owner")}(e),function(l){l.createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Jv,{unique:!0}),l.createObjectStore("documentMutations")}(e),j_(e),function(l){l.createObjectStore("remoteDocuments")}(e));let o=M.resolve();return r<3&&i>=3&&(r!==0&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),j_(e)),o=o.next(()=>function(l){const c=l.store("targetGlobal"),h={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ie.min().toTimestamp(),targetCount:0};return c.put("targetGlobalKey",h)}(s))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(l,c){return c.store("mutations").U().next(h=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Jv,{unique:!0});const d=c.store("mutations"),m=h.map(g=>d.put(g));return M.waitFor(m)})}(e,s))),o=o.next(()=>{(function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(o=o.next(()=>this.ni(s))),r<6&&i>=6&&(o=o.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.ri(s)))),r<7&&i>=7&&(o=o.next(()=>this.ii(s))),r<8&&i>=8&&(o=o.next(()=>this.si(e,s))),r<9&&i>=9&&(o=o.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(o=o.next(()=>this.oi(s))),r<11&&i>=11&&(o=o.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{(function(l){const c=l.createObjectStore("documentOverlays",{keyPath:Fk});c.createIndex("collectionPathOverlayIndex",Ok,{unique:!1}),c.createIndex("collectionGroupOverlayIndex",jk,{unique:!1})})(e)})),r<13&&i>=13&&(o=o.next(()=>function(l){const c=l.createObjectStore("remoteDocumentsV14",{keyPath:Ak});c.createIndex("documentKeyIndex",Pk),c.createIndex("collectionGroupIndex",Rk)}(e)).next(()=>this._i(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.ai(e,s))),r<15&&i>=15&&(o=o.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:bk}).createIndex("sequenceNumberIndex",Nk,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:Mk}).createIndex("documentKeyIndex",Lk,{unique:!1})}(e))),r<16&&i>=16&&(o=o.next(()=>{n.objectStore("indexState").clear()}).next(()=>{n.objectStore("indexEntries").clear()})),r<17&&i>=17&&(o=o.next(()=>{(function(l){l.createObjectStore("globals",{keyPath:"name"})})(e)})),o}ri(e){let n=0;return e.store("remoteDocuments").J((r,i)=>{n+=Sc(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}ni(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.U().next(i=>M.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.U("userMutationsIndex",o).next(a=>M.forEach(a,l=>{re(l.userId===s.userId);const c=Ei(this.serializer,l);return lI(e,s.userId,c).next(()=>{})}))}))}ii(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.J((o,a)=>{const l=new Ie(o),c=function(d){return[0,Lt(d)]}(l);s.push(n.get(c).next(h=>h?M.resolve():(d=>n.put({targetId:0,path:Lt(d),sequenceNumber:i.highestListenSequenceNumber}))(l)))}).next(()=>M.waitFor(s))})}si(e,n){e.createObjectStore("collectionParents",{keyPath:Dk});const r=n.store("collectionParents"),i=new Fp,s=o=>{if(i.add(o)){const a=o.lastSegment(),l=o.popLast();return r.put({collectionId:a,parent:Lt(l)})}};return n.store("remoteDocuments").J({H:!0},(o,a)=>{const l=new Ie(o);return s(l.popLast())}).next(()=>n.store("documentMutations").J({H:!0},([o,a,l],c)=>{const h=Fn(a);return s(h.popLast())}))}oi(e){const n=e.store("targets");return n.J((r,i)=>{const s=la(i),o=iI(this.serializer,s);return n.put(o)})}_i(e,n){const r=n.store("remoteDocuments"),i=[];return r.J((s,o)=>{const a=n.store("remoteDocumentsV14"),l=function(d){return d.document?new Y(Ie.fromString(d.document.name).popFirst(5)):d.noDocument?Y.fromSegments(d.noDocument.path):d.unknownDocument?Y.fromSegments(d.unknownDocument.path):te()}(o).path.toArray(),c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(a.put(c))}).next(()=>M.waitFor(i))}ai(e,n){const r=n.store("mutations"),i=dI(this.serializer),s=new mI(ph.Zr,this.serializer.ct);return r.U().next(o=>{const a=new Map;return o.forEach(l=>{var c;let h=(c=a.get(l.userId))!==null&&c!==void 0?c:de();Ei(this.serializer,l).keys().forEach(d=>h=h.add(d)),a.set(l.userId,h)}),M.forEach(a,(l,c)=>{const h=new mt(c),d=fh.lt(this.serializer,h),m=s.getIndexManager(h),g=mh.lt(h,this.serializer,m,s.referenceDelegate);return new fI(i,g,d,m).recalculateAndSaveOverlaysForDocumentKeys(new Kf(n,pn.oe),l).next()})})}}function j_(t){t.createObjectStore("targetDocuments",{keyPath:Vk}).createIndex("documentTargetsIndex",kk,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Ck,{unique:!0}),t.createObjectStore("targetGlobal")}const xd="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class jp{constructor(e,n,r,i,s,o,a,l,c,h,d=17){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.ui=s,this.window=o,this.document=a,this.ci=c,this.li=h,this.hi=d,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=m=>Promise.resolve(),!jp.D())throw new J(z.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new XD(this,i),this.Ai=n+"main",this.serializer=new rI(l),this.Ri=new Ur(this.Ai,this.hi,new ub(this.serializer)),this.$r=new OD,this.Ur=new GD(this.referenceDelegate,this.serializer),this.remoteDocumentCache=dI(this.serializer),this.Gr=new FD,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,h===!1&&Nt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new J(z.FAILED_PRECONDITION,xd);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new pn(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){return this.di=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget(async()=>{this.started&&await this.mi()}))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>du(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(n=>{n||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(n=>this.isPrimary&&!n?this.bi(e).next(()=>!1):!!n&&this.Di(e).next(()=>!0))).catch(e=>{if(ti(e))return $("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return $("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return Yo(e).get("owner").next(n=>M.resolve(this.vi(n)))}Ci(e){return du(e).delete(this.clientId)}async Fi(){if(this.isPrimary&&!this.Mi(this.Ei,18e5)){this.Ei=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=ot(n,"clientMetadata");return r.U().next(i=>{const s=this.xi(i,18e5),o=i.filter(a=>s.indexOf(a)===-1);return M.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.Vi)for(const n of e)this.Vi.removeItem(this.Oi(n.clientId))}}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?M.resolve(!0):Yo(e).get("owner").next(n=>{if(n!==null&&this.Mi(n.leaseTimestampMs,5e3)&&!this.Ni(n.ownerId)){if(this.vi(n)&&this.networkEnabled)return!0;if(!this.vi(n)){if(!n.allowTabSynchronization)throw new J(z.FAILED_PRECONDITION,xd);return!1}}return!(!this.networkEnabled||!this.inForeground)||du(e).U().next(r=>this.xi(r,5e3).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&$("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.Kr=!1,this.Li(),this.Ti&&(this.Ti.cancel(),this.Ti=null),this.Bi(),this.ki(),await this.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new Kf(e,pn.oe);return this.bi(n).next(()=>this.Ci(n))}),this.Ri.close(),this.qi()}xi(e,n){return e.filter(r=>this.Mi(r.updateTimeMs,n)&&!this.Ni(r.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>du(e).U().next(n=>this.xi(n,18e5).map(r=>r.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,n){return mh.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new qD(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return fh.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,n,r){$("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=function(l){return l===17?zk:l===16?Uk:l===15?Ip:l===14?gx:l===13?px:l===12?Bk:l===11?mx:void te()}(this.hi);let o;return this.Ri.runTransaction(e,i,s,a=>(o=new Kf(a,this.Qr?this.Qr.next():pn.oe),n==="readwrite-primary"?this.wi(o).next(l=>!!l||this.Si(o)).next(l=>{if(!l)throw Nt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new J(z.FAILED_PRECONDITION,cx);return r(o)}).next(l=>this.Di(o).next(()=>l)):this.Ki(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}Ki(e){return Yo(e).get("owner").next(n=>{if(n!==null&&this.Mi(n.leaseTimestampMs,5e3)&&!this.Ni(n.ownerId)&&!this.vi(n)&&!(this.li||this.allowTabSynchronization&&n.allowTabSynchronization))throw new J(z.FAILED_PRECONDITION,xd)})}Di(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Yo(e).put("owner",n)}static D(){return Ur.D()}bi(e){const n=Yo(e);return n.get("owner").next(r=>this.vi(r)?($("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):M.resolve())}Mi(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(Nt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}fi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground=this.document.visibilityState==="visible")}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Pi=()=>{this.Li();const n=/(?:Version|Mobile)\/1[456]/;qT()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var n;try{const r=((n=this.Vi)===null||n===void 0?void 0:n.getItem(this.Oi(e)))!==null;return $("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Nt("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){Nt("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Yo(t){return ot(t,"owner")}function du(t){return ot(t,"clientMetadata")}function cb(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=de(),i=de();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Bp(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return qT()?8:dx(mc())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new hb;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(_s()<=ve.DEBUG&&$("QueryEngine","SDK will not create cache indexes for query:",ws(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),M.resolve()):(_s()<=ve.DEBUG&&$("QueryEngine","Query:",ws(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(_s()<=ve.DEBUG&&$("QueryEngine","The SDK decides to create cache indexes for query:",ws(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vn(n))):M.resolve())}Yi(e,n){if(h_(n))return M.resolve(null);let r=vn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Yf(n,null,"F"),r=vn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=de(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ts(n,a);return this.ns(n,c,o,l.readTime)?this.Yi(e,Yf(n,null,"F")):this.rs(e,c,n,l)}))})))}Zi(e,n,r,i){return h_(n)||i.isEqual(ie.min())?M.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?M.resolve(null):(_s()<=ve.DEBUG&&$("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ws(n)),this.rs(e,o,n,vk(i,-1)).next(a=>a))})}ts(e,n){let r=new Pe(Vx(e));return n.forEach((i,s)=>{yl(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return _s()<=ve.DEBUG&&$("QueryEngine","Using full collection scan to execute query:",ws(n)),this.Ji.getDocumentsMatchingQuery(e,n,on.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Oe(he),this._s=new ni(s=>Ki(s),gl),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fI(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function gI(t,e,n,r){return new db(t,e,n,r)}async function yI(t,e){const n=ce(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=de();for(const c of i){o.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}for(const c of s){a.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})}function fb(t,e){const n=ce(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,h){const d=c.batch,m=d.keys();let g=M.resolve();return m.forEach(E=>{g=g.next(()=>h.getEntry(l,E)).next(x=>{const R=c.docVersions.get(E);re(R!==null),x.version.compareTo(R)<0&&(d.applyToRemoteDocument(x,c),x.isValidDocument()&&(x.setReadTime(c.commitVersion),h.addEntry(x)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=de();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function vI(t){const e=ce(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function mb(t,e){const n=ce(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((h,d)=>{const m=i.get(d);if(!m)return;a.push(n.Ur.removeMatchingKeys(s,h.removedDocuments,d).next(()=>n.Ur.addMatchingKeys(s,h.addedDocuments,d)));let g=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?g=g.withResumeToken(rt.EMPTY_BYTE_STRING,ie.min()).withLastLimboFreeSnapshotVersion(ie.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,r)),i=i.insert(d,g),function(x,R,T){return x.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=3e8?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(m,g,h)&&a.push(n.Ur.updateTargetData(s,g))});let l=tn(),c=de();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(pb(s,o,e.documentUpdates).next(h=>{l=h.Ps,c=h.Is})),!r.isEqual(ie.min())){const h=n.Ur.getLastRemoteSnapshotVersion(s).next(d=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return M.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.os=i,s))}function pb(t,e,n){let r=de(),i=de();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=tn();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ie.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):$("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function gb(t,e){const n=ce(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function yb(t,e){const n=ce(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,M.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new Zn(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function im(t,e,n){const r=ce(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!ti(o))throw o;$("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function B_(t,e,n){const r=ce(t);let i=ie.min(),s=de();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,h){const d=ce(l),m=d._s.get(h);return m!==void 0?M.resolve(d.os.get(m)):d.Ur.getTargetData(c,h)}(r,o,vn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:ie.min(),n?s:de())).next(a=>(vb(r,iD(e),a),{documents:a,Ts:s})))}function vb(t,e,n){let r=t.us.get(e)||ie.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class U_{constructor(){this.activeTargetIds=cD()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _I{constructor(){this.so=new U_,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new U_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){$("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){$("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fu=null;function Id(){return fu===null?fu=function(){return 268435456+Math.round(2147483648*Math.random())}():fu++,"0x"+fu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xt="WebChannelConnection";class Tb extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=Id(),l=this.xo(n,r.toUriEncodedString());$("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,s,o),this.No(n,l,c,i).then(h=>($("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw Ui("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",l,"request:",i),h})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+_o}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=wb[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=Id();return new Promise((o,a)=>{const l=new tx;l.setWithCredentials(!0),l.listenOnce(nx.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Vu.NO_ERROR:const h=l.getResponseJson();$(xt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case Vu.TIMEOUT:$(xt,`RPC '${e}' ${s} timed out`),a(new J(z.DEADLINE_EXCEEDED,"Request time out"));break;case Vu.HTTP_ERROR:const d=l.getStatus();if($(xt,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let m=l.getResponseJson();Array.isArray(m)&&(m=m[0]);const g=m==null?void 0:m.error;if(g&&g.status&&g.message){const E=function(R){const T=R.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(T)>=0?T:z.UNKNOWN}(g.status);a(new J(E,g.message))}else a(new J(z.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new J(z.UNAVAILABLE,"Connection failed."));break;default:te()}}finally{$(xt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);$(xt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}Bo(e,n,r){const i=Id(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=sx(),a=ix(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=s.join("");$(xt,`Creating RPC '${e}' stream ${i}: ${h}`,l);const d=o.createWebChannel(h,l);let m=!1,g=!1;const E=new Eb({Io:R=>{g?$(xt,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(m||($(xt,`Opening RPC '${e}' stream ${i} transport.`),d.open(),m=!0),$(xt,`RPC '${e}' stream ${i} sending:`,R),d.send(R))},To:()=>d.close()}),x=(R,T,y)=>{R.listen(T,_=>{try{y(_)}catch(D){setTimeout(()=>{throw D},0)}})};return x(d,sa.EventType.OPEN,()=>{g||($(xt,`RPC '${e}' stream ${i} transport opened.`),E.yo())}),x(d,sa.EventType.CLOSE,()=>{g||(g=!0,$(xt,`RPC '${e}' stream ${i} transport closed`),E.So())}),x(d,sa.EventType.ERROR,R=>{g||(g=!0,Ui(xt,`RPC '${e}' stream ${i} transport errored:`,R),E.So(new J(z.UNAVAILABLE,"The operation could not be completed")))}),x(d,sa.EventType.MESSAGE,R=>{var T;if(!g){const y=R.data[0];re(!!y);const _=y,D=_.error||((T=_[0])===null||T===void 0?void 0:T.error);if(D){$(xt,`RPC '${e}' stream ${i} received error:`,D);const L=D.status;let U=function(S){const P=Je[S];if(P!==void 0)return $x(P)}(L),I=D.message;U===void 0&&(U=z.INTERNAL,I="Unknown error status: "+L+" with message "+D.message),g=!0,E.So(new J(U,I)),d.close()}else $(xt,`RPC '${e}' stream ${i} received:`,y),E.bo(y)}}),x(a,rx.STAT_EVENT,R=>{R.stat===zf.PROXY?$(xt,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===zf.NOPROXY&&$(xt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.wo()},0),E}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xb(){return typeof window<"u"?window:null}function Fu(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gh(t){return new AD(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&$("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(e,n,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new wI(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===z.RESOURCE_EXHAUSTED?(Nt(n.toString()),Nt("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new J(z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return $("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():($("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ib extends EI{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=CD(this.serializer,e),r=function(s){if(!("targetChange"in s))return ie.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ie.min():o.readTime?Ft(o.readTime):ie.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Zf(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=_c(l)?{documents:Xx(s,l)}:{query:Jx(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Gx(s,o.resumeToken);const c=Xf(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ie.min())>0){a.readTime=lo(s,o.snapshotVersion.toTimestamp());const c=Xf(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=kD(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Zf(this.serializer),n.removeTarget=e,this.a_(n)}}class Sb extends EI{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return re(!!e.streamToken),this.lastStreamToken=e.streamToken,re(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){re(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=VD(e.writeResults,e.commitTime),r=Ft(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Zf(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Tc(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new J(z.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Jf(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new J(z.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,Jf(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new J(z.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Pb{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Nt(n),this.D_=!1):$("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{Zi(this)&&($("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=ce(l);c.L_.add(4),await _l(c),c.q_.set("Unknown"),c.L_.delete(4),await yh(c)}(this))})}),this.q_=new Pb(r,i)}}async function yh(t){if(Zi(t))for(const e of t.B_)await e(!0)}async function _l(t){for(const e of t.B_)await e(!1)}function TI(t,e){const n=ce(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Kp(n)?$p(n):To(n).r_()&&zp(n,e))}function Up(t,e){const n=ce(t),r=To(n);n.N_.delete(e),r.r_()&&xI(n,e),n.N_.size===0&&(r.r_()?r.o_():Zi(n)&&n.q_.set("Unknown"))}function zp(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ie.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}To(t).A_(e)}function xI(t,e){t.Q_.xe(e),To(t).R_(e)}function $p(t){t.Q_=new TD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),To(t).start(),t.q_.v_()}function Kp(t){return Zi(t)&&!To(t).n_()&&t.N_.size>0}function Zi(t){return ce(t).L_.size===0}function II(t){t.Q_=void 0}async function Cb(t){t.q_.set("Online")}async function Vb(t){t.N_.forEach((e,n)=>{zp(t,e)})}async function kb(t,e){II(t),Kp(t)?(t.q_.M_(e),$p(t)):t.q_.set("Unknown")}async function Db(t,e,n){if(t.q_.set("Online"),e instanceof qx&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){$("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ac(t,r)}else if(e instanceof Lu?t.Q_.Ke(e):e instanceof Kx?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ie.min()))try{const r=await vI(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const h=s.N_.get(c);h&&s.N_.set(c,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const h=s.N_.get(l);if(!h)return;s.N_.set(l,h.withResumeToken(rt.EMPTY_BYTE_STRING,h.snapshotVersion)),xI(s,l);const d=new Zn(h.target,l,c,h.sequenceNumber);zp(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){$("RemoteStore","Failed to raise snapshot:",r),await Ac(t,r)}}async function Ac(t,e,n){if(!ti(e))throw e;t.L_.add(1),await _l(t),t.q_.set("Offline"),n||(n=()=>vI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{$("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await yh(t)})}function SI(t,e){return e().catch(n=>Ac(t,n,e))}async function wl(t){const e=ce(t),n=Hr(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;bb(e);)try{const i=await gb(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,Nb(e,i)}catch(i){await Ac(e,i)}AI(e)&&PI(e)}function bb(t){return Zi(t)&&t.O_.length<10}function Nb(t,e){t.O_.push(e);const n=Hr(t);n.r_()&&n.V_&&n.m_(e.mutations)}function AI(t){return Zi(t)&&!Hr(t).n_()&&t.O_.length>0}function PI(t){Hr(t).start()}async function Mb(t){Hr(t).p_()}async function Lb(t){const e=Hr(t);for(const n of t.O_)e.m_(n.mutations)}async function Fb(t,e,n){const r=t.O_.shift(),i=Dp.from(r,e,n);await SI(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await wl(t)}async function Ob(t,e){e&&Hr(t).V_&&await async function(r,i){if(function(o){return _D(o)&&o!==z.ABORTED}(i.code)){const s=r.O_.shift();Hr(r).s_(),await SI(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await wl(r)}}(t,e),AI(t)&&PI(t)}async function $_(t,e){const n=ce(t);n.asyncQueue.verifyOperationInProgress(),$("RemoteStore","RemoteStore received new credentials");const r=Zi(n);n.L_.add(3),await _l(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await yh(n)}async function jb(t,e){const n=ce(t);e?(n.L_.delete(2),await yh(n)):e||(n.L_.add(2),await _l(n),n.q_.set("Unknown"))}function To(t){return t.K_||(t.K_=function(n,r,i){const s=ce(n);return s.w_(),new Ib(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:Cb.bind(null,t),Ro:Vb.bind(null,t),mo:kb.bind(null,t),d_:Db.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Kp(t)?$p(t):t.q_.set("Unknown")):(await t.K_.stop(),II(t))})),t.K_}function Hr(t){return t.U_||(t.U_=function(n,r,i){const s=ce(n);return s.w_(),new Sb(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Mb.bind(null,t),mo:Ob.bind(null,t),f_:Lb.bind(null,t),g_:Fb.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await wl(t)):(await t.U_.stop(),t.O_.length>0&&($("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new zn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new qp(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new J(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gp(t,e){if(Nt("AsyncQueue",`${e}: ${t}`),ti(t))return new J(z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Y.comparator(n.key,r.key):(n,r)=>Y.comparator(n.key,r.key),this.keyedMap=oa(),this.sortedSet=new Oe(this.comparator)}static emptySet(e){return new Ws(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ws)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ws;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(){this.W_=new Oe(Y.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):te():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class uo{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new uo(e,n,Ws.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&uh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class Ub{constructor(){this.queries=q_(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=ce(n),s=i.queries;i.queries=q_(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new J(z.ABORTED,"Firestore shutting down"))}}function q_(){return new ni(t=>Cx(t),uh)}async function RI(t,e){const n=ce(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new Bb,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Gp(o,`Initialization of query '${ws(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&Wp(n)}async function CI(t,e){const n=ce(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function zb(t,e){const n=ce(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&Wp(n)}function $b(t,e,n){const r=ce(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function Wp(t){t.Y_.forEach(e=>{e.next()})}var sm,G_;(G_=sm||(sm={})).ea="default",G_.Cache="cache";class VI{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new uo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=uo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==sm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(e){this.key=e}}class DI{constructor(e){this.key=e}}class Kb{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=de(),this.mutatedKeys=de(),this.Aa=Vx(e),this.Ra=new Ws(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new K_,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,d)=>{const m=i.get(h),g=yl(this.query,d)?d:null,E=!!m&&this.mutatedKeys.has(m.key),x=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let R=!1;m&&g?m.data.isEqual(g.data)?E!==x&&(r.track({type:3,doc:g}),R=!0):this.ga(m,g)||(r.track({type:2,doc:g}),R=!0,(l&&this.Aa(g,l)>0||c&&this.Aa(g,c)<0)&&(a=!0)):!m&&g?(r.track({type:0,doc:g}),R=!0):m&&!g&&(r.track({type:1,doc:m}),R=!0,(l||c)&&(a=!0)),R&&(g?(o=o.add(g),s=x?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((h,d)=>function(g,E){const x=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return te()}};return x(g)-x(E)}(h.type,d.type)||this.Aa(h.doc,d.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,c=l!==this.Ea;return this.Ea=l,o.length!==0||c?{snapshot:new uo(this.query,e.Ra,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new K_,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=de(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new DI(r))}),this.da.forEach(r=>{e.has(r)||n.push(new kI(r))}),n}ba(e){this.Ta=e.Ts,this.da=de();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return uo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class qb{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Gb{constructor(e){this.key=e,this.va=!1}}class Wb{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new ni(a=>Cx(a),uh),this.Ma=new Map,this.xa=new Set,this.Oa=new Oe(Y.comparator),this.Na=new Map,this.La=new Op,this.Ba={},this.ka=new Map,this.qa=Wi.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function Hb(t,e,n=!0){const r=OI(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await bI(r,e,n,!0),i}async function Qb(t,e){const n=OI(t);await bI(n,e,!0,!1)}async function bI(t,e,n,r){const i=await yb(t.localStore,vn(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await Yb(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&TI(t.remoteStore,i),a}async function Yb(t,e,n,r,i){t.Ka=(d,m,g)=>async function(x,R,T,y){let _=R.view.ma(T);_.ns&&(_=await B_(x.localStore,R.query,!1).then(({documents:I})=>R.view.ma(I,_)));const D=y&&y.targetChanges.get(R.targetId),L=y&&y.targetMismatches.get(R.targetId)!=null,U=R.view.applyChanges(_,x.isPrimaryClient,D,L);return H_(x,R.targetId,U.wa),U.snapshot}(t,d,m,g);const s=await B_(t.localStore,e,!0),o=new Kb(e,s.Ts),a=o.ma(s.documents),l=vl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);H_(t,n,c.wa);const h=new qb(e,n,o);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function Xb(t,e,n){const r=ce(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!uh(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await im(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Up(r.remoteStore,i.targetId),om(r,i.targetId)}).catch(Ji)):(om(r,i.targetId),await im(r.localStore,i.targetId,!0))}async function Jb(t,e){const n=ce(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Up(n.remoteStore,r.targetId))}async function Zb(t,e,n){const r=jI(t);try{const i=await function(o,a){const l=ce(o),c=$e.now(),h=a.reduce((g,E)=>g.add(E.key),de());let d,m;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let E=tn(),x=de();return l.cs.getEntries(g,h).next(R=>{E=R,E.forEach((T,y)=>{y.isValidDocument()||(x=x.add(T))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,E)).next(R=>{d=R;const T=[];for(const y of a){const _=yD(y,d.get(y.key).overlayedDocument);_!=null&&T.push(new ri(y.key,_,Ex(_.value.mapValue),nn.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,T,a)}).next(R=>{m=R;const T=R.applyToLocalDocumentSet(d,x);return l.documentOverlayCache.saveOverlays(g,R.batchId,T)})}).then(()=>({batchId:m.batchId,changes:Dx(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Ba[o.currentUser.toKey()];c||(c=new Oe(he)),c=c.insert(a,l),o.Ba[o.currentUser.toKey()]=c}(r,i.batchId,n),await El(r,i.changes),await wl(r.remoteStore)}catch(i){const s=Gp(i,"Failed to persist write");n.reject(s)}}async function NI(t,e){const n=ce(t);try{const r=await mb(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(re(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?re(o.va):i.removedDocuments.size>0&&(re(o.va),o.va=!1))}),await El(n,r,e)}catch(r){await Ji(r)}}function W_(t,e,n){const r=ce(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=ce(o);l.onlineState=a;let c=!1;l.queries.forEach((h,d)=>{for(const m of d.j_)m.Z_(a)&&(c=!0)}),c&&Wp(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function e2(t,e,n){const r=ce(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new Oe(Y.comparator);o=o.insert(s,We.newNoDocument(s,ie.min()));const a=de().add(s),l=new dh(ie.min(),new Map,new Oe(he),o,a);await NI(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),Hp(r)}else await im(r.localStore,e,!1).then(()=>om(r,e,n)).catch(Ji)}async function t2(t,e){const n=ce(t),r=e.batch.batchId;try{const i=await fb(n.localStore,e);LI(n,r,null),MI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await El(n,i)}catch(i){await Ji(i)}}async function n2(t,e,n){const r=ce(t);try{const i=await function(o,a){const l=ce(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(re(d!==null),h=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>l.localDocuments.getDocuments(c,h))})}(r.localStore,e);LI(r,e,n),MI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await El(r,i)}catch(i){await Ji(i)}}function MI(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function LI(t,e,n){const r=ce(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function om(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||FI(t,r)})}function FI(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Up(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Hp(t))}function H_(t,e,n){for(const r of n)r instanceof kI?(t.La.addReference(r.key,e),r2(t,r)):r instanceof DI?($("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||FI(t,r.key)):te()}function r2(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||($("SyncEngine","New document in limbo: "+n),t.xa.add(r),Hp(t))}function Hp(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Y(Ie.fromString(e)),r=t.qa.next();t.Na.set(r,new Gb(n)),t.Oa=t.Oa.insert(n,r),TI(t.remoteStore,new Zn(vn(lh(n.path)),r,"TargetPurposeLimboResolution",pn.oe))}}async function El(t,e,n){const r=ce(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const d=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){i.push(c);const d=Bp.Wi(l.targetId,c);s.push(d)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,c){const h=ce(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>M.forEach(c,m=>M.forEach(m.$i,g=>h.persistence.referenceDelegate.addReference(d,m.targetId,g)).next(()=>M.forEach(m.Ui,g=>h.persistence.referenceDelegate.removeReference(d,m.targetId,g)))))}catch(d){if(!ti(d))throw d;$("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const m=d.targetId;if(!d.fromCache){const g=h.os.get(m),E=g.snapshotVersion,x=g.withLastLimboFreeSnapshotVersion(E);h.os=h.os.insert(m,x)}}}(r.localStore,s))}async function i2(t,e){const n=ce(t);if(!n.currentUser.isEqual(e)){$("SyncEngine","User change. New user:",e.toKey());const r=await yI(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new J(z.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await El(n,r.hs)}}function s2(t,e){const n=ce(t),r=n.Na.get(e);if(r&&r.va)return de().add(r.key);{let i=de();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function OI(t){const e=ce(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=NI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=s2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=e2.bind(null,e),e.Ca.d_=zb.bind(null,e.eventManager),e.Ca.$a=$b.bind(null,e.eventManager),e}function jI(t){const e=ce(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=t2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=n2.bind(null,e),e}class ol{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=gh(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return gI(this.persistence,new pI,e.initialUser,this.serializer)}Ga(e){return new mI(ph.Zr,this.serializer)}Wa(e){return new _I}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ol.provider={build:()=>new ol};class o2 extends ol{constructor(e,n,r){super(),this.Ja=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Ja.initialize(this,e),await jI(this.Ja.syncEngine),await wl(this.Ja.remoteStore),await this.persistence.yi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}za(e){return gI(this.persistence,new pI,e.initialUser,this.serializer)}ja(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new HD(r,e.asyncQueue,n)}Ha(e,n){const r=new Tk(n,this.persistence);return new Ek(e.asyncQueue,r)}Ga(e){const n=cb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?$t.withCacheSize(this.cacheSizeBytes):$t.DEFAULT;return new jp(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,xb(),Fu(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new _I}}class Pc{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>W_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=i2.bind(null,this.syncEngine),await jb(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Ub}()}createDatastore(e){const n=gh(e.databaseInfo.databaseId),r=function(s){return new Tb(s)}(e.databaseInfo);return function(s,o,a,l){return new Ab(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new Rb(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>W_(this.syncEngine,n,0),function(){return z_.D()?new z_:new _b}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,h){const d=new Wb(i,s,o,a,l,c);return h&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=ce(i);$("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await _l(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Pc.provider={build:()=>new Pc};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Nt("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=mt.UNAUTHENTICATED,this.clientId=ax.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{$("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>($("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new zn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Gp(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Sd(t,e){t.asyncQueue.verifyOperationInProgress(),$("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await yI(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Q_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await l2(t);$("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>$_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>$_(e.remoteStore,i)),t._onlineComponents=e}async function l2(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){$("FirestoreClient","Using user provided OfflineComponentProvider");try{await Sd(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===z.FAILED_PRECONDITION||i.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ui("Error using user provided cache. Falling back to memory cache: "+n),await Sd(t,new ol)}}else $("FirestoreClient","Using default OfflineComponentProvider"),await Sd(t,new ol);return t._offlineComponents}async function UI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?($("FirestoreClient","Using user provided OnlineComponentProvider"),await Q_(t,t._uninitializedComponentsProvider._online)):($("FirestoreClient","Using default OnlineComponentProvider"),await Q_(t,new Pc))),t._onlineComponents}function u2(t){return UI(t).then(e=>e.syncEngine)}async function zI(t){const e=await UI(t),n=e.eventManager;return n.onListen=Hb.bind(null,e.syncEngine),n.onUnlisten=Xb.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Qb.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Jb.bind(null,e.syncEngine),n}function c2(t,e,n={}){const r=new zn;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const h=new BI({next:m=>{h.Za(),o.enqueueAndForget(()=>CI(s,d));const g=m.docs.has(a);!g&&m.fromCache?c.reject(new J(z.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&m.fromCache&&l&&l.source==="server"?c.reject(new J(z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(m)},error:m=>c.reject(m)}),d=new VI(lh(a.path),h,{includeMetadataChanges:!0,_a:!0});return RI(s,d)}(await zI(t),t.asyncQueue,e,n,r)),r.promise}function h2(t,e,n={}){const r=new zn;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const h=new BI({next:m=>{h.Za(),o.enqueueAndForget(()=>CI(s,d)),m.fromCache&&l.source==="server"?c.reject(new J(z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(m)},error:m=>c.reject(m)}),d=new VI(a,h,{includeMetadataChanges:!0,_a:!0});return RI(s,d)}(await zI(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $I(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(t,e,n){if(!n)throw new J(z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function d2(t,e,n,r){if(e===!0&&r===!0)throw new J(z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function X_(t){if(!Y.isDocumentKey(t))throw new J(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function J_(t){if(Y.isDocumentKey(t))throw new J(z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Qp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":te()}function Hi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new J(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Qp(t);throw new J(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new J(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new J(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}d2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$I((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new J(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new J(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new J(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Z_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new J(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new J(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Z_(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new uk;switch(r.type){case"firstParty":return new fk(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new J(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Y_.get(n);r&&($("ComponentProvider","Removing Datastore"),Y_.delete(n),r.terminate())}(this),Promise.resolve()}}function f2(t,e,n,r={}){var i;const s=(t=Hi(t,vh))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Ui("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=mt.MOCK_USER;else{a=qC(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new J(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new mt(c)}t._authCredentials=new ck(new ox(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new _h(this.firestore,e,this._query)}}class _n{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _n(this.firestore,e,this._key)}}class zr extends _h{constructor(e,n,r){super(e,n,lh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _n(this.firestore,null,new Y(e))}withConverter(e){return new zr(this.firestore,e,this._path)}}function qI(t,e,...n){if(t=Ya(t),KI("collection","path",e),t instanceof vh){const r=Ie.fromString(e,...n);return J_(r),new zr(t,null,r)}{if(!(t instanceof _n||t instanceof zr))throw new J(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ie.fromString(e,...n));return J_(r),new zr(t.firestore,null,r)}}function GI(t,e,...n){if(t=Ya(t),arguments.length===1&&(e=ax.newId()),KI("doc","path",e),t instanceof vh){const r=Ie.fromString(e,...n);return X_(r),new _n(t,null,new Y(r))}{if(!(t instanceof _n||t instanceof zr))throw new J(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ie.fromString(e,...n));return X_(r),new _n(t.firestore,t instanceof zr?t.converter:null,new Y(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new wI(this,"async_queue_retry"),this.Vu=()=>{const r=Fu();r&&$("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Fu();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Fu();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new zn;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!ti(e))throw e;$("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Nt("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=qp.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&te()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class Tl extends vh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new e0,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new e0(e),this._firestoreClient=void 0,await e}}}function m2(t,e){const n=typeof t=="object"?t:XV(),r=typeof t=="string"?t:"(default)",i=WV(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=$C("firestore");s&&f2(i,...s)}return i}function Yp(t){if(t._terminated)throw new J(z.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||WI(t),t._firestoreClient}function WI(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,h){return new Kk(a,l,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,$I(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new a2(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}function p2(t,e){Ui("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return g2(t,Pc.provider,{build:r=>new o2(r,n.cacheSizeBytes,void 0)}),Promise.resolve()}function g2(t,e,n){if((t=Hi(t,Tl))._firestoreClient||t._terminated)throw new J(z.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new J(z.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},WI(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e){this._byteString=e}static fromBase64String(e){try{return new co(rt.fromBase64String(e))}catch(n){throw new J(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new co(rt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new J(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Be(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new J(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new J(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return he(this._lat,e._lat)||he(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2=/^__.*__$/;class v2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ri(e,this.data,this.fieldMask,n,this.fieldTransforms):new Eo(e,this.data,n,this.fieldTransforms)}}function HI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw te()}}class tg{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new tg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Rc(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(HI(this.Cu)&&y2.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class _2{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||gh(e)}Qu(e,n,r,i=!1){return new tg({Cu:e,methodName:n,qu:r,path:Be.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function w2(t){const e=t._freezeSettings(),n=gh(t._databaseId);return new _2(t._databaseId,!!e.ignoreUndefinedProperties,n)}function E2(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);JI("Data must be an object, but it was:",o,r);const a=YI(r,o);let l,c;if(s.merge)l=new gn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const d of s.mergeFields){const m=T2(e,d,n);if(!o.contains(m))throw new J(z.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);I2(h,m)||h.push(m)}l=new gn(h),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new v2(new qt(a),l,c)}class ng extends Jp{_toFieldTransform(e){return new jx(e.path,new so)}isEqual(e){return e instanceof ng}}function QI(t,e){if(XI(t=Ya(t)))return JI("Unsupported field value:",e,t),YI(t,e);if(t instanceof Jp)return function(r,i){if(!HI(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=QI(a,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Ya(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return hD(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=$e.fromDate(r);return{timestampValue:lo(i.serializer,s)}}if(r instanceof $e){const s=new $e(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:lo(i.serializer,s)}}if(r instanceof Zp)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof co)return{bytesValue:Gx(i.serializer,r._byteString)};if(r instanceof _n){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Mp(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof eg)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return Cp(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Qp(r)}`)}(t,e)}function YI(t,e){const n={};return yx(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):wo(t,(r,i)=>{const s=QI(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function XI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof $e||t instanceof Zp||t instanceof co||t instanceof _n||t instanceof Jp||t instanceof eg)}function JI(t,e,n){if(!XI(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Qp(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function T2(t,e,n){if((e=Ya(e))instanceof Xp)return e._internalPath;if(typeof e=="string")return ZI(t,e);throw Rc("Field path arguments must be of type string or ",t,!1,void 0,n)}const x2=new RegExp("[~\\*/\\[\\]]");function ZI(t,e,n){if(e.search(x2)>=0)throw Rc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Xp(...e.split("."))._internalPath}catch{throw Rc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Rc(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new J(z.INVALID_ARGUMENT,a+t+l)}function I2(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new _n(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new S2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(tS("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class S2 extends eS{data(){return super.data()}}function tS(t,e){return typeof e=="string"?ZI(t,e):e instanceof Xp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new J(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class P2{convertValue(e,n="none"){switch($i(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Le(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Gr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw te()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return wo(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Le(o.doubleValue));return new eg(s)}convertGeoPoint(e){return new Zp(Le(e.latitude),Le(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ap(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(nl(e));default:return null}}convertTimestamp(e){const n=ur(e);return new $e(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ie.fromString(e);re(nI(r));const i=new zi(r.get(1),r.get(3)),s=new Y(r.popFirst(5));return i.isEqual(n)||Nt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class nS extends eS{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ou(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(tS("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Ou extends nS{data(e={}){return super.data(e)}}class C2{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ua(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ou(this._firestore,this._userDataWriter,r.key,r,new ua(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new J(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Ou(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ua(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Ou(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ua(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,h=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:V2(a.type),doc:l,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function V2(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return te()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k2(t){t=Hi(t,_n);const e=Hi(t.firestore,Tl);return c2(Yp(e),t._key).then(n=>M2(e,t,n))}class rS extends P2{constructor(e){super(),this.firestore=e}convertBytes(e){return new co(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new _n(this.firestore,null,n)}}function D2(t){t=Hi(t,_h);const e=Hi(t.firestore,Tl),n=Yp(e),r=new rS(e);return A2(t._query),h2(n,t._query).then(i=>new C2(e,r,t,i))}function b2(t,e){const n=Hi(t.firestore,Tl),r=GI(t),i=R2(t.converter,e);return N2(n,[E2(w2(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,nn.exists(!1))]).then(()=>r)}function N2(t,e){return function(r,i){const s=new zn;return r.asyncQueue.enqueueAndForget(async()=>Zb(await u2(r),i,s)),s.promise}(Yp(t),e)}function M2(t,e,n){const r=n.docs.get(e._key),i=new rS(t);return new nS(t,i,e._key,r,new ua(n.hasPendingWrites,n.fromCache),e.converter)}function L2(){return new ng("serverTimestamp")}(function(e,n=!0){(function(i){_o=i})(YV),gc(new Xa("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Tl(new hk(r.getProvider("auth-internal")),new pk(r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new J(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zi(c.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Gs(Qv,"4.7.3",e),Gs(Qv,"4.7.3","esm2017")})();const F2={apiKey:"AIzaSyA6QG75SeanPmW9UCO10HeXMexVOToSDQ8",authDomain:"simple-blog-972b2.firebaseapp.com",projectId:"simple-blog-972b2",storageBucket:"simple-blog-972b2.firebasestorage.app",messagingSenderId:"193096960609",appId:"1:193096960609:web:720e5a3d229516a25cf820"},O2=XT(F2),wh=m2(O2);p2(wh).catch(t=>{t.code==="failed-precondition"?console.warn("Multiple tabs open, persistence can only be enabled in one tab at a time."):t.code==="unimplemented"&&console.warn("The current browser does not support offline persistence.")});const j2=async()=>{try{const t=qI(wh,"posts");return(await D2(t)).docs.map(n=>{var r;return{id:n.id,...n.data(),createdAt:((r=n.data().createdAt)==null?void 0:r.toDate())||new Date}})}catch(t){throw console.error("Error fetching posts:",t),t}},B2=async t=>{var e;try{const n=GI(wh,"posts",t),r=await k2(n);return r.exists()?{id:r.id,...r.data(),createdAt:((e=r.data().createdAt)==null?void 0:e.toDate())||new Date}:null}catch(n){throw console.error("Error fetching post:",n),n}},U2=async t=>{try{const e=qI(wh,"posts");return(await b2(e,{...t,createdAt:L2()})).id}catch(e){throw console.error("Error creating post:",e),e}},iS=B.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Eh=B.createContext({}),rg=B.createContext(null),Th=typeof document<"u",z2=Th?B.useLayoutEffect:B.useEffect,sS=B.createContext({strict:!1}),ig=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),$2="framerAppearId",oS="data-"+ig($2);function K2(t,e,n,r){const{visualElement:i}=B.useContext(Eh),s=B.useContext(sS),o=B.useContext(rg),a=B.useContext(iS).reducedMotion,l=B.useRef();r=r||s.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:i,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;B.useInsertionEffect(()=>{c&&c.update(n,o)});const h=B.useRef(!!(n[oS]&&!window.HandoffComplete));return z2(()=>{c&&(c.render(),h.current&&c.animationState&&c.animationState.animateChanges())}),B.useEffect(()=>{c&&(c.updateFeatures(),!h.current&&c.animationState&&c.animationState.animateChanges(),h.current&&(h.current=!1,window.HandoffComplete=!0))}),c}function Ls(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function q2(t,e,n){return B.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Ls(n)&&(n.current=r))},[e])}function al(t){return typeof t=="string"||Array.isArray(t)}function xh(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const sg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],og=["initial",...sg];function Ih(t){return xh(t.animate)||og.some(e=>al(t[e]))}function aS(t){return!!(Ih(t)||t.variants)}function G2(t,e){if(Ih(t)){const{initial:n,animate:r}=t;return{initial:n===!1||al(n)?n:void 0,animate:al(r)?r:void 0}}return t.inherit!==!1?e:{}}function W2(t){const{initial:e,animate:n}=G2(t,B.useContext(Eh));return B.useMemo(()=>({initial:e,animate:n}),[t0(e),t0(n)])}function t0(t){return Array.isArray(t)?t.join(" "):t}const n0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ll={};for(const t in n0)ll[t]={isEnabled:e=>n0[t].some(n=>!!e[n])};function H2(t){for(const e in t)ll[e]={...ll[e],...t[e]}}const lS=B.createContext({}),uS=B.createContext({}),Q2=Symbol.for("motionComponentSymbol");function Y2({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&H2(t);function s(a,l){let c;const h={...B.useContext(iS),...a,layoutId:X2(a)},{isStatic:d}=h,m=W2(a),g=r(a,d);if(!d&&Th){m.visualElement=K2(i,g,h,e);const E=B.useContext(uS),x=B.useContext(sS).strict;m.visualElement&&(c=m.visualElement.loadFeatures(h,x,t,E))}return B.createElement(Eh.Provider,{value:m},c&&m.visualElement?B.createElement(c,{visualElement:m.visualElement,...h}):null,n(i,a,q2(g,m.visualElement,l),g,d,m.visualElement))}const o=B.forwardRef(s);return o[Q2]=i,o}function X2({layoutId:t}){const e=B.useContext(lS).id;return e&&t!==void 0?e+"-"+t:t}function J2(t){function e(r,i={}){return Y2(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const Z2=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ag(t){return typeof t!="string"||t.includes("-")?!1:!!(Z2.indexOf(t)>-1||/[A-Z]/.test(t))}const Cc={};function eN(t){Object.assign(Cc,t)}const xl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],es=new Set(xl);function cS(t,{layout:e,layoutId:n}){return es.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Cc[t]||t==="opacity")}const Yt=t=>!!(t&&t.getVelocity),tN={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},nN=xl.length;function rN(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,i){let s="";for(let o=0;o<nN;o++){const a=xl[o];if(t[a]!==void 0){const l=tN[a]||a;s+=`${l}(${t[a]}) `}}return e&&!t.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(t,r?"":s):n&&r&&(s="none"),s}const hS=t=>e=>typeof e=="string"&&e.startsWith(t),dS=hS("--"),am=hS("var(--"),iN=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,sN=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Qr=(t,e,n)=>Math.min(Math.max(n,t),e),ts={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Sa={...ts,transform:t=>Qr(0,1,t)},mu={...ts,default:1},Aa=t=>Math.round(t*1e5)/1e5,Sh=/(-)?([\d]*\.?[\d])+/g,fS=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,oN=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Il(t){return typeof t=="string"}const Sl=t=>({test:e=>Il(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),vr=Sl("deg"),$n=Sl("%"),le=Sl("px"),aN=Sl("vh"),lN=Sl("vw"),r0={...$n,parse:t=>$n.parse(t)/100,transform:t=>$n.transform(t*100)},i0={...ts,transform:Math.round},mS={borderWidth:le,borderTopWidth:le,borderRightWidth:le,borderBottomWidth:le,borderLeftWidth:le,borderRadius:le,radius:le,borderTopLeftRadius:le,borderTopRightRadius:le,borderBottomRightRadius:le,borderBottomLeftRadius:le,width:le,maxWidth:le,height:le,maxHeight:le,size:le,top:le,right:le,bottom:le,left:le,padding:le,paddingTop:le,paddingRight:le,paddingBottom:le,paddingLeft:le,margin:le,marginTop:le,marginRight:le,marginBottom:le,marginLeft:le,rotate:vr,rotateX:vr,rotateY:vr,rotateZ:vr,scale:mu,scaleX:mu,scaleY:mu,scaleZ:mu,skew:vr,skewX:vr,skewY:vr,distance:le,translateX:le,translateY:le,translateZ:le,x:le,y:le,z:le,perspective:le,transformPerspective:le,opacity:Sa,originX:r0,originY:r0,originZ:le,zIndex:i0,fillOpacity:Sa,strokeOpacity:Sa,numOctaves:i0};function lg(t,e,n,r){const{style:i,vars:s,transform:o,transformOrigin:a}=t;let l=!1,c=!1,h=!0;for(const d in e){const m=e[d];if(dS(d)){s[d]=m;continue}const g=mS[d],E=sN(m,g);if(es.has(d)){if(l=!0,o[d]=E,!h)continue;m!==(g.default||0)&&(h=!1)}else d.startsWith("origin")?(c=!0,a[d]=E):i[d]=E}if(e.transform||(l||r?i.transform=rN(t.transform,n,h,r):i.transform&&(i.transform="none")),c){const{originX:d="50%",originY:m="50%",originZ:g=0}=a;i.transformOrigin=`${d} ${m} ${g}`}}const ug=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function pS(t,e,n){for(const r in e)!Yt(e[r])&&!cS(r,n)&&(t[r]=e[r])}function uN({transformTemplate:t},e,n){return B.useMemo(()=>{const r=ug();return lg(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function cN(t,e,n){const r=t.style||{},i={};return pS(i,r,t),Object.assign(i,uN(t,e,n)),t.transformValues?t.transformValues(i):i}function hN(t,e,n){const r={},i=cN(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const dN=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Vc(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||dN.has(t)}let gS=t=>!Vc(t);function fN(t){t&&(gS=e=>e.startsWith("on")?!Vc(e):t(e))}try{fN(require("@emotion/is-prop-valid").default)}catch{}function mN(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(gS(i)||n===!0&&Vc(i)||!e&&!Vc(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function s0(t,e,n){return typeof t=="string"?t:le.transform(e+n*t)}function pN(t,e,n){const r=s0(e,t.x,t.width),i=s0(n,t.y,t.height);return`${r} ${i}`}const gN={offset:"stroke-dashoffset",array:"stroke-dasharray"},yN={offset:"strokeDashoffset",array:"strokeDasharray"};function vN(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?gN:yN;t[s.offset]=le.transform(-r);const o=le.transform(e),a=le.transform(n);t[s.array]=`${o} ${a}`}function cg(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},h,d,m){if(lg(t,c,h,m),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:E,dimensions:x}=t;g.transform&&(x&&(E.transform=g.transform),delete g.transform),x&&(i!==void 0||s!==void 0||E.transform)&&(E.transformOrigin=pN(x,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(g.x=e),n!==void 0&&(g.y=n),r!==void 0&&(g.scale=r),o!==void 0&&vN(g,o,a,l,!1)}const yS=()=>({...ug(),attrs:{}}),hg=t=>typeof t=="string"&&t.toLowerCase()==="svg";function _N(t,e,n,r){const i=B.useMemo(()=>{const s=yS();return cg(s,e,{enableHardwareAcceleration:!1},hg(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};pS(s,t.style,t),i.style={...s,...i.style}}return i}function wN(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(ag(n)?_N:hN)(r,s,o,n),h={...mN(r,typeof n=="string",t),...l,ref:i},{children:d}=r,m=B.useMemo(()=>Yt(d)?d.get():d,[d]);return B.createElement(n,{...h,children:m})}}function vS(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const _S=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function wS(t,e,n,r){vS(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(_S.has(i)?i:ig(i),e.attrs[i])}function dg(t,e){const{style:n}=t,r={};for(const i in n)(Yt(n[i])||e.style&&Yt(e.style[i])||cS(i,t))&&(r[i]=n[i]);return r}function ES(t,e){const n=dg(t,e);for(const r in t)if(Yt(t[r])||Yt(e[r])){const i=xl.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=t[r]}return n}function fg(t,e,n,r={},i={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),e}function EN(t){const e=B.useRef(null);return e.current===null&&(e.current=t()),e.current}const kc=t=>Array.isArray(t),TN=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),xN=t=>kc(t)?t[t.length-1]||0:t;function ju(t){const e=Yt(t)?t.get():t;return TN(e)?e.toValue():e}function IN({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,s){const o={latestValues:SN(r,i,s,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const TS=t=>(e,n)=>{const r=B.useContext(Eh),i=B.useContext(rg),s=()=>IN(t,e,r,i);return n?s():EN(s)};function SN(t,e,n,r){const i={},s=r(t,{});for(const m in s)i[m]=ju(s[m]);let{initial:o,animate:a}=t;const l=Ih(t),c=aS(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const d=h?a:o;return d&&typeof d!="boolean"&&!xh(d)&&(Array.isArray(d)?d:[d]).forEach(g=>{const E=fg(t,g);if(!E)return;const{transitionEnd:x,transition:R,...T}=E;for(const y in T){let _=T[y];if(Array.isArray(_)){const D=h?_.length-1:0;_=_[D]}_!==null&&(i[y]=_)}for(const y in x)i[y]=x[y]}),i}const Qe=t=>t;class o0{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function AN(t){let e=new o0,n=new o0,r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(l,c=!1,h=!1)=>{const d=h&&i,m=d?e:n;return c&&o.add(l),m.add(l)&&d&&i&&(r=e.order.length),l},cancel:l=>{n.remove(l),o.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let c=0;c<r;c++){const h=e.order[c];h(l),o.has(h)&&(a.schedule(h),t())}i=!1,s&&(s=!1,a.process(l))}};return a}const pu=["prepare","read","update","preRender","render","postRender"],PN=40;function RN(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=pu.reduce((d,m)=>(d[m]=AN(()=>n=!0),d),{}),o=d=>s[d].process(i),a=()=>{const d=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(d-i.timestamp,PN),1),i.timestamp=d,i.isProcessing=!0,pu.forEach(o),i.isProcessing=!1,n&&e&&(r=!1,t(a))},l=()=>{n=!0,r=!0,i.isProcessing||t(a)};return{schedule:pu.reduce((d,m)=>{const g=s[m];return d[m]=(E,x=!1,R=!1)=>(n||l(),g.schedule(E,x,R)),d},{}),cancel:d=>pu.forEach(m=>s[m].cancel(d)),state:i,steps:s}}const{schedule:Ne,cancel:cr,state:It,steps:Ad}=RN(typeof requestAnimationFrame<"u"?requestAnimationFrame:Qe,!0),CN={useVisualState:TS({scrapeMotionValuesFromProps:ES,createRenderState:yS,onMount:(t,e,{renderState:n,latestValues:r})=>{Ne.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Ne.render(()=>{cg(n,r,{enableHardwareAcceleration:!1},hg(e.tagName),t.transformTemplate),wS(e,n)})}})},VN={useVisualState:TS({scrapeMotionValuesFromProps:dg,createRenderState:ug})};function kN(t,{forwardMotionProps:e=!1},n,r){return{...ag(t)?CN:VN,preloadedFeatures:n,useRender:wN(e),createVisualElement:r,Component:t}}function er(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const xS=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Ah(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const DN=t=>e=>xS(e)&&t(e,Ah(e));function nr(t,e,n,r){return er(t,e,DN(n),r)}const bN=(t,e)=>n=>e(t(n)),$r=(...t)=>t.reduce(bN);function IS(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const a0=IS("dragHorizontal"),l0=IS("dragVertical");function SS(t){let e=!1;if(t==="y")e=l0();else if(t==="x")e=a0();else{const n=a0(),r=l0();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function AS(){const t=SS(!0);return t?(t(),!1):!0}class ii{constructor(e){this.isMounted=!1,this.node=e}update(){}}function u0(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(s,o)=>{if(s.pointerType==="touch"||AS())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&Ne.update(()=>a[r](s,o))};return nr(t.current,n,i,{passive:!t.getProps()[r]})}class NN extends ii{mount(){this.unmount=$r(u0(this.node,!0),u0(this.node,!1))}unmount(){}}class MN extends ii{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=$r(er(this.node.current,"focus",()=>this.onFocus()),er(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const PS=(t,e)=>e?t===e?!0:PS(t,e.parentElement):!1;function Pd(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Ah(n))}class LN extends ii{constructor(){super(...arguments),this.removeStartListeners=Qe,this.removeEndListeners=Qe,this.removeAccessibleListeners=Qe,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=nr(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:h,globalTapTarget:d}=this.node.getProps();Ne.update(()=>{!d&&!PS(this.node.current,a.target)?h&&h(a,l):c&&c(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),o=nr(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=$r(s,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||Pd("up",(l,c)=>{const{onTap:h}=this.node.getProps();h&&Ne.update(()=>h(l,c))})};this.removeEndListeners(),this.removeEndListeners=er(this.node.current,"keyup",o),Pd("down",(a,l)=>{this.startPress(a,l)})},n=er(this.node.current,"keydown",e),r=()=>{this.isPressing&&Pd("cancel",(s,o)=>this.cancelPress(s,o))},i=er(this.node.current,"blur",r);this.removeAccessibleListeners=$r(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Ne.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!AS()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Ne.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=nr(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=er(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=$r(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const lm=new WeakMap,Rd=new WeakMap,FN=t=>{const e=lm.get(t.target);e&&e(t)},ON=t=>{t.forEach(FN)};function jN({root:t,...e}){const n=t||document;Rd.has(n)||Rd.set(n,{});const r=Rd.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(ON,{root:t,...e})),r[i]}function BN(t,e,n){const r=jN(e);return lm.set(t,n),r.observe(t),()=>{lm.delete(t),r.unobserve(t)}}const UN={some:0,all:1};class zN extends ii{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:UN[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:h,onViewportLeave:d}=this.node.getProps(),m=c?h:d;m&&m(l)};return BN(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some($N(e,n))&&this.startObserver()}unmount(){}}function $N({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const KN={inView:{Feature:zN},tap:{Feature:LN},focus:{Feature:MN},hover:{Feature:NN}};function RS(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function qN(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function GN(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function Ph(t,e,n){const r=t.getProps();return fg(r,e,n!==void 0?n:r.custom,qN(t),GN(t))}let mg=Qe;const Ni=t=>t*1e3,rr=t=>t/1e3,WN={current:!1},CS=t=>Array.isArray(t)&&typeof t[0]=="number";function VS(t){return!!(!t||typeof t=="string"&&kS[t]||CS(t)||Array.isArray(t)&&t.every(VS))}const ca=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,kS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ca([0,.65,.55,1]),circOut:ca([.55,0,1,.45]),backIn:ca([.31,.01,.66,-.59]),backOut:ca([.33,1.53,.69,.99])};function DS(t){if(t)return CS(t)?ca(t):Array.isArray(t)?t.map(DS):kS[t]}function HN(t,e,n,{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const c={[e]:n};l&&(c.offset=l);const h=DS(a);return Array.isArray(h)&&(c.easing=h),t.animate(c,{delay:r,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function QN(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const bS=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,YN=1e-7,XN=12;function JN(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=bS(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>YN&&++a<XN);return o}function Al(t,e,n,r){if(t===e&&n===r)return Qe;const i=s=>JN(s,0,1,t,n);return s=>s===0||s===1?s:bS(i(s),e,r)}const ZN=Al(.42,0,1,1),eM=Al(0,0,.58,1),NS=Al(.42,0,.58,1),tM=t=>Array.isArray(t)&&typeof t[0]!="number",MS=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,LS=t=>e=>1-t(1-e),pg=t=>1-Math.sin(Math.acos(t)),FS=LS(pg),nM=MS(pg),OS=Al(.33,1.53,.69,.99),gg=LS(OS),rM=MS(gg),iM=t=>(t*=2)<1?.5*gg(t):.5*(2-Math.pow(2,-10*(t-1))),sM={linear:Qe,easeIn:ZN,easeInOut:NS,easeOut:eM,circIn:pg,circInOut:nM,circOut:FS,backIn:gg,backInOut:rM,backOut:OS,anticipate:iM},c0=t=>{if(Array.isArray(t)){mg(t.length===4);const[e,n,r,i]=t;return Al(e,n,r,i)}else if(typeof t=="string")return sM[t];return t},yg=(t,e)=>n=>!!(Il(n)&&oN.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),jS=(t,e,n)=>r=>{if(!Il(r))return r;const[i,s,o,a]=r.match(Sh);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},oM=t=>Qr(0,255,t),Cd={...ts,transform:t=>Math.round(oM(t))},Ri={test:yg("rgb","red"),parse:jS("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Cd.transform(t)+", "+Cd.transform(e)+", "+Cd.transform(n)+", "+Aa(Sa.transform(r))+")"};function aM(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const um={test:yg("#"),parse:aM,transform:Ri.transform},Fs={test:yg("hsl","hue"),parse:jS("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+$n.transform(Aa(e))+", "+$n.transform(Aa(n))+", "+Aa(Sa.transform(r))+")"},kt={test:t=>Ri.test(t)||um.test(t)||Fs.test(t),parse:t=>Ri.test(t)?Ri.parse(t):Fs.test(t)?Fs.parse(t):um.parse(t),transform:t=>Il(t)?t:t.hasOwnProperty("red")?Ri.transform(t):Fs.transform(t)},Ue=(t,e,n)=>-n*t+n*e+t;function Vd(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function lM({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=Vd(l,a,t+1/3),s=Vd(l,a,t),o=Vd(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const kd=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},uM=[um,Ri,Fs],cM=t=>uM.find(e=>e.test(t));function h0(t){const e=cM(t);let n=e.parse(t);return e===Fs&&(n=lM(n)),n}const BS=(t,e)=>{const n=h0(t),r=h0(e),i={...n};return s=>(i.red=kd(n.red,r.red,s),i.green=kd(n.green,r.green,s),i.blue=kd(n.blue,r.blue,s),i.alpha=Ue(n.alpha,r.alpha,s),Ri.transform(i))};function hM(t){var e,n;return isNaN(t)&&Il(t)&&(((e=t.match(Sh))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(fS))===null||n===void 0?void 0:n.length)||0)>0}const US={regex:iN,countKey:"Vars",token:"${v}",parse:Qe},zS={regex:fS,countKey:"Colors",token:"${c}",parse:kt.parse},$S={regex:Sh,countKey:"Numbers",token:"${n}",parse:ts.parse};function Dd(t,{regex:e,countKey:n,token:r,parse:i}){const s=t.tokenised.match(e);s&&(t["num"+n]=s.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...s.map(i)))}function Dc(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Dd(n,US),Dd(n,zS),Dd(n,$S),n}function KS(t){return Dc(t).values}function qS(t){const{values:e,numColors:n,numVars:r,tokenised:i}=Dc(t),s=e.length;return o=>{let a=i;for(let l=0;l<s;l++)l<r?a=a.replace(US.token,o[l]):l<r+n?a=a.replace(zS.token,kt.transform(o[l])):a=a.replace($S.token,Aa(o[l]));return a}}const dM=t=>typeof t=="number"?0:t;function fM(t){const e=KS(t);return qS(t)(e.map(dM))}const Yr={test:hM,parse:KS,createTransformer:qS,getAnimatableNone:fM},GS=(t,e)=>n=>`${n>0?e:t}`;function WS(t,e){return typeof t=="number"?n=>Ue(t,e,n):kt.test(t)?BS(t,e):t.startsWith("var(")?GS(t,e):QS(t,e)}const HS=(t,e)=>{const n=[...t],r=n.length,i=t.map((s,o)=>WS(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}},mM=(t,e)=>{const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=WS(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}},QS=(t,e)=>{const n=Yr.createTransformer(e),r=Dc(t),i=Dc(e);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?$r(HS(r.values,i.values),n):GS(t,e)},ul=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},d0=(t,e)=>n=>Ue(t,e,n);function pM(t){return typeof t=="number"?d0:typeof t=="string"?kt.test(t)?BS:QS:Array.isArray(t)?HS:typeof t=="object"?mM:d0}function gM(t,e,n){const r=[],i=n||pM(t[0]),s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Qe:e;a=$r(l,a)}r.push(a)}return r}function YS(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(mg(s===e.length),s===1)return()=>e[0];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=gM(e,r,i),a=o.length,l=c=>{let h=0;if(a>1)for(;h<t.length-2&&!(c<t[h+1]);h++);const d=ul(t[h],t[h+1],c);return o[h](d)};return n?c=>l(Qr(t[0],t[s-1],c)):l}function yM(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=ul(0,e,r);t.push(Ue(n,1,i))}}function vM(t){const e=[0];return yM(e,t.length-1),e}function _M(t,e){return t.map(n=>n*e)}function wM(t,e){return t.map(()=>e||NS).splice(0,t.length-1)}function bc({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=tM(r)?r.map(c0):c0(r),s={done:!1,value:e[0]},o=_M(n&&n.length===e.length?n:vM(e),t),a=YS(o,e,{ease:Array.isArray(i)?i:wM(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}function XS(t,e){return e?t*(1e3/e):0}const EM=5;function JS(t,e,n){const r=Math.max(e-EM,0);return XS(n-t(r),e-r)}const bd=.001,TM=.01,xM=10,IM=.05,SM=1;function AM({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s,o=1-e;o=Qr(IM,SM,o),t=Qr(TM,xM,rr(t)),o<1?(i=c=>{const h=c*o,d=h*t,m=h-n,g=cm(c,o),E=Math.exp(-d);return bd-m/g*E},s=c=>{const d=c*o*t,m=d*n+n,g=Math.pow(o,2)*Math.pow(c,2)*t,E=Math.exp(-d),x=cm(Math.pow(c,2),o);return(-i(c)+bd>0?-1:1)*((m-g)*E)/x}):(i=c=>{const h=Math.exp(-c*t),d=(c-n)*t+1;return-bd+h*d},s=c=>{const h=Math.exp(-c*t),d=(n-c)*(t*t);return h*d});const a=5/t,l=RM(i,s,a);if(t=Ni(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const PM=12;function RM(t,e,n){let r=n;for(let i=1;i<PM;i++)r=r-t(r)/e(r);return r}function cm(t,e){return t*Math.sqrt(1-e*e)}const CM=["duration","bounce"],VM=["stiffness","damping","mass"];function f0(t,e){return e.some(n=>t[n]!==void 0)}function kM(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!f0(t,VM)&&f0(t,CM)){const n=AM(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function ZS({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:c,duration:h,velocity:d,isResolvedFromDuration:m}=kM({...r,velocity:-rr(r.velocity||0)}),g=d||0,E=l/(2*Math.sqrt(a*c)),x=s-i,R=rr(Math.sqrt(a/c)),T=Math.abs(x)<5;n||(n=T?.01:2),e||(e=T?.005:.5);let y;if(E<1){const _=cm(R,E);y=D=>{const L=Math.exp(-E*R*D);return s-L*((g+E*R*x)/_*Math.sin(_*D)+x*Math.cos(_*D))}}else if(E===1)y=_=>s-Math.exp(-R*_)*(x+(g+R*x)*_);else{const _=R*Math.sqrt(E*E-1);y=D=>{const L=Math.exp(-E*R*D),U=Math.min(_*D,300);return s-L*((g+E*R*x)*Math.sinh(U)+_*x*Math.cosh(U))/_}}return{calculatedDuration:m&&h||null,next:_=>{const D=y(_);if(m)o.done=_>=h;else{let L=g;_!==0&&(E<1?L=JS(y,_,D):L=0);const U=Math.abs(L)<=n,I=Math.abs(s-D)<=e;o.done=U&&I}return o.value=o.done?s:D,o}}}function m0({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:h}){const d=t[0],m={done:!1,value:d},g=v=>a!==void 0&&v<a||l!==void 0&&v>l,E=v=>a===void 0?l:l===void 0||Math.abs(a-v)<Math.abs(l-v)?a:l;let x=n*e;const R=d+x,T=o===void 0?R:o(R);T!==R&&(x=T-d);const y=v=>-x*Math.exp(-v/r),_=v=>T+y(v),D=v=>{const S=y(v),P=_(v);m.done=Math.abs(S)<=c,m.value=m.done?T:P};let L,U;const I=v=>{g(m.value)&&(L=v,U=ZS({keyframes:[m.value,E(m.value)],velocity:JS(_,v,m.value),damping:i,stiffness:s,restDelta:c,restSpeed:h}))};return I(0),{calculatedDuration:null,next:v=>{let S=!1;return!U&&L===void 0&&(S=!0,D(v),I(v)),L!==void 0&&v>L?U.next(v-L):(!S&&D(v),m)}}}const DM=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Ne.update(e,!0),stop:()=>cr(e),now:()=>It.isProcessing?It.timestamp:performance.now()}},p0=2e4;function g0(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<p0;)e+=n,r=t.next(e);return e>=p0?1/0:e}const bM={decay:m0,inertia:m0,tween:bc,keyframes:bc,spring:ZS};function Nc({autoplay:t=!0,delay:e=0,driver:n=DM,keyframes:r,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:c,onComplete:h,onUpdate:d,...m}){let g=1,E=!1,x,R;const T=()=>{R=new Promise(oe=>{x=oe})};T();let y;const _=bM[i]||bc;let D;_!==bc&&typeof r[0]!="number"&&(D=YS([0,100],r,{clamp:!1}),r=[0,100]);const L=_({...m,keyframes:r});let U;a==="mirror"&&(U=_({...m,keyframes:[...r].reverse(),velocity:-(m.velocity||0)}));let I="idle",v=null,S=null,P=null;L.calculatedDuration===null&&s&&(L.calculatedDuration=g0(L));const{calculatedDuration:k}=L;let V=1/0,A=1/0;k!==null&&(V=k+o,A=V*(s+1)-o);let se=0;const Te=oe=>{if(S===null)return;g>0&&(S=Math.min(S,oe)),g<0&&(S=Math.min(oe-A/g,S)),v!==null?se=v:se=Math.round(oe-S)*g;const pe=se-e*(g>=0?1:-1),Re=g>=0?pe<0:pe>A;se=Math.max(pe,0),I==="finished"&&v===null&&(se=A);let Bt=se,Pt=L;if(s){const qn=Math.min(se,A)/V;let Xt=Math.floor(qn),Ut=qn%1;!Ut&&qn>=1&&(Ut=1),Ut===1&&Xt--,Xt=Math.min(Xt,s+1),!!(Xt%2)&&(a==="reverse"?(Ut=1-Ut,o&&(Ut-=o/V)):a==="mirror"&&(Pt=U)),Bt=Qr(0,1,Ut)*V}const ht=Re?{done:!1,value:r[0]}:Pt.next(Bt);D&&(ht.value=D(ht.value));let{done:vt}=ht;!Re&&k!==null&&(vt=g>=0?se>=A:se<=0);const ns=v===null&&(I==="finished"||I==="running"&&vt);return d&&d(ht.value),ns&&G(),ht},fe=()=>{y&&y.stop(),y=void 0},xe=()=>{I="idle",fe(),x(),T(),S=P=null},G=()=>{I="finished",h&&h(),fe(),x()},ne=()=>{if(E)return;y||(y=n(Te));const oe=y.now();l&&l(),v!==null?S=oe-v:(!S||I==="finished")&&(S=oe),I==="finished"&&T(),P=S,v=null,I="running",y.start()};t&&ne();const ae={then(oe,pe){return R.then(oe,pe)},get time(){return rr(se)},set time(oe){oe=Ni(oe),se=oe,v!==null||!y||g===0?v=oe:S=y.now()-oe/g},get duration(){const oe=L.calculatedDuration===null?g0(L):L.calculatedDuration;return rr(oe)},get speed(){return g},set speed(oe){oe===g||!y||(g=oe,ae.time=rr(se))},get state(){return I},play:ne,pause:()=>{I="paused",v=se},stop:()=>{E=!0,I!=="idle"&&(I="idle",c&&c(),xe())},cancel:()=>{P!==null&&Te(P),xe()},complete:()=>{I="finished"},sample:oe=>(S=0,Te(oe))};return ae}function NM(t){let e;return()=>(e===void 0&&(e=t()),e)}const MM=NM(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),LM=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),gu=10,FM=2e4,OM=(t,e)=>e.type==="spring"||t==="backgroundColor"||!VS(e.ease);function jM(t,e,{onUpdate:n,onComplete:r,...i}){if(!(MM()&&LM.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,a,l,c=!1;const h=()=>{l=new Promise(_=>{a=_})};h();let{keyframes:d,duration:m=300,ease:g,times:E}=i;if(OM(e,i)){const _=Nc({...i,repeat:0,delay:0});let D={done:!1,value:d[0]};const L=[];let U=0;for(;!D.done&&U<FM;)D=_.sample(U),L.push(D.value),U+=gu;E=void 0,d=L,m=U-gu,g="linear"}const x=HN(t.owner.current,e,d,{...i,duration:m,ease:g,times:E}),R=()=>{c=!1,x.cancel()},T=()=>{c=!0,Ne.update(R),a(),h()};return x.onfinish=()=>{c||(t.set(QN(d,i)),r&&r(),T())},{then(_,D){return l.then(_,D)},attachTimeline(_){return x.timeline=_,x.onfinish=null,Qe},get time(){return rr(x.currentTime||0)},set time(_){x.currentTime=Ni(_)},get speed(){return x.playbackRate},set speed(_){x.playbackRate=_},get duration(){return rr(m)},play:()=>{o||(x.play(),cr(R))},pause:()=>x.pause(),stop:()=>{if(o=!0,x.playState==="idle")return;const{currentTime:_}=x;if(_){const D=Nc({...i,autoplay:!1});t.setWithVelocity(D.sample(_-gu).value,D.sample(_).value,gu)}T()},complete:()=>{c||x.finish()},cancel:T}}function BM({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const i=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Qe,pause:Qe,stop:Qe,then:s=>(s(),Promise.resolve()),cancel:Qe,complete:Qe});return e?Nc({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const UM={type:"spring",stiffness:500,damping:25,restSpeed:10},zM=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),$M={type:"keyframes",duration:.8},KM={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},qM=(t,{keyframes:e})=>e.length>2?$M:es.has(t)?t.startsWith("scale")?zM(e[1]):UM:KM,hm=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Yr.test(e)||e==="0")&&!e.startsWith("url(")),GM=new Set(["brightness","contrast","saturate","opacity"]);function WM(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Sh)||[];if(!r)return t;const i=n.replace(r,"");let s=GM.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const HM=/([a-z-]*)\(.*?\)/g,dm={...Yr,getAnimatableNone:t=>{const e=t.match(HM);return e?e.map(WM).join(" "):t}},QM={...mS,color:kt,backgroundColor:kt,outlineColor:kt,fill:kt,stroke:kt,borderColor:kt,borderTopColor:kt,borderRightColor:kt,borderBottomColor:kt,borderLeftColor:kt,filter:dm,WebkitFilter:dm},vg=t=>QM[t];function eA(t,e){let n=vg(t);return n!==dm&&(n=Yr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const tA=t=>/^0[^.\s]+$/.test(t);function YM(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||tA(t)}function XM(t,e,n,r){const i=hm(e,n);let s;Array.isArray(n)?s=[...n]:s=[null,n];const o=r.from!==void 0?r.from:t.get();let a;const l=[];for(let c=0;c<s.length;c++)s[c]===null&&(s[c]=c===0?o:s[c-1]),YM(s[c])&&l.push(c),typeof s[c]=="string"&&s[c]!=="none"&&s[c]!=="0"&&(a=s[c]);if(i&&l.length&&a)for(let c=0;c<l.length;c++){const h=l[c];s[h]=eA(e,a)}return s}function JM({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...h}){return!!Object.keys(h).length}function _g(t,e){return t[e]||t.default||t}const ZM={skipAnimations:!1},wg=(t,e,n,r={})=>i=>{const s=_g(r,t)||{},o=s.delay||r.delay||0;let{elapsed:a=0}=r;a=a-Ni(o);const l=XM(e,t,n,s),c=l[0],h=l[l.length-1],d=hm(t,c),m=hm(t,h);let g={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:E=>{e.set(E),s.onUpdate&&s.onUpdate(E)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(JM(s)||(g={...g,...qM(t,g)}),g.duration&&(g.duration=Ni(g.duration)),g.repeatDelay&&(g.repeatDelay=Ni(g.repeatDelay)),!d||!m||WN.current||s.type===!1||ZM.skipAnimations)return BM(g);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const E=jM(e,t,g);if(E)return E}return Nc(g)};function Mc(t){return!!(Yt(t)&&t.add)}const nA=t=>/^\-?\d*\.?\d+$/.test(t);function Eg(t,e){t.indexOf(e)===-1&&t.push(e)}function Tg(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class xg{constructor(){this.subscriptions=[]}add(e){return Eg(this.subscriptions,e),()=>Tg(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const eL=t=>!isNaN(parseFloat(t));class tL{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:o}=It;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,Ne.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Ne.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=eL(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new xg);const r=this.events[e].add(n);return e==="change"?()=>{r(),Ne.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?XS(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ho(t,e){return new tL(t,e)}const rA=t=>e=>e.test(t),nL={test:t=>t==="auto",parse:t=>t},iA=[ts,le,$n,vr,lN,aN,nL],Xo=t=>iA.find(rA(t)),rL=[...iA,kt,Yr],iL=t=>rL.find(rA(t));function sL(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ho(n))}function oL(t,e){const n=Ph(t,e);let{transitionEnd:r={},transition:i={},...s}=n?t.makeTargetAnimatable(n,!1):{};s={...s,...r};for(const o in s){const a=xN(s[o]);sL(t,o,a)}}function aL(t,e,n){var r,i;const s=Object.keys(e).filter(a=>!t.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],c=e[l];let h=null;Array.isArray(c)&&(h=c[0]),h===null&&(h=(i=(r=n[l])!==null&&r!==void 0?r:t.readValue(l))!==null&&i!==void 0?i:e[l]),h!=null&&(typeof h=="string"&&(nA(h)||tA(h))?h=parseFloat(h):!iL(h)&&Yr.test(c)&&(h=eA(l,c)),t.addValue(l,ho(h,{owner:t})),n[l]===void 0&&(n[l]=h),h!==null&&t.setBaseTarget(l,h))}}function lL(t,e){return e?(e[t]||e.default||e).from:void 0}function uL(t,e,n){const r={};for(const i in t){const s=lL(i,e);if(s!==void 0)r[i]=s;else{const o=n.getValue(i);o&&(r[i]=o.get())}}return r}function cL({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function hL(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function sA(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");r&&(s=r);const c=[],h=i&&t.animationState&&t.animationState.getState()[i];for(const d in a){const m=t.getValue(d),g=a[d];if(!m||g===void 0||h&&cL(h,d))continue;const E={delay:n,elapsed:0,..._g(s||{},d)};if(window.HandoffAppearAnimations){const T=t.getProps()[oS];if(T){const y=window.HandoffAppearAnimations(T,d,m,Ne);y!==null&&(E.elapsed=y,E.isHandoff=!0)}}let x=!E.isHandoff&&!hL(m,g);if(E.type==="spring"&&(m.getVelocity()||E.velocity)&&(x=!1),m.animation&&(x=!1),x)continue;m.start(wg(d,m,g,t.shouldReduceMotion&&es.has(d)?{type:!1}:E));const R=m.animation;Mc(l)&&(l.add(d),R.then(()=>l.remove(d))),c.push(R)}return o&&Promise.all(c).then(()=>{o&&oL(t,o)}),c}function fm(t,e,n={}){const r=Ph(t,e,n.custom);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(sA(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:h,staggerDirection:d}=i;return dL(t,e,c+l,h,d,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,c]=a==="beforeChildren"?[s,o]:[o,s];return l().then(()=>c())}else return Promise.all([s(),o(n.delay)])}function dL(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(fL).forEach((c,h)=>{c.notify("AnimationStart",e),o.push(fm(c,e,{...s,delay:n+l(h)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function fL(t,e){return t.sortNodePosition(e)}function mL(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>fm(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=fm(t,e,n);else{const i=typeof e=="function"?Ph(t,e,n.custom):e;r=Promise.all(sA(t,i,n))}return r.then(()=>t.notify("AnimationComplete",e))}const pL=[...sg].reverse(),gL=sg.length;function yL(t){return e=>Promise.all(e.map(({animation:n,options:r})=>mL(t,n,r)))}function vL(t){let e=yL(t);const n=wL();let r=!0;const i=(l,c)=>{const h=Ph(t,c);if(h){const{transition:d,transitionEnd:m,...g}=h;l={...l,...g,...m}}return l};function s(l){e=l(t)}function o(l,c){const h=t.getProps(),d=t.getVariantContext(!0)||{},m=[],g=new Set;let E={},x=1/0;for(let T=0;T<gL;T++){const y=pL[T],_=n[y],D=h[y]!==void 0?h[y]:d[y],L=al(D),U=y===c?_.isActive:null;U===!1&&(x=T);let I=D===d[y]&&D!==h[y]&&L;if(I&&r&&t.manuallyAnimateOnMount&&(I=!1),_.protectedKeys={...E},!_.isActive&&U===null||!D&&!_.prevProp||xh(D)||typeof D=="boolean")continue;let S=_L(_.prevProp,D)||y===c&&_.isActive&&!I&&L||T>x&&L,P=!1;const k=Array.isArray(D)?D:[D];let V=k.reduce(i,{});U===!1&&(V={});const{prevResolvedValues:A={}}=_,se={...A,...V},Te=fe=>{S=!0,g.has(fe)&&(P=!0,g.delete(fe)),_.needsAnimating[fe]=!0};for(const fe in se){const xe=V[fe],G=A[fe];if(E.hasOwnProperty(fe))continue;let ne=!1;kc(xe)&&kc(G)?ne=!RS(xe,G):ne=xe!==G,ne?xe!==void 0?Te(fe):g.add(fe):xe!==void 0&&g.has(fe)?Te(fe):_.protectedKeys[fe]=!0}_.prevProp=D,_.prevResolvedValues=V,_.isActive&&(E={...E,...V}),r&&t.blockInitialAnimation&&(S=!1),S&&(!I||P)&&m.push(...k.map(fe=>({animation:fe,options:{type:y,...l}})))}if(g.size){const T={};g.forEach(y=>{const _=t.getBaseTarget(y);_!==void 0&&(T[y]=_)}),m.push({animation:T})}let R=!!m.length;return r&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(R=!1),r=!1,R?e(m):Promise.resolve()}function a(l,c,h){var d;if(n[l].isActive===c)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(g=>{var E;return(E=g.animationState)===null||E===void 0?void 0:E.setActive(l,c)}),n[l].isActive=c;const m=o(h,l);for(const g in n)n[g].protectedKeys={};return m}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n}}function _L(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!RS(e,t):!1}function fi(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function wL(){return{animate:fi(!0),whileInView:fi(),whileHover:fi(),whileTap:fi(),whileDrag:fi(),whileFocus:fi(),exit:fi()}}class EL extends ii{constructor(e){super(e),e.animationState||(e.animationState=vL(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),xh(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let TL=0;class xL extends ii{constructor(){super(...arguments),this.id=TL++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const IL={animation:{Feature:EL},exit:{Feature:xL}},y0=(t,e)=>Math.abs(t-e);function SL(t,e){const n=y0(t.x,e.x),r=y0(t.y,e.y);return Math.sqrt(n**2+r**2)}class oA{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=Md(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,g=SL(d.offset,{x:0,y:0})>=3;if(!m&&!g)return;const{point:E}=d,{timestamp:x}=It;this.history.push({...E,timestamp:x});const{onStart:R,onMove:T}=this.handlers;m||(R&&R(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),T&&T(this.lastMoveEvent,d)},this.handlePointerMove=(d,m)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=Nd(m,this.transformPagePoint),Ne.update(this.updatePoint,!0)},this.handlePointerUp=(d,m)=>{this.end();const{onEnd:g,onSessionEnd:E,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const R=Md(d.type==="pointercancel"?this.lastMoveEventInfo:Nd(m,this.transformPagePoint),this.history);this.startEvent&&g&&g(d,R),E&&E(d,R)},!xS(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=Ah(e),a=Nd(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=It;this.history=[{...l,timestamp:c}];const{onSessionStart:h}=n;h&&h(e,Md(a,this.history)),this.removeListeners=$r(nr(this.contextWindow,"pointermove",this.handlePointerMove),nr(this.contextWindow,"pointerup",this.handlePointerUp),nr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),cr(this.updatePoint)}}function Nd(t,e){return e?{point:e(t.point)}:t}function v0(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Md({point:t},e){return{point:t,delta:v0(t,aA(e)),offset:v0(t,AL(e)),velocity:PL(e,.1)}}function AL(t){return t[0]}function aA(t){return t[t.length-1]}function PL(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=aA(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Ni(e)));)n--;if(!r)return{x:0,y:0};const s=rr(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function an(t){return t.max-t.min}function mm(t,e=0,n=.01){return Math.abs(t-e)<=n}function _0(t,e,n,r=.5){t.origin=r,t.originPoint=Ue(e.min,e.max,t.origin),t.scale=an(n)/an(e),(mm(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Ue(n.min,n.max,t.origin)-t.originPoint,(mm(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Pa(t,e,n,r){_0(t.x,e.x,n.x,r?r.originX:void 0),_0(t.y,e.y,n.y,r?r.originY:void 0)}function w0(t,e,n){t.min=n.min+e.min,t.max=t.min+an(e)}function RL(t,e,n){w0(t.x,e.x,n.x),w0(t.y,e.y,n.y)}function E0(t,e,n){t.min=e.min-n.min,t.max=t.min+an(e)}function Ra(t,e,n){E0(t.x,e.x,n.x),E0(t.y,e.y,n.y)}function CL(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Ue(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Ue(n,t,r.max):Math.min(t,n)),t}function T0(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function VL(t,{top:e,left:n,bottom:r,right:i}){return{x:T0(t.x,n,i),y:T0(t.y,e,r)}}function x0(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function kL(t,e){return{x:x0(t.x,e.x),y:x0(t.y,e.y)}}function DL(t,e){let n=.5;const r=an(t),i=an(e);return i>r?n=ul(e.min,e.max-r,t.min):r>i&&(n=ul(t.min,t.max-i,e.min)),Qr(0,1,n)}function bL(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const pm=.35;function NL(t=pm){return t===!1?t=0:t===!0&&(t=pm),{x:I0(t,"left","right"),y:I0(t,"top","bottom")}}function I0(t,e,n){return{min:S0(t,e),max:S0(t,n)}}function S0(t,e){return typeof t=="number"?t:t[e]||0}const A0=()=>({translate:0,scale:1,origin:0,originPoint:0}),Os=()=>({x:A0(),y:A0()}),P0=()=>({min:0,max:0}),Ze=()=>({x:P0(),y:P0()});function hn(t){return[t("x"),t("y")]}function lA({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function ML({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function LL(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Ld(t){return t===void 0||t===1}function gm({scale:t,scaleX:e,scaleY:n}){return!Ld(t)||!Ld(e)||!Ld(n)}function vi(t){return gm(t)||uA(t)||t.z||t.rotate||t.rotateX||t.rotateY}function uA(t){return R0(t.x)||R0(t.y)}function R0(t){return t&&t!=="0%"}function Lc(t,e,n){const r=t-n,i=e*r;return n+i}function C0(t,e,n,r,i){return i!==void 0&&(t=Lc(t,i,r)),Lc(t,n,r)+e}function ym(t,e=0,n=1,r,i){t.min=C0(t.min,e,n,r,i),t.max=C0(t.max,e,n,r,i)}function cA(t,{x:e,y:n}){ym(t.x,e.translate,e.scale,e.originPoint),ym(t.y,n.translate,n.scale,n.originPoint)}function FL(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&js(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,cA(t,o)),r&&vi(s.latestValues)&&js(t,s.latestValues))}e.x=V0(e.x),e.y=V0(e.y)}function V0(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Er(t,e){t.min=t.min+e,t.max=t.max+e}function k0(t,e,[n,r,i]){const s=e[i]!==void 0?e[i]:.5,o=Ue(t.min,t.max,s);ym(t,e[n],e[r],o,e.scale)}const OL=["x","scaleX","originX"],jL=["y","scaleY","originY"];function js(t,e){k0(t.x,e,OL),k0(t.y,e,jL)}function hA(t,e){return lA(LL(t.getBoundingClientRect(),e))}function BL(t,e,n){const r=hA(t,n),{scroll:i}=e;return i&&(Er(r.x,i.offset.x),Er(r.y,i.offset.y)),r}const dA=({current:t})=>t?t.ownerDocument.defaultView:null,UL=new WeakMap;class zL{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ze(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ah(h,"page").point)},s=(h,d)=>{const{drag:m,dragPropagation:g,onDragStart:E}=this.getProps();if(m&&!g&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=SS(m),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),hn(R=>{let T=this.getAxisMotionValue(R).get()||0;if($n.test(T)){const{projection:y}=this.visualElement;if(y&&y.layout){const _=y.layout.layoutBox[R];_&&(T=an(_)*(parseFloat(T)/100))}}this.originPoint[R]=T}),E&&Ne.update(()=>E(h,d),!1,!0);const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},o=(h,d)=>{const{dragPropagation:m,dragDirectionLock:g,onDirectionLock:E,onDrag:x}=this.getProps();if(!m&&!this.openGlobalLock)return;const{offset:R}=d;if(g&&this.currentDirection===null){this.currentDirection=$L(R),this.currentDirection!==null&&E&&E(this.currentDirection);return}this.updateAxis("x",d.point,R),this.updateAxis("y",d.point,R),this.visualElement.render(),x&&x(h,d)},a=(h,d)=>this.stop(h,d),l=()=>hn(h=>{var d;return this.getAnimationState(h)==="paused"&&((d=this.getAxisMotionValue(h).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new oA(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:dA(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Ne.update(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!yu(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=CL(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&Ls(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=VL(i.layoutBox,n):this.constraints=!1,this.elastic=NL(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&hn(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=bL(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ls(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=BL(r,i.root,this.visualElement.getTransformPagePoint());let o=kL(i.layout.layoutBox,s);if(n){const a=n(ML(o));this.hasMutatedConstraints=!!a,a&&(o=lA(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=hn(h=>{if(!yu(h,n,this.currentDirection))return;let d=l&&l[h]||{};o&&(d={min:0,max:0});const m=i?200:1e6,g=i?40:1e7,E={type:"inertia",velocity:r?e[h]:0,bounceStiffness:m,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(h,E)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(wg(e,r,0,n))}stopAnimation(){hn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){hn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){hn(n=>{const{drag:r}=this.getProps();if(!yu(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-Ue(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ls(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};hn(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();i[o]=DL({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),hn(o=>{if(!yu(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Ue(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;UL.set(this.visualElement,this);const e=this.visualElement.current,n=nr(e,"pointerdown",l=>{const{drag:c,dragListener:h=!0}=this.getProps();c&&h&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Ls(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=er(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(hn(h=>{const d=this.getAxisMotionValue(h);d&&(this.originPoint[h]+=l[h].translate,d.set(d.get()+l[h].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=pm,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function yu(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function $L(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class KL extends ii{constructor(e){super(e),this.removeGroupControls=Qe,this.removeListeners=Qe,this.controls=new zL(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Qe}unmount(){this.removeGroupControls(),this.removeListeners()}}const D0=t=>(e,n)=>{t&&Ne.update(()=>t(e,n))};class qL extends ii{constructor(){super(...arguments),this.removePointerDownListener=Qe}onPointerDown(e){this.session=new oA(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:dA(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:D0(e),onStart:D0(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Ne.update(()=>i(s,o))}}}mount(){this.removePointerDownListener=nr(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function GL(){const t=B.useContext(rg);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=B.useId();return B.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}const Bu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function b0(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Jo={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(le.test(t))t=parseFloat(t);else return t;const n=b0(t,e.target.x),r=b0(t,e.target.y);return`${n}% ${r}%`}},WL={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Yr.parse(t);if(i.length>5)return r;const s=Yr.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const c=Ue(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}};class HL extends Vt.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;eN(QL),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Bu.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Ne.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function fA(t){const[e,n]=GL(),r=B.useContext(lS);return Vt.createElement(HL,{...t,layoutGroup:r,switchLayoutGroup:B.useContext(uS),isPresent:e,safeToRemove:n})}const QL={borderRadius:{...Jo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Jo,borderTopRightRadius:Jo,borderBottomLeftRadius:Jo,borderBottomRightRadius:Jo,boxShadow:WL},mA=["TopLeft","TopRight","BottomLeft","BottomRight"],YL=mA.length,N0=t=>typeof t=="string"?parseFloat(t):t,M0=t=>typeof t=="number"||le.test(t);function XL(t,e,n,r,i,s){i?(t.opacity=Ue(0,n.opacity!==void 0?n.opacity:1,JL(r)),t.opacityExit=Ue(e.opacity!==void 0?e.opacity:1,0,ZL(r))):s&&(t.opacity=Ue(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<YL;o++){const a=`border${mA[o]}Radius`;let l=L0(e,a),c=L0(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||M0(l)===M0(c)?(t[a]=Math.max(Ue(N0(l),N0(c),r),0),($n.test(c)||$n.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=Ue(e.rotate||0,n.rotate||0,r))}function L0(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const JL=pA(0,.5,FS),ZL=pA(.5,.95,Qe);function pA(t,e,n){return r=>r<t?0:r>e?1:n(ul(t,e,r))}function F0(t,e){t.min=e.min,t.max=e.max}function cn(t,e){F0(t.x,e.x),F0(t.y,e.y)}function O0(t,e,n,r,i){return t-=e,t=Lc(t,1/n,r),i!==void 0&&(t=Lc(t,1/i,r)),t}function eF(t,e=0,n=1,r=.5,i,s=t,o=t){if($n.test(e)&&(e=parseFloat(e),e=Ue(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Ue(s.min,s.max,r);t===s&&(a-=e),t.min=O0(t.min,e,n,a,i),t.max=O0(t.max,e,n,a,i)}function j0(t,e,[n,r,i],s,o){eF(t,e[n],e[r],e[i],e.scale,s,o)}const tF=["x","scaleX","originX"],nF=["y","scaleY","originY"];function B0(t,e,n,r){j0(t.x,e,tF,n?n.x:void 0,r?r.x:void 0),j0(t.y,e,nF,n?n.y:void 0,r?r.y:void 0)}function U0(t){return t.translate===0&&t.scale===1}function gA(t){return U0(t.x)&&U0(t.y)}function rF(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function yA(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function z0(t){return an(t.x)/an(t.y)}class iF{constructor(){this.members=[]}add(e){Eg(this.members,e),e.scheduleRender()}remove(e){if(Tg(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function $0(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:c,rotateY:h}=n;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),h&&(r+=`rotateY(${h}deg) `)}const o=t.x.scale*e.x,a=t.y.scale*e.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const sF=(t,e)=>t.depth-e.depth;class oF{constructor(){this.children=[],this.isDirty=!1}add(e){Eg(this.children,e),this.isDirty=!0}remove(e){Tg(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(sF),this.isDirty=!1,this.children.forEach(e)}}function aF(t,e){const n=performance.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(cr(r),t(s-e))};return Ne.read(r,!0),()=>cr(r)}function lF(t){window.MotionDebug&&window.MotionDebug.record(t)}function uF(t){return t instanceof SVGElement&&t.tagName!=="svg"}function cF(t,e,n){const r=Yt(t)?t:ho(t);return r.start(wg("",r,e,n)),r.animation}const K0=["","X","Y","Z"],hF={visibility:"hidden"},q0=1e3;let dF=0;const _i={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function vA({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=dF++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,_i.totalNodes=_i.resolvedTargetDeltas=_i.recalculatedProjection=0,this.nodes.forEach(pF),this.nodes.forEach(wF),this.nodes.forEach(EF),this.nodes.forEach(gF),lF(_i)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new oF)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new xg),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=uF(o),this.instance=o;const{layoutId:l,layout:c,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let d;const m=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=aF(m,250),Bu.hasAnimatedSinceResize&&(Bu.hasAnimatedSinceResize=!1,this.nodes.forEach(W0))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&h&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:m,hasRelativeTargetChanged:g,layout:E})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||h.getDefaultTransition()||AF,{onLayoutAnimationStart:R,onLayoutAnimationComplete:T}=h.getProps(),y=!this.targetLayout||!yA(this.targetLayout,E)||g,_=!m&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||_||m&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,_);const D={..._g(x,"layout"),onPlay:R,onComplete:T};(h.shouldReduceMotion||this.options.layoutRoot)&&(D.delay=0,D.type=!1),this.startAnimation(D)}else m||W0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=E})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,cr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(TF),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const d=this.path[h];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(G0);return}this.isUpdating||this.nodes.forEach(vF),this.isUpdating=!1,this.nodes.forEach(_F),this.nodes.forEach(fF),this.nodes.forEach(mF),this.clearAllSnapshots();const a=performance.now();It.delta=Qr(0,1e3/60,a-It.timestamp),It.timestamp=a,It.isProcessing=!0,Ad.update.process(It),Ad.preRender.process(It),Ad.render.process(It),It.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(yF),this.sharedNodes.forEach(xF)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ne.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ne.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ze(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!gA(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,h=c!==this.prevTransformTemplateValue;o&&(a||vi(this.latestValues)||h)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),PF(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Ze();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(Er(a.x,l.offset.x),Er(a.y,l.offset.y)),a}removeElementScroll(o){const a=Ze();cn(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:h,options:d}=c;if(c!==this.root&&h&&d.layoutScroll){if(h.isRoot){cn(a,o);const{scroll:m}=this.root;m&&(Er(a.x,-m.offset.x),Er(a.y,-m.offset.y))}Er(a.x,h.offset.x),Er(a.y,h.offset.y)}}return a}applyTransform(o,a=!1){const l=Ze();cn(l,o);for(let c=0;c<this.path.length;c++){const h=this.path[c];!a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&js(l,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),vi(h.latestValues)&&js(l,h.latestValues)}return vi(this.latestValues)&&js(l,this.latestValues),l}removeTransform(o){const a=Ze();cn(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!vi(c.latestValues))continue;gm(c.latestValues)&&c.updateSnapshot();const h=Ze(),d=c.measurePageBox();cn(h,d),B0(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,h)}return vi(this.latestValues)&&B0(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==It.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:d,layoutId:m}=this.options;if(!(!this.layout||!(d||m))){if(this.resolvedRelativeTargetAt=It.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ze(),this.relativeTargetOrigin=Ze(),Ra(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),cn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ze(),this.targetWithTransforms=Ze()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),RL(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):cn(this.target,this.layout.layoutBox),cA(this.target,this.targetDelta)):cn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ze(),this.relativeTargetOrigin=Ze(),Ra(this.relativeTargetOrigin,this.target,g.target),cn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}_i.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||gm(this.parent.latestValues)||uA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===It.timestamp&&(c=!1),c)return;const{layout:h,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||d))return;cn(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,g=this.treeScale.y;FL(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:E}=a;if(!E){this.projectionTransform&&(this.projectionDelta=Os(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Os(),this.projectionDeltaWithTransform=Os());const x=this.projectionTransform;Pa(this.projectionDelta,this.layoutCorrected,E,this.latestValues),this.projectionTransform=$0(this.projectionDelta,this.treeScale),(this.projectionTransform!==x||this.treeScale.x!==m||this.treeScale.y!==g)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",E)),_i.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},h={...this.latestValues},d=Os();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const m=Ze(),g=l?l.source:void 0,E=this.layout?this.layout.source:void 0,x=g!==E,R=this.getStack(),T=!R||R.members.length<=1,y=!!(x&&!T&&this.options.crossfade===!0&&!this.path.some(SF));this.animationProgress=0;let _;this.mixTargetDelta=D=>{const L=D/1e3;H0(d.x,o.x,L),H0(d.y,o.y,L),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ra(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),IF(this.relativeTarget,this.relativeTargetOrigin,m,L),_&&rF(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=Ze()),cn(_,this.relativeTarget)),x&&(this.animationValues=h,XL(h,c,this.latestValues,L,y,T)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=L},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(cr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ne.update(()=>{Bu.hasAnimatedSinceResize=!0,this.currentAnimation=cF(0,q0,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(q0),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:h}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&_A(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Ze();const d=an(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const m=an(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+m}cn(a,l),js(a,h),Pa(this.projectionDeltaWithTransform,this.layoutCorrected,a,h)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new iF),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const c={};for(let h=0;h<K0.length;h++){const d="rotate"+K0[h];l[d]&&(c[d]=l[d],o.setStaticValue(d,0))}o.render();for(const h in c)o.setStaticValue(h,c[h]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return hF;const c={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=ju(o==null?void 0:o.pointerEvents)||"",c.transform=h?h(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=ju(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!vi(this.latestValues)&&(x.transform=h?h({},""):"none",this.hasProjected=!1),x}const m=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=$0(this.projectionDeltaWithTransform,this.treeScale,m),h&&(c.transform=h(m,c.transform));const{x:g,y:E}=this.projectionDelta;c.transformOrigin=`${g.origin*100}% ${E.origin*100}% 0`,d.animationValues?c.opacity=d===this?(l=(a=m.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:c.opacity=d===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const x in Cc){if(m[x]===void 0)continue;const{correct:R,applyTo:T}=Cc[x],y=c.transform==="none"?m[x]:R(m[x],d);if(T){const _=T.length;for(let D=0;D<_;D++)c[T[D]]=y}else c[x]=y}return this.options.layoutId&&(c.pointerEvents=d===this?ju(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(G0),this.root.sharedNodes.clear()}}}function fF(t){t.updateLayout()}function mF(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?hn(d=>{const m=o?n.measuredBox[d]:n.layoutBox[d],g=an(m);m.min=r[d].min,m.max=m.min+g}):_A(s,n.layoutBox,r)&&hn(d=>{const m=o?n.measuredBox[d]:n.layoutBox[d],g=an(r[d]);m.max=m.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+g)});const a=Os();Pa(a,r,n.layoutBox);const l=Os();o?Pa(l,t.applyTransform(i,!0),n.measuredBox):Pa(l,r,n.layoutBox);const c=!gA(a);let h=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:m,layout:g}=d;if(m&&g){const E=Ze();Ra(E,n.layoutBox,m.layoutBox);const x=Ze();Ra(x,r,g.layoutBox),yA(E,x)||(h=!0),d.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=E,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function pF(t){_i.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function gF(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function yF(t){t.clearSnapshot()}function G0(t){t.clearMeasurements()}function vF(t){t.isLayoutDirty=!1}function _F(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function W0(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function wF(t){t.resolveTargetDelta()}function EF(t){t.calcProjection()}function TF(t){t.resetRotation()}function xF(t){t.removeLeadSnapshot()}function H0(t,e,n){t.translate=Ue(e.translate,0,n),t.scale=Ue(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Q0(t,e,n,r){t.min=Ue(e.min,n.min,r),t.max=Ue(e.max,n.max,r)}function IF(t,e,n,r){Q0(t.x,e.x,n.x,r),Q0(t.y,e.y,n.y,r)}function SF(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const AF={duration:.45,ease:[.4,0,.1,1]},Y0=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),X0=Y0("applewebkit/")&&!Y0("chrome/")?Math.round:Qe;function J0(t){t.min=X0(t.min),t.max=X0(t.max)}function PF(t){J0(t.x),J0(t.y)}function _A(t,e,n){return t==="position"||t==="preserve-aspect"&&!mm(z0(e),z0(n),.2)}const RF=vA({attachResizeListener:(t,e)=>er(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Fd={current:void 0},wA=vA({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Fd.current){const t=new RF({});t.mount(window),t.setOptions({layoutScroll:!0}),Fd.current=t}return Fd.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),CF={pan:{Feature:qL},drag:{Feature:KL,ProjectionNode:wA,MeasureLayout:fA}},VF=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function kF(t){const e=VF.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function vm(t,e,n=1){const[r,i]=kF(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return nA(o)?parseFloat(o):o}else return am(i)?vm(i,e,n+1):i}function DF(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(i=>{const s=i.get();if(!am(s))return;const o=vm(s,r);o&&i.set(o)});for(const i in e){const s=e[i];if(!am(s))continue;const o=vm(s,r);o&&(e[i]=o,n||(n={}),n[i]===void 0&&(n[i]=s))}return{target:e,transitionEnd:n}}const bF=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),EA=t=>bF.has(t),NF=t=>Object.keys(t).some(EA),Z0=t=>t===ts||t===le,ew=(t,e)=>parseFloat(t.split(", ")[e]),tw=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return ew(i[1],e);{const s=r.match(/^matrix\((.+)\)$/);return s?ew(s[1],t):0}},MF=new Set(["x","y","z"]),LF=xl.filter(t=>!MF.has(t));function FF(t){const e=[];return LF.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const fo={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:tw(4,13),y:tw(5,14)};fo.translateX=fo.x;fo.translateY=fo.y;const OF=(t,e,n)=>{const r=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(c=>{a[c]=fo[c](r,s)}),e.render();const l=e.measureViewportBox();return n.forEach(c=>{const h=e.getValue(c);h&&h.jump(a[c]),t[c]=fo[c](l,s)}),t},jF=(t,e,n={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(EA);let s=[],o=!1;const a=[];if(i.forEach(l=>{const c=t.getValue(l);if(!t.hasValue(l))return;let h=n[l],d=Xo(h);const m=e[l];let g;if(kc(m)){const E=m.length,x=m[0]===null?1:0;h=m[x],d=Xo(h);for(let R=x;R<E&&m[R]!==null;R++)g?mg(Xo(m[R])===g):g=Xo(m[R])}else g=Xo(m);if(d!==g)if(Z0(d)&&Z0(g)){const E=c.get();typeof E=="string"&&c.set(parseFloat(E)),typeof m=="string"?e[l]=parseFloat(m):Array.isArray(m)&&g===le&&(e[l]=m.map(parseFloat))}else d!=null&&d.transform&&(g!=null&&g.transform)&&(h===0||m===0)?h===0?c.set(g.transform(h)):e[l]=d.transform(m):(o||(s=FF(t),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],c.jump(m))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=OF(e,t,a);return s.length&&s.forEach(([h,d])=>{t.getValue(h).set(d)}),t.render(),Th&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:e,transitionEnd:r}};function BF(t,e,n,r){return NF(e)?jF(t,e,n,r):{target:e,transitionEnd:r}}const UF=(t,e,n,r)=>{const i=DF(t,e,r);return e=i.target,r=i.transitionEnd,BF(t,e,n,r)},_m={current:null},TA={current:!1};function zF(){if(TA.current=!0,!!Th)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>_m.current=t.matches;t.addListener(e),e()}else _m.current=!1}function $F(t,e,n){const{willChange:r}=e;for(const i in e){const s=e[i],o=n[i];if(Yt(s))t.addValue(i,s),Mc(r)&&r.add(i);else if(Yt(o))t.addValue(i,ho(s,{owner:t})),Mc(r)&&r.remove(i);else if(o!==s)if(t.hasValue(i)){const a=t.getValue(i);!a.hasAnimated&&a.set(s)}else{const a=t.getStaticValue(i);t.addValue(i,ho(a!==void 0?a:s,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const nw=new WeakMap,xA=Object.keys(ll),KF=xA.length,rw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],qF=og.length;class GF{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Ne.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=Ih(n),this.isVariantNode=aS(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...h}=this.scrapeMotionValuesFromProps(n,{});for(const d in h){const m=h[d];a[d]!==void 0&&Yt(m)&&(m.set(a[d],!1),Mc(c)&&c.add(d))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,nw.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),TA.current||zF(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:_m.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){nw.delete(this.current),this.projection&&this.projection.unmount(),cr(this.notifyUpdate),cr(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=es.has(e),i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Ne.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,i,s){let o,a;for(let l=0;l<KF;l++){const c=xA[l],{isEnabled:h,Feature:d,ProjectionNode:m,MeasureLayout:g}=ll[c];m&&(o=m),h(n)&&(!this.features[c]&&d&&(this.features[c]=new d(this)),g&&(a=g))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:h,dragConstraints:d,layoutScroll:m,layoutRoot:g}=n;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!h||d&&Ls(d),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:s,layoutScroll:m,layoutRoot:g})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ze()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<rw.length;r++){const i=rw[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=$F(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<qF;r++){const i=og[r],s=this.props[i];(al(s)||s===!1)&&(n[i]=s)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=ho(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=fg(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Yt(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new xg),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class IA extends GF{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:i},s){let o=uL(r,e||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),o&&(o=i(o))),s){aL(this,r,o);const a=UF(this,r,o,n);n=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:n,...r}}}function WF(t){return window.getComputedStyle(t)}class HF extends IA{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(es.has(n)){const r=vg(n);return r&&r.default||0}else{const r=WF(e),i=(dS(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return hA(e,n)}build(e,n,r,i){lg(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,n){return dg(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Yt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,i){vS(e,n,r,i)}}class QF extends IA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(es.has(n)){const r=vg(n);return r&&r.default||0}return n=_S.has(n)?n:ig(n),e.getAttribute(n)}measureInstanceViewportBox(){return Ze()}scrapeMotionValuesFromProps(e,n){return ES(e,n)}build(e,n,r,i){cg(e,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,r,i){wS(e,n,r,i)}mount(e){this.isSVGTag=hg(e.tagName),super.mount(e)}}const YF=(t,e)=>ag(t)?new QF(e,{enableHardwareAcceleration:!1}):new HF(e,{enableHardwareAcceleration:!0}),XF={layout:{ProjectionNode:wA,MeasureLayout:fA}},JF={...IL,...KN,...CF,...XF},iw=J2((t,e)=>kN(t,e,JF,YF)),ZF={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},eO={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},tO=()=>{var l;const[t,e]=B.useState([]),[n,r]=B.useState(!0),[i,s]=B.useState(null);if(B.useEffect(()=>{(async()=>{try{r(!0),s(null);const h=await j2();e(h)}catch(h){console.error("Error loading posts:",h),h instanceof Error&&h.message.includes("Firebase")?s("Unable to connect to Firebase. Please check your configuration."):s("Failed to fetch blog posts. Please try again later.")}finally{r(!1)}})()},[]),n)return N.jsx("div",{className:"flex justify-center items-center min-h-[60vh]",children:N.jsx(UT,{})});if(i)return N.jsx("div",{className:"min-h-[60vh] flex flex-col items-center justify-center text-center px-4",children:N.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-lg p-4 sm:p-6 max-w-md w-full mx-4",children:[N.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-red-800 dark:text-red-200 mb-2",children:"Connection Error"}),N.jsx("p",{className:"text-sm sm:text-base text-red-600 dark:text-red-300 mb-4",children:i}),N.jsx("p",{className:"text-xs sm:text-sm text-red-500 dark:text-red-400",children:"Please make sure your Firebase configuration is correct in the .env file."})]})});if(!t.length)return N.jsx("div",{className:"min-h-[60vh] flex flex-col items-center justify-center text-center px-4",children:N.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 rounded-lg p-4 sm:p-6 max-w-md w-full mx-4",children:[N.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-yellow-800 dark:text-yellow-200 mb-2",children:"No Posts Found"}),N.jsx("p",{className:"text-sm sm:text-base text-yellow-600 dark:text-yellow-300",children:"There are no blog posts to display yet."})]})});const[o,...a]=t;return N.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[N.jsxs(Pi,{to:`/post/${o.id}`,className:"block group relative h-[60vh] sm:h-[calc(100vh-12rem)] max-h-[500px] rounded-xl sm:rounded-2xl overflow-hidden mb-6 sm:mb-8",children:[N.jsxs("div",{className:"absolute inset-0",children:[N.jsx("img",{src:o.imageUrl,alt:o.title,className:"w-full h-full object-cover group-hover:scale-105 group-hover:brightness-110 transition-all duration-500"}),N.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/30 to-transparent"})]}),N.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 sm:p-6 md:p-8 text-white",children:[N.jsx("span",{className:"inline-block px-3 py-1 bg-primary/90 text-white text-xs sm:text-sm font-medium rounded-full mb-3",children:o.category}),N.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold mb-3 line-clamp-2",children:o.title}),N.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm opacity-90",children:[((l=o.author)==null?void 0:l.name)&&N.jsxs("div",{className:"flex items-center",children:[N.jsx("div",{className:"w-6 sm:w-8 h-6 sm:h-8 rounded-full bg-white/10 mr-2 flex items-center justify-center text-white",children:o.author.name[0].toUpperCase()}),N.jsx("span",{className:"text-xs sm:text-sm",children:o.author.name})]}),N.jsx("time",{className:"text-xs sm:text-sm",children:o.createdAt.toLocaleDateString()}),N.jsxs("div",{className:"flex items-center text-xs sm:text-sm",children:[N.jsx(vp,{className:"w-3 sm:w-4 h-3 sm:h-4 mr-1"}),o.readTime]})]})]})]}),N.jsx(iw.div,{variants:ZF,initial:"hidden",animate:"visible",className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 lg:gap-8",children:a.map(c=>N.jsx(iw.div,{variants:eO,children:N.jsx(bC,{...c})},c.id))})]})},nO=()=>N.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[N.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-gray-900 dark:text-white mb-6",children:"About The Listening Home"}),N.jsxs("div",{className:"prose dark:prose-invert max-w-none",children:[N.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 mb-6",children:"Welcome to The Listening Home, a space dedicated to exploring the world of music, sound, and audio technology. Our mission is to create a community where enthusiasts, professionals, and curious minds can come together to share knowledge, experiences, and discoveries in the realm of audio."}),N.jsx("h2",{className:"text-2xl font-semibold text-gray-800 dark:text-gray-100 mt-8 mb-4",children:"Our Vision"}),N.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:"We believe that great sound has the power to transform experiences and bring people together. Whether you're a music producer, an audiophile, or someone who simply appreciates good sound, The Listening Home is your destination for in-depth articles, reviews, and discussions about all things audio."}),N.jsx("h2",{className:"text-2xl font-semibold text-gray-800 dark:text-gray-100 mt-8 mb-4",children:"What We Cover"}),N.jsxs("ul",{className:"list-disc list-inside text-gray-600 dark:text-gray-300 mb-6",children:[N.jsx("li",{children:"Audio Equipment Reviews"}),N.jsx("li",{children:"Music Production Tips"}),N.jsx("li",{children:"Sound Engineering Insights"}),N.jsx("li",{children:"Industry News and Trends"}),N.jsx("li",{children:"Artist Interviews and Features"}),N.jsx("li",{children:"Home Audio Setup Guides"})]}),N.jsx("h2",{className:"text-2xl font-semibold text-gray-800 dark:text-gray-100 mt-8 mb-4",children:"Join Our Community"}),N.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:"The Listening Home is more than just a blog—it's a community. We encourage our readers to engage with our content, share their experiences, and connect with fellow audio enthusiasts. Follow us on social media and subscribe to our newsletter to stay updated with the latest posts and discussions."}),N.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-6 mt-8",children:[N.jsx("h3",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100 mb-4",children:"Contact Us"}),N.jsxs("p",{className:"text-gray-600 dark:text-gray-300",children:["Have questions, suggestions, or want to contribute? We'd love to hear from you! Reach out to us at ",N.jsx("a",{href:"mailto:contact@thelisteninghome.com",className:"text-primary hover:text-primary-dark dark:hover:text-primary-light",children:"contact@thelisteninghome.com"})]})]})]})]}),rO=()=>{var l;const{id:t}=sC(),e=yp(),[n,r]=B.useState(null),[i,s]=B.useState(!0),[o,a]=B.useState(null);return B.useEffect(()=>{(async()=>{if(!t){e("/404");return}try{s(!0),a(null);const h=await B2(t);if(!h){e("/404");return}r(h)}catch(h){console.error("Error loading post:",h),a("Failed to load the blog post. Please try again later.")}finally{s(!1)}})()},[t,e]),i?N.jsx("div",{className:"flex justify-center items-center min-h-[60vh]",children:N.jsx(UT,{})}):o||!n?N.jsx("div",{className:"min-h-[60vh] flex flex-col items-center justify-center text-center px-4",children:N.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-lg p-4 sm:p-6 max-w-md w-full mx-4",children:[N.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-red-800 dark:text-red-200 mb-2",children:"Error Loading Post"}),N.jsx("p",{className:"text-sm sm:text-base text-red-600 dark:text-red-300",children:o||"Post not found."})]})}):N.jsxs("article",{className:"max-w-4xl mx-auto px-4",children:[N.jsxs("header",{className:"mb-8",children:[N.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[N.jsx("span",{className:"inline-block px-3 py-1 bg-primary/10 text-primary dark:bg-primary/20 dark:text-primary-light text-sm font-medium rounded-full",children:n.category}),N.jsxs("div",{className:"flex items-center text-sm text-gray-500 dark:text-gray-400",children:[N.jsx(vp,{className:"w-4 h-4 mr-1"}),n.readTime]})]}),N.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-gray-900 dark:text-white mb-4",children:n.title}),N.jsx("div",{className:"flex items-center justify-between",children:((l=n.author)==null?void 0:l.name)&&N.jsxs("div",{className:"flex items-center",children:[N.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 dark:bg-gray-700 mr-3 flex items-center justify-center text-gray-600 dark:text-gray-300 text-lg font-medium",children:n.author.name[0].toUpperCase()}),N.jsxs("div",{children:[N.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:n.author.name}),N.jsx("time",{className:"text-sm text-gray-500 dark:text-gray-400",children:n.createdAt.toLocaleDateString()})]})]})})]}),N.jsx("div",{className:"aspect-w-16 aspect-h-9 mb-8 rounded-xl overflow-hidden",children:N.jsx("img",{src:n.imageUrl,alt:n.title,className:"w-full h-full object-cover"})}),N.jsx("div",{className:"prose dark:prose-invert max-w-none",children:n.content})]})};var Pl=t=>t.type==="checkbox",Ci=t=>t instanceof Date,bt=t=>t==null;const SA=t=>typeof t=="object";var Ye=t=>!bt(t)&&!Array.isArray(t)&&SA(t)&&!Ci(t),iO=t=>Ye(t)&&t.target?Pl(t.target)?t.target.checked:t.target.value:t,sO=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,oO=(t,e)=>t.has(sO(e)),aO=t=>{const e=t.constructor&&t.constructor.prototype;return Ye(e)&&e.hasOwnProperty("isPrototypeOf")},Ig=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function at(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(Ig&&(t instanceof Blob||r))&&(n||Ye(t)))if(e=n?[]:{},!n&&!aO(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=at(t[i]));else return t;return e}var Rh=t=>/^\w*$/.test(t),et=t=>t===void 0,Sg=t=>Array.isArray(t)?t.filter(Boolean):[],Ag=t=>Sg(t.replace(/["|']|\]/g,"").split(/\.|\[/)),ee=(t,e,n)=>{if(!e||!Ye(t))return n;const r=(Rh(e)?[e]:Ag(e)).reduce((i,s)=>bt(i)?i:i[s],t);return et(r)||r===t?et(t[e])?n:t[e]:r},Mn=t=>typeof t=="boolean",Me=(t,e,n)=>{let r=-1;const i=Rh(e)?[e]:Ag(e),s=i.length,o=s-1;for(;++r<s;){const a=i[r];let l=n;if(r!==o){const c=t[a];l=Ye(c)||Array.isArray(c)?c:isNaN(+i[r+1])?{}:[]}if(a==="__proto__"||a==="constructor"||a==="prototype")return;t[a]=l,t=t[a]}};const sw={BLUR:"blur",FOCUS_OUT:"focusout"},Pn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Hn={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},lO=Vt.createContext(null);lO.displayName="HookFormContext";var uO=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==Pn.all&&(e._proxyFormState[o]=!r||Pn.all),t[o]}});return i};const cO=typeof window<"u"?B.useLayoutEffect:B.useEffect;var jn=t=>typeof t=="string",hO=(t,e,n,r,i)=>jn(t)?(r&&e.watch.add(t),ee(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),ee(n,s))):(r&&(e.watchAll=!0),n),dO=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},Ca=t=>Array.isArray(t)?t:[t],ow=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},wm=t=>bt(t)||!SA(t);function Sr(t,e,n=new WeakSet){if(wm(t)||wm(e))return t===e;if(Ci(t)&&Ci(e))return t.getTime()===e.getTime();const r=Object.keys(t),i=Object.keys(e);if(r.length!==i.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const s of r){const o=t[s];if(!i.includes(s))return!1;if(s!=="ref"){const a=e[s];if(Ci(o)&&Ci(a)||Ye(o)&&Ye(a)||Array.isArray(o)&&Array.isArray(a)?!Sr(o,a,n):o!==a)return!1}}return!0}var zt=t=>Ye(t)&&!Object.keys(t).length,Pg=t=>t.type==="file",Rn=t=>typeof t=="function",Fc=t=>{if(!Ig)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},AA=t=>t.type==="select-multiple",Rg=t=>t.type==="radio",fO=t=>Rg(t)||Pl(t),Od=t=>Fc(t)&&t.isConnected;function mO(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=et(t)?r++:t[e[r++]];return t}function pO(t){for(const e in t)if(t.hasOwnProperty(e)&&!et(t[e]))return!1;return!0}function Xe(t,e){const n=Array.isArray(e)?e:Rh(e)?[e]:Ag(e),r=n.length===1?t:mO(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(Ye(r)&&zt(r)||Array.isArray(r)&&pO(r))&&Xe(t,n.slice(0,-1)),t}var PA=t=>{for(const e in t)if(Rn(t[e]))return!0;return!1};function Oc(t,e={}){const n=Array.isArray(t);if(Ye(t)||n)for(const r in t)Array.isArray(t[r])||Ye(t[r])&&!PA(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Oc(t[r],e[r])):bt(t[r])||(e[r]=!0);return e}function RA(t,e,n){const r=Array.isArray(t);if(Ye(t)||r)for(const i in t)Array.isArray(t[i])||Ye(t[i])&&!PA(t[i])?et(e)||wm(n[i])?n[i]=Array.isArray(t[i])?Oc(t[i],[]):{...Oc(t[i])}:RA(t[i],bt(e)?{}:e[i],n[i]):n[i]=!Sr(t[i],e[i]);return n}var Zo=(t,e)=>RA(t,e,Oc(e));const aw={value:!1,isValid:!1},lw={value:!0,isValid:!0};var CA=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!et(t[0].attributes.value)?et(t[0].value)||t[0].value===""?lw:{value:t[0].value,isValid:!0}:lw:aw}return aw},VA=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>et(t)?t:e?t===""?NaN:t&&+t:n&&jn(t)?new Date(t):r?r(t):t;const uw={isValid:!1,value:null};var kA=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,uw):uw;function cw(t){const e=t.ref;return Pg(e)?e.files:Rg(e)?kA(t.refs).value:AA(e)?[...e.selectedOptions].map(({value:n})=>n):Pl(e)?CA(t.refs).value:VA(et(e.value)?t.ref.value:e.value,t)}var gO=(t,e,n,r)=>{const i={};for(const s of t){const o=ee(e,s);o&&Me(i,s,o._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},jc=t=>t instanceof RegExp,ea=t=>et(t)?t:jc(t)?t.source:Ye(t)?jc(t.value)?t.value.source:t.value:t,hw=t=>({isOnSubmit:!t||t===Pn.onSubmit,isOnBlur:t===Pn.onBlur,isOnChange:t===Pn.onChange,isOnAll:t===Pn.all,isOnTouch:t===Pn.onTouched});const dw="AsyncFunction";var yO=t=>!!t&&!!t.validate&&!!(Rn(t.validate)&&t.validate.constructor.name===dw||Ye(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===dw)),vO=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),fw=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Va=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const s=ee(t,i);if(s){const{_f:o,...a}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(Va(a,e))break}else if(Ye(a)&&Va(a,e))break}}};function mw(t,e,n){const r=ee(t,n);if(r||Rh(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=ee(e,s),a=ee(t,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(a&&a.type)return{name:s,error:a};if(a&&a.root&&a.root.type)return{name:`${s}.root`,error:a.root};i.pop()}return{name:n}}var _O=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return zt(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!r||Pn.all))},wO=(t,e,n)=>!t||!e||t===e||Ca(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),EO=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,TO=(t,e)=>!Sg(ee(t,e)).length&&Xe(t,e),xO=(t,e,n)=>{const r=Ca(ee(t,n));return Me(r,"root",e[n]),Me(t,n,r),t},Uu=t=>jn(t);function pw(t,e,n="validate"){if(Uu(t)||Array.isArray(t)&&t.every(Uu)||Mn(t)&&!t)return{type:n,message:Uu(t)?t:"",ref:e}}var ys=t=>Ye(t)&&!jc(t)?t:{value:t,message:""},gw=async(t,e,n,r,i,s)=>{const{ref:o,refs:a,required:l,maxLength:c,minLength:h,min:d,max:m,pattern:g,validate:E,name:x,valueAsNumber:R,mount:T}=t._f,y=ee(n,x);if(!T||e.has(x))return{};const _=a?a[0]:o,D=V=>{i&&_.reportValidity&&(_.setCustomValidity(Mn(V)?"":V||""),_.reportValidity())},L={},U=Rg(o),I=Pl(o),v=U||I,S=(R||Pg(o))&&et(o.value)&&et(y)||Fc(o)&&o.value===""||y===""||Array.isArray(y)&&!y.length,P=dO.bind(null,x,r,L),k=(V,A,se,Te=Hn.maxLength,fe=Hn.minLength)=>{const xe=V?A:se;L[x]={type:V?Te:fe,message:xe,ref:o,...P(V?Te:fe,xe)}};if(s?!Array.isArray(y)||!y.length:l&&(!v&&(S||bt(y))||Mn(y)&&!y||I&&!CA(a).isValid||U&&!kA(a).isValid)){const{value:V,message:A}=Uu(l)?{value:!!l,message:l}:ys(l);if(V&&(L[x]={type:Hn.required,message:A,ref:_,...P(Hn.required,A)},!r))return D(A),L}if(!S&&(!bt(d)||!bt(m))){let V,A;const se=ys(m),Te=ys(d);if(!bt(y)&&!isNaN(y)){const fe=o.valueAsNumber||y&&+y;bt(se.value)||(V=fe>se.value),bt(Te.value)||(A=fe<Te.value)}else{const fe=o.valueAsDate||new Date(y),xe=ae=>new Date(new Date().toDateString()+" "+ae),G=o.type=="time",ne=o.type=="week";jn(se.value)&&y&&(V=G?xe(y)>xe(se.value):ne?y>se.value:fe>new Date(se.value)),jn(Te.value)&&y&&(A=G?xe(y)<xe(Te.value):ne?y<Te.value:fe<new Date(Te.value))}if((V||A)&&(k(!!V,se.message,Te.message,Hn.max,Hn.min),!r))return D(L[x].message),L}if((c||h)&&!S&&(jn(y)||s&&Array.isArray(y))){const V=ys(c),A=ys(h),se=!bt(V.value)&&y.length>+V.value,Te=!bt(A.value)&&y.length<+A.value;if((se||Te)&&(k(se,V.message,A.message),!r))return D(L[x].message),L}if(g&&!S&&jn(y)){const{value:V,message:A}=ys(g);if(jc(V)&&!y.match(V)&&(L[x]={type:Hn.pattern,message:A,ref:o,...P(Hn.pattern,A)},!r))return D(A),L}if(E){if(Rn(E)){const V=await E(y,n),A=pw(V,_);if(A&&(L[x]={...A,...P(Hn.validate,A.message)},!r))return D(A.message),L}else if(Ye(E)){let V={};for(const A in E){if(!zt(V)&&!r)break;const se=pw(await E[A](y,n),_,A);se&&(V={...se,...P(A,se.message)},D(se.message),r&&(L[x]=V))}if(!zt(V)&&(L[x]={ref:_,...V},!r))return L}}return D(!0),L};const IO={mode:Pn.onSubmit,reValidateMode:Pn.onChange,shouldFocusError:!0};function SO(t={}){let e={...IO,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Rn(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},i=Ye(e.defaultValues)||Ye(e.values)?at(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:at(i),o={action:!1,mount:!1,watch:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let d={...h};const m={array:ow(),state:ow()},g=e.criteriaMode===Pn.all,E=C=>F=>{clearTimeout(c),c=setTimeout(C,F)},x=async C=>{if(!e.disabled&&(h.isValid||d.isValid||C)){const F=e.resolver?zt((await I()).errors):await S(r,!0);F!==n.isValid&&m.state.next({isValid:F})}},R=(C,F)=>{!e.disabled&&(h.isValidating||h.validatingFields||d.isValidating||d.validatingFields)&&((C||Array.from(a.mount)).forEach(j=>{j&&(F?Me(n.validatingFields,j,F):Xe(n.validatingFields,j))}),m.state.next({validatingFields:n.validatingFields,isValidating:!zt(n.validatingFields)}))},T=(C,F=[],j,Q,H=!0,q=!0)=>{if(Q&&j&&!e.disabled){if(o.action=!0,q&&Array.isArray(ee(r,C))){const X=j(ee(r,C),Q.argA,Q.argB);H&&Me(r,C,X)}if(q&&Array.isArray(ee(n.errors,C))){const X=j(ee(n.errors,C),Q.argA,Q.argB);H&&Me(n.errors,C,X),TO(n.errors,C)}if((h.touchedFields||d.touchedFields)&&q&&Array.isArray(ee(n.touchedFields,C))){const X=j(ee(n.touchedFields,C),Q.argA,Q.argB);H&&Me(n.touchedFields,C,X)}(h.dirtyFields||d.dirtyFields)&&(n.dirtyFields=Zo(i,s)),m.state.next({name:C,isDirty:k(C,F),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Me(s,C,F)},y=(C,F)=>{Me(n.errors,C,F),m.state.next({errors:n.errors})},_=C=>{n.errors=C,m.state.next({errors:n.errors,isValid:!1})},D=(C,F,j,Q)=>{const H=ee(r,C);if(H){const q=ee(s,C,et(j)?ee(i,C):j);et(q)||Q&&Q.defaultChecked||F?Me(s,C,F?q:cw(H._f)):se(C,q),o.mount&&x()}},L=(C,F,j,Q,H)=>{let q=!1,X=!1;const ue={name:C};if(!e.disabled){if(!j||Q){(h.isDirty||d.isDirty)&&(X=n.isDirty,n.isDirty=ue.isDirty=k(),q=X!==ue.isDirty);const Ee=Sr(ee(i,C),F);X=!!ee(n.dirtyFields,C),Ee?Xe(n.dirtyFields,C):Me(n.dirtyFields,C,!0),ue.dirtyFields=n.dirtyFields,q=q||(h.dirtyFields||d.dirtyFields)&&X!==!Ee}if(j){const Ee=ee(n.touchedFields,C);Ee||(Me(n.touchedFields,C,j),ue.touchedFields=n.touchedFields,q=q||(h.touchedFields||d.touchedFields)&&Ee!==j)}q&&H&&m.state.next(ue)}return q?ue:{}},U=(C,F,j,Q)=>{const H=ee(n.errors,C),q=(h.isValid||d.isValid)&&Mn(F)&&n.isValid!==F;if(e.delayError&&j?(l=E(()=>y(C,j)),l(e.delayError)):(clearTimeout(c),l=null,j?Me(n.errors,C,j):Xe(n.errors,C)),(j?!Sr(H,j):H)||!zt(Q)||q){const X={...Q,...q&&Mn(F)?{isValid:F}:{},errors:n.errors,name:C};n={...n,...X},m.state.next(X)}},I=async C=>{R(C,!0);const F=await e.resolver(s,e.context,gO(C||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return R(C),F},v=async C=>{const{errors:F}=await I(C);if(C)for(const j of C){const Q=ee(F,j);Q?Me(n.errors,j,Q):Xe(n.errors,j)}else n.errors=F;return F},S=async(C,F,j={valid:!0})=>{for(const Q in C){const H=C[Q];if(H){const{_f:q,...X}=H;if(q){const ue=a.array.has(q.name),Ee=H._f&&yO(H._f);Ee&&h.validatingFields&&R([Q],!0);const Rt=await gw(H,a.disabled,s,g,e.shouldUseNativeValidation&&!F,ue);if(Ee&&h.validatingFields&&R([Q]),Rt[q.name]&&(j.valid=!1,F))break;!F&&(ee(Rt,q.name)?ue?xO(n.errors,Rt,q.name):Me(n.errors,q.name,Rt[q.name]):Xe(n.errors,q.name))}!zt(X)&&await S(X,F,j)}}return j.valid},P=()=>{for(const C of a.unMount){const F=ee(r,C);F&&(F._f.refs?F._f.refs.every(j=>!Od(j)):!Od(F._f.ref))&&vt(C)}a.unMount=new Set},k=(C,F)=>!e.disabled&&(C&&F&&Me(s,C,F),!Sr(ae(),i)),V=(C,F,j)=>hO(C,a,{...o.mount?s:et(F)?i:jn(C)?{[C]:F}:F},j,F),A=C=>Sg(ee(o.mount?s:i,C,e.shouldUnregister?ee(i,C,[]):[])),se=(C,F,j={})=>{const Q=ee(r,C);let H=F;if(Q){const q=Q._f;q&&(!q.disabled&&Me(s,C,VA(F,q)),H=Fc(q.ref)&&bt(F)?"":F,AA(q.ref)?[...q.ref.options].forEach(X=>X.selected=H.includes(X.value)):q.refs?Pl(q.ref)?q.refs.forEach(X=>{(!X.defaultChecked||!X.disabled)&&(Array.isArray(H)?X.checked=!!H.find(ue=>ue===X.value):X.checked=H===X.value||!!H)}):q.refs.forEach(X=>X.checked=X.value===H):Pg(q.ref)?q.ref.value="":(q.ref.value=H,q.ref.type||m.state.next({name:C,values:at(s)})))}(j.shouldDirty||j.shouldTouch)&&L(C,H,j.shouldTouch,j.shouldDirty,!0),j.shouldValidate&&ne(C)},Te=(C,F,j)=>{for(const Q in F){if(!F.hasOwnProperty(Q))return;const H=F[Q],q=C+"."+Q,X=ee(r,q);(a.array.has(C)||Ye(H)||X&&!X._f)&&!Ci(H)?Te(q,H,j):se(q,H,j)}},fe=(C,F,j={})=>{const Q=ee(r,C),H=a.array.has(C),q=at(F);Me(s,C,q),H?(m.array.next({name:C,values:at(s)}),(h.isDirty||h.dirtyFields||d.isDirty||d.dirtyFields)&&j.shouldDirty&&m.state.next({name:C,dirtyFields:Zo(i,s),isDirty:k(C,q)})):Q&&!Q._f&&!bt(q)?Te(C,q,j):se(C,q,j),fw(C,a)&&m.state.next({...n}),m.state.next({name:o.mount?C:void 0,values:at(s)})},xe=async C=>{o.mount=!0;const F=C.target;let j=F.name,Q=!0;const H=ee(r,j),q=Ee=>{Q=Number.isNaN(Ee)||Ci(Ee)&&isNaN(Ee.getTime())||Sr(Ee,ee(s,j,Ee))},X=hw(e.mode),ue=hw(e.reValidateMode);if(H){let Ee,Rt;const oi=F.type?cw(H._f):iO(C),Dn=C.type===sw.BLUR||C.type===sw.FOCUS_OUT,ai=!vO(H._f)&&!e.resolver&&!ee(n.errors,j)&&!H._f.deps||EO(Dn,ee(n.touchedFields,j),n.isSubmitted,ue,X),ss=fw(j,a,Dn);Me(s,j,oi),Dn?(H._f.onBlur&&H._f.onBlur(C),l&&l(0)):H._f.onChange&&H._f.onChange(C);const os=L(j,oi,Dn),So=!zt(os)||ss;if(!Dn&&m.state.next({name:j,type:C.type,values:at(s)}),ai)return(h.isValid||d.isValid)&&(e.mode==="onBlur"?Dn&&x():Dn||x()),So&&m.state.next({name:j,...ss?{}:os});if(!Dn&&ss&&m.state.next({...n}),e.resolver){const{errors:Cl}=await I([j]);if(q(oi),Q){const Vh=mw(n.errors,r,j),as=mw(Cl,r,Vh.name||j);Ee=as.error,j=as.name,Rt=zt(Cl)}}else R([j],!0),Ee=(await gw(H,a.disabled,s,g,e.shouldUseNativeValidation))[j],R([j]),q(oi),Q&&(Ee?Rt=!1:(h.isValid||d.isValid)&&(Rt=await S(r,!0)));Q&&(H._f.deps&&ne(H._f.deps),U(j,Rt,Ee,os))}},G=(C,F)=>{if(ee(n.errors,F)&&C.focus)return C.focus(),1},ne=async(C,F={})=>{let j,Q;const H=Ca(C);if(e.resolver){const q=await v(et(C)?C:H);j=zt(q),Q=C?!H.some(X=>ee(q,X)):j}else C?(Q=(await Promise.all(H.map(async q=>{const X=ee(r,q);return await S(X&&X._f?{[q]:X}:X)}))).every(Boolean),!(!Q&&!n.isValid)&&x()):Q=j=await S(r);return m.state.next({...!jn(C)||(h.isValid||d.isValid)&&j!==n.isValid?{}:{name:C},...e.resolver||!C?{isValid:j}:{},errors:n.errors}),F.shouldFocus&&!Q&&Va(r,G,C?H:a.mount),Q},ae=C=>{const F={...o.mount?s:i};return et(C)?F:jn(C)?ee(F,C):C.map(j=>ee(F,j))},oe=(C,F)=>({invalid:!!ee((F||n).errors,C),isDirty:!!ee((F||n).dirtyFields,C),error:ee((F||n).errors,C),isValidating:!!ee(n.validatingFields,C),isTouched:!!ee((F||n).touchedFields,C)}),pe=C=>{C&&Ca(C).forEach(F=>Xe(n.errors,F)),m.state.next({errors:C?n.errors:{}})},Re=(C,F,j)=>{const Q=(ee(r,C,{_f:{}})._f||{}).ref,H=ee(n.errors,C)||{},{ref:q,message:X,type:ue,...Ee}=H;Me(n.errors,C,{...Ee,...F,ref:Q}),m.state.next({name:C,errors:n.errors,isValid:!1}),j&&j.shouldFocus&&Q&&Q.focus&&Q.focus()},Bt=(C,F)=>Rn(C)?m.state.subscribe({next:j=>C(V(void 0,F),j)}):V(C,F,!0),Pt=C=>m.state.subscribe({next:F=>{wO(C.name,F.name,C.exact)&&_O(F,C.formState||h,Ch,C.reRenderRoot)&&C.callback({values:{...s},...n,...F})}}).unsubscribe,ht=C=>(o.mount=!0,d={...d,...C.formState},Pt({...C,formState:d})),vt=(C,F={})=>{for(const j of C?Ca(C):a.mount)a.mount.delete(j),a.array.delete(j),F.keepValue||(Xe(r,j),Xe(s,j)),!F.keepError&&Xe(n.errors,j),!F.keepDirty&&Xe(n.dirtyFields,j),!F.keepTouched&&Xe(n.touchedFields,j),!F.keepIsValidating&&Xe(n.validatingFields,j),!e.shouldUnregister&&!F.keepDefaultValue&&Xe(i,j);m.state.next({values:at(s)}),m.state.next({...n,...F.keepDirty?{isDirty:k()}:{}}),!F.keepIsValid&&x()},ns=({disabled:C,name:F})=>{(Mn(C)&&o.mount||C||a.disabled.has(F))&&(C?a.disabled.add(F):a.disabled.delete(F))},qn=(C,F={})=>{let j=ee(r,C);const Q=Mn(F.disabled)||Mn(e.disabled);return Me(r,C,{...j||{},_f:{...j&&j._f?j._f:{ref:{name:C}},name:C,mount:!0,...F}}),a.mount.add(C),j?ns({disabled:Mn(F.disabled)?F.disabled:e.disabled,name:C}):D(C,!0,F.value),{...Q?{disabled:F.disabled||e.disabled}:{},...e.progressive?{required:!!F.required,min:ea(F.min),max:ea(F.max),minLength:ea(F.minLength),maxLength:ea(F.maxLength),pattern:ea(F.pattern)}:{},name:C,onChange:xe,onBlur:xe,ref:H=>{if(H){qn(C,F),j=ee(r,C);const q=et(H.value)&&H.querySelectorAll&&H.querySelectorAll("input,select,textarea")[0]||H,X=fO(q),ue=j._f.refs||[];if(X?ue.find(Ee=>Ee===q):q===j._f.ref)return;Me(r,C,{_f:{...j._f,...X?{refs:[...ue.filter(Od),q,...Array.isArray(ee(i,C))?[{}]:[]],ref:{type:q.type,name:C}}:{ref:q}}}),D(C,!1,void 0,q)}else j=ee(r,C,{}),j._f&&(j._f.mount=!1),(e.shouldUnregister||F.shouldUnregister)&&!(oO(a.array,C)&&o.action)&&a.unMount.add(C)}}},Xt=()=>e.shouldFocusError&&Va(r,G,a.mount),Ut=C=>{Mn(C)&&(m.state.next({disabled:C}),Va(r,(F,j)=>{const Q=ee(r,j);Q&&(F.disabled=Q._f.disabled||C,Array.isArray(Q._f.refs)&&Q._f.refs.forEach(H=>{H.disabled=Q._f.disabled||C}))},0,!1))},si=(C,F)=>async j=>{let Q;j&&(j.preventDefault&&j.preventDefault(),j.persist&&j.persist());let H=at(s);if(m.state.next({isSubmitting:!0}),e.resolver){const{errors:q,values:X}=await I();n.errors=q,H=at(X)}else await S(r);if(a.disabled.size)for(const q of a.disabled)Xe(H,q);if(Xe(n.errors,"root"),zt(n.errors)){m.state.next({errors:{}});try{await C(H,j)}catch(q){Q=q}}else F&&await F({...n.errors},j),Xt(),setTimeout(Xt);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:zt(n.errors)&&!Q,submitCount:n.submitCount+1,errors:n.errors}),Q)throw Q},xo=(C,F={})=>{ee(r,C)&&(et(F.defaultValue)?fe(C,at(ee(i,C))):(fe(C,F.defaultValue),Me(i,C,at(F.defaultValue))),F.keepTouched||Xe(n.touchedFields,C),F.keepDirty||(Xe(n.dirtyFields,C),n.isDirty=F.defaultValue?k(C,at(ee(i,C))):k()),F.keepError||(Xe(n.errors,C),h.isValid&&x()),m.state.next({...n}))},rs=(C,F={})=>{const j=C?at(C):i,Q=at(j),H=zt(C),q=H?i:Q;if(F.keepDefaultValues||(i=j),!F.keepValues){if(F.keepDirtyValues){const X=new Set([...a.mount,...Object.keys(Zo(i,s))]);for(const ue of Array.from(X))ee(n.dirtyFields,ue)?Me(q,ue,ee(s,ue)):fe(ue,ee(q,ue))}else{if(Ig&&et(C))for(const X of a.mount){const ue=ee(r,X);if(ue&&ue._f){const Ee=Array.isArray(ue._f.refs)?ue._f.refs[0]:ue._f.ref;if(Fc(Ee)){const Rt=Ee.closest("form");if(Rt){Rt.reset();break}}}}if(F.keepFieldsRef)for(const X of a.mount)fe(X,ee(q,X));else r={}}s=e.shouldUnregister?F.keepDefaultValues?at(i):{}:at(q),m.array.next({values:{...q}}),m.state.next({values:{...q}})}a={mount:F.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!h.isValid||!!F.keepIsValid||!!F.keepDirtyValues,o.watch=!!e.shouldUnregister,m.state.next({submitCount:F.keepSubmitCount?n.submitCount:0,isDirty:H?!1:F.keepDirty?n.isDirty:!!(F.keepDefaultValues&&!Sr(C,i)),isSubmitted:F.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:H?{}:F.keepDirtyValues?F.keepDefaultValues&&s?Zo(i,s):n.dirtyFields:F.keepDefaultValues&&C?Zo(i,C):F.keepDirty?n.dirtyFields:{},touchedFields:F.keepTouched?n.touchedFields:{},errors:F.keepErrors?n.errors:{},isSubmitSuccessful:F.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},is=(C,F)=>rs(Rn(C)?C(s):C,F),Rl=(C,F={})=>{const j=ee(r,C),Q=j&&j._f;if(Q){const H=Q.refs?Q.refs[0]:Q.ref;H.focus&&(H.focus(),F.shouldSelect&&Rn(H.select)&&H.select())}},Ch=C=>{n={...n,...C}},Io={control:{register:qn,unregister:vt,getFieldState:oe,handleSubmit:si,setError:Re,_subscribe:Pt,_runSchema:I,_focusError:Xt,_getWatch:V,_getDirty:k,_setValid:x,_setFieldArray:T,_setDisabledField:ns,_setErrors:_,_getFieldArray:A,_reset:rs,_resetDefaultValues:()=>Rn(e.defaultValues)&&e.defaultValues().then(C=>{is(C,e.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:P,_disableForm:Ut,_subjects:m,_proxyFormState:h,get _fields(){return r},get _formValues(){return s},get _state(){return o},set _state(C){o=C},get _defaultValues(){return i},get _names(){return a},set _names(C){a=C},get _formState(){return n},get _options(){return e},set _options(C){e={...e,...C}}},subscribe:ht,trigger:ne,register:qn,handleSubmit:si,watch:Bt,setValue:fe,getValues:ae,reset:is,resetField:xo,clearErrors:pe,unregister:vt,setError:Re,setFocus:Rl,getFieldState:oe};return{...Io,formControl:Io}}function AO(t={}){const e=Vt.useRef(void 0),n=Vt.useRef(void 0),[r,i]=Vt.useState({isDirty:!1,isValidating:!1,isLoading:Rn(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Rn(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:r},t.defaultValues&&!Rn(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:o,...a}=SO(t);e.current={...a,formState:r}}const s=e.current.control;return s._options=t,cO(()=>{const o=s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0});return i(a=>({...a,isReady:!0})),s._formState.isReady=!0,o},[s]),Vt.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),Vt.useEffect(()=>{t.mode&&(s._options.mode=t.mode),t.reValidateMode&&(s._options.reValidateMode=t.reValidateMode)},[s,t.mode,t.reValidateMode]),Vt.useEffect(()=>{t.errors&&(s._setErrors(t.errors),s._focusError())},[s,t.errors]),Vt.useEffect(()=>{t.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,t.shouldUnregister]),Vt.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==r.isDirty&&s._subjects.state.next({isDirty:o})}},[s,r.isDirty]),Vt.useEffect(()=>{t.values&&!Sr(t.values,n.current)?(s._reset(t.values,{keepFieldsRef:!0,...s._options.resetOptions}),n.current=t.values,i(o=>({...o}))):s._resetDefaultValues()},[s,t.values]),Vt.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),e.current.formState=uO(r,s),e.current}const PO=()=>{var c;const t=yp(),[e,n]=B.useState(!1),[r,i]=B.useState(null),{register:s,handleSubmit:o,formState:{errors:a}}=AO(),l=async h=>{try{n(!0),i(null);const d=await U2({...h,createdAt:new Date,readTime:"5 min read"});t(`/post/${d}`)}catch(d){console.error("Error creating post:",d),i("Failed to create the post. Please try again later.")}finally{n(!1)}};return N.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[N.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-8",children:"Create New Post"}),r&&N.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-lg p-4 mb-6",children:N.jsx("p",{className:"text-sm text-red-600 dark:text-red-300",children:r})}),N.jsxs("form",{onSubmit:o(l),className:"space-y-6",children:[N.jsxs("div",{children:[N.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Title"}),N.jsx("input",{type:"text",id:"title",...s("title",{required:"Title is required"}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring-primary sm:text-sm dark:bg-gray-800 dark:border-gray-700 dark:text-white"}),a.title&&N.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:a.title.message})]}),N.jsxs("div",{children:[N.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Category"}),N.jsx("input",{type:"text",id:"category",...s("category",{required:"Category is required"}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring-primary sm:text-sm dark:bg-gray-800 dark:border-gray-700 dark:text-white"}),a.category&&N.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:a.category.message})]}),N.jsxs("div",{children:[N.jsx("label",{htmlFor:"imageUrl",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Image URL"}),N.jsx("input",{type:"url",id:"imageUrl",...s("imageUrl",{required:"Image URL is required"}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring-primary sm:text-sm dark:bg-gray-800 dark:border-gray-700 dark:text-white"}),a.imageUrl&&N.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:a.imageUrl.message})]}),N.jsxs("div",{children:[N.jsx("label",{htmlFor:"authorName",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Author Name"}),N.jsx("input",{type:"text",id:"authorName",...s("author.name",{required:"Author name is required"}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring-primary sm:text-sm dark:bg-gray-800 dark:border-gray-700 dark:text-white"}),((c=a.author)==null?void 0:c.name)&&N.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:a.author.name.message})]}),N.jsxs("div",{children:[N.jsx("label",{htmlFor:"content",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Content"}),N.jsx("textarea",{id:"content",rows:10,...s("content",{required:"Content is required"}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring-primary sm:text-sm dark:bg-gray-800 dark:border-gray-700 dark:text-white"}),a.content&&N.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:a.content.message})]}),N.jsx("div",{className:"flex justify-end",children:N.jsx("button",{type:"submit",disabled:e,className:"inline-flex items-center px-4 py-2 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-primary hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary disabled:opacity-50 disabled:cursor-not-allowed",children:e?"Creating...":"Create Post"})})]})]})},RO=()=>N.jsxs("div",{className:"min-h-[60vh] flex flex-col items-center justify-center text-center px-4",children:[N.jsx("h1",{className:"text-4xl sm:text-5xl font-bold text-gray-900 dark:text-white mb-4",children:"404"}),N.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-gray-700 dark:text-gray-300 mb-6",children:"Page Not Found"}),N.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-8 max-w-md",children:"The page you're looking for doesn't exist or has been moved."}),N.jsx(Pi,{to:"/",className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-primary hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary",children:"Go Home"})]}),CO=({className:t="h-8 w-auto"})=>N.jsx("img",{src:"/logo.png",alt:"The Listening Home",className:t}),VO=({children:t})=>N.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[N.jsx("header",{className:"bg-white dark:bg-gray-800 shadow-sm",children:N.jsx("nav",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:N.jsxs("div",{className:"flex justify-between h-16",children:[N.jsxs("div",{className:"flex",children:[N.jsx(Pi,{to:"/",className:"flex-shrink-0 flex items-center",children:N.jsx(CO,{className:"h-8 w-auto"})}),N.jsxs("div",{className:"hidden sm:ml-6 sm:flex sm:space-x-8",children:[N.jsx(Pi,{to:"/",className:"border-transparent text-gray-500 dark:text-gray-300 hover:border-gray-300 hover:text-gray-700 dark:hover:text-white inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium",children:"Home"}),N.jsx(Pi,{to:"/about",className:"border-transparent text-gray-500 dark:text-gray-300 hover:border-gray-300 hover:text-gray-700 dark:hover:text-white inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium",children:"About"})]})]}),N.jsx("div",{className:"hidden sm:ml-6 sm:flex sm:items-center",children:N.jsx(Pi,{to:"/create",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary",children:"Create Post"})})]})})}),N.jsx("main",{className:"py-10",children:N.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:t})}),N.jsx("footer",{className:"bg-white dark:bg-gray-800",children:N.jsxs("div",{className:"max-w-7xl mx-auto py-12 px-4 sm:px-6 md:flex md:items-center md:justify-between lg:px-8",children:[N.jsxs("div",{className:"flex justify-center space-x-6 md:order-2",children:[N.jsxs("a",{href:"https://twitter.com",className:"text-gray-400 hover:text-gray-500",children:[N.jsx("span",{className:"sr-only",children:"Twitter"}),N.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:N.jsx("path",{d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})})]}),N.jsxs("a",{href:"https://github.com",className:"text-gray-400 hover:text-gray-500",children:[N.jsx("span",{className:"sr-only",children:"GitHub"}),N.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:N.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z",clipRule:"evenodd"})})]})]}),N.jsx("div",{className:"mt-8 md:mt-0 md:order-1",children:N.jsxs("p",{className:"text-center text-base text-gray-400",children:["© ",new Date().getFullYear()," The Listening Home. All rights reserved."]})})]})})]}),kO=()=>N.jsx(VO,{children:N.jsxs(EC,{children:[N.jsx(vs,{path:"/",element:N.jsx(tO,{})}),N.jsx(vs,{path:"/about",element:N.jsx(nO,{})}),N.jsx(vs,{path:"/post/:id",element:N.jsx(rO,{})}),N.jsx(vs,{path:"/create",element:N.jsx(PO,{})}),N.jsx(vs,{path:"*",element:N.jsx(RO,{})})]})});jd.createRoot(document.getElementById("root")).render(N.jsx(Vt.StrictMode,{children:N.jsx(RC,{children:N.jsx(kO,{})})}));
//# sourceMappingURL=index-CjAnbDCB.js.map
